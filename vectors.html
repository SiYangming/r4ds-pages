<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>35 Vectors | R for Data Science (2e)</title>
  <meta name="description" content="This book will teach you how to do data science with R: You’ll learn how to get your data into R, get it into the most useful structure, transform it, visualise it and model it. In this book, you will find a practicum of skills for data science. Just as a chemist learns how to clean test tubes and stock a lab, you’ll learn how to clean data and draw plots—and many other things besides. These are the skills that allow data science to happen, and here you will find the best practices for doing each of these things with R. You’ll learn how to use the grammar of graphics, literate programming, and reproducible research to save time. You’ll also learn how to manage cognitive resources to facilitate discoveries when wrangling, visualising, and exploring data." />
  <meta name="generator" content="bookdown 0.23 and GitBook 2.6.7" />

  <meta property="og:title" content="35 Vectors | R for Data Science (2e)" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://r4ds.had.co.nz/" />
  <meta property="og:image" content="https://r4ds.had.co.nz//cover.png" />
  <meta property="og:description" content="This book will teach you how to do data science with R: You’ll learn how to get your data into R, get it into the most useful structure, transform it, visualise it and model it. In this book, you will find a practicum of skills for data science. Just as a chemist learns how to clean test tubes and stock a lab, you’ll learn how to clean data and draw plots—and many other things besides. These are the skills that allow data science to happen, and here you will find the best practices for doing each of these things with R. You’ll learn how to use the grammar of graphics, literate programming, and reproducible research to save time. You’ll also learn how to manage cognitive resources to facilitate discoveries when wrangling, visualising, and exploring data." />
  <meta name="github-repo" content="hadley/r4ds" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="35 Vectors | R for Data Science (2e)" />
  <meta name="twitter:site" content="@hadley" />
  <meta name="twitter:description" content="This book will teach you how to do data science with R: You’ll learn how to get your data into R, get it into the most useful structure, transform it, visualise it and model it. In this book, you will find a practicum of skills for data science. Just as a chemist learns how to clean test tubes and stock a lab, you’ll learn how to clean data and draw plots—and many other things besides. These are the skills that allow data science to happen, and here you will find the best practices for doing each of these things with R. You’ll learn how to use the grammar of graphics, literate programming, and reproducible research to save time. You’ll also learn how to manage cognitive resources to facilitate discoveries when wrangling, visualising, and exploring data." />
  <meta name="twitter:image" content="https://r4ds.had.co.nz//cover.png" />

<meta name="author" content="Hadley Wickham and Garrett Grolemund" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="functions.html"/>
<link rel="next" href="iteration.html"/>
<script src="libs/header-attrs-2.10/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.4.1/leaflet.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115082821-1');
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="r4ds.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">R for Data Science</a></strong></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i>Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="preface-to-the-second-edition.html"><a href="preface-to-the-second-edition.html"><i class="fa fa-check"></i>Preface to the second edition</a>
<ul>
<li class="chapter" data-level="" data-path="preface-to-the-second-edition.html"><a href="preface-to-the-second-edition.html#major-changes"><i class="fa fa-check"></i>Major changes</a></li>
<li class="chapter" data-level="" data-path="preface-to-the-second-edition.html"><a href="preface-to-the-second-edition.html#acknowledgements-1"><i class="fa fa-check"></i>Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#what-you-will-learn"><i class="fa fa-check"></i><b>1.1</b> What you will learn</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#how-this-book-is-organised"><i class="fa fa-check"></i><b>1.2</b> How this book is organised</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#what-you-wont-learn"><i class="fa fa-check"></i><b>1.3</b> What you won’t learn</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="introduction.html"><a href="introduction.html#big-data"><i class="fa fa-check"></i><b>1.3.1</b> Big data</a></li>
<li class="chapter" data-level="1.3.2" data-path="introduction.html"><a href="introduction.html#python-julia-and-friends"><i class="fa fa-check"></i><b>1.3.2</b> Python, Julia, and friends</a></li>
<li class="chapter" data-level="1.3.3" data-path="introduction.html"><a href="introduction.html#non-rectangular-data"><i class="fa fa-check"></i><b>1.3.3</b> Non-rectangular data</a></li>
<li class="chapter" data-level="1.3.4" data-path="introduction.html"><a href="introduction.html#hypothesis-confirmation"><i class="fa fa-check"></i><b>1.3.4</b> Hypothesis confirmation</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#prerequisites"><i class="fa fa-check"></i><b>1.4</b> Prerequisites</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="introduction.html"><a href="introduction.html#r"><i class="fa fa-check"></i><b>1.4.1</b> R</a></li>
<li class="chapter" data-level="1.4.2" data-path="introduction.html"><a href="introduction.html#rstudio"><i class="fa fa-check"></i><b>1.4.2</b> RStudio</a></li>
<li class="chapter" data-level="1.4.3" data-path="introduction.html"><a href="introduction.html#the-tidyverse"><i class="fa fa-check"></i><b>1.4.3</b> The tidyverse</a></li>
<li class="chapter" data-level="1.4.4" data-path="introduction.html"><a href="introduction.html#other-packages"><i class="fa fa-check"></i><b>1.4.4</b> Other packages</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="introduction.html"><a href="introduction.html#running-r-code"><i class="fa fa-check"></i><b>1.5</b> Running R code</a></li>
<li class="chapter" data-level="1.6" data-path="introduction.html"><a href="introduction.html#getting-help-and-learning-more"><i class="fa fa-check"></i><b>1.6</b> Getting help and learning more</a></li>
<li class="chapter" data-level="1.7" data-path="introduction.html"><a href="introduction.html#acknowledgements-2"><i class="fa fa-check"></i><b>1.7</b> Acknowledgements</a></li>
<li class="chapter" data-level="1.8" data-path="introduction.html"><a href="introduction.html#colophon"><i class="fa fa-check"></i><b>1.8</b> Colophon</a></li>
</ul></li>
<li class="part"><span><b>I Whole game</b></span></li>
<li class="chapter" data-level="2" data-path="explore-intro.html"><a href="explore-intro.html"><i class="fa fa-check"></i><b>2</b> Introduction</a></li>
<li class="chapter" data-level="3" data-path="data-visualisation.html"><a href="data-visualisation.html"><i class="fa fa-check"></i><b>3</b> Data visualisation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-visualisation.html"><a href="data-visualisation.html#introduction-1"><i class="fa fa-check"></i><b>3.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="data-visualisation.html"><a href="data-visualisation.html#prerequisites-1"><i class="fa fa-check"></i><b>3.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="data-visualisation.html"><a href="data-visualisation.html#first-steps"><i class="fa fa-check"></i><b>3.2</b> First steps</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="data-visualisation.html"><a href="data-visualisation.html#the-mpg-data-frame"><i class="fa fa-check"></i><b>3.2.1</b> The <code>mpg</code> data frame</a></li>
<li class="chapter" data-level="3.2.2" data-path="data-visualisation.html"><a href="data-visualisation.html#creating-a-ggplot"><i class="fa fa-check"></i><b>3.2.2</b> Creating a ggplot</a></li>
<li class="chapter" data-level="3.2.3" data-path="data-visualisation.html"><a href="data-visualisation.html#a-graphing-template"><i class="fa fa-check"></i><b>3.2.3</b> A graphing template</a></li>
<li class="chapter" data-level="3.2.4" data-path="data-visualisation.html"><a href="data-visualisation.html#exercises"><i class="fa fa-check"></i><b>3.2.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data-visualisation.html"><a href="data-visualisation.html#aesthetic-mappings"><i class="fa fa-check"></i><b>3.3</b> Aesthetic mappings</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="data-visualisation.html"><a href="data-visualisation.html#exercises-1"><i class="fa fa-check"></i><b>3.3.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="data-visualisation.html"><a href="data-visualisation.html#common-problems"><i class="fa fa-check"></i><b>3.4</b> Common problems</a></li>
<li class="chapter" data-level="3.5" data-path="data-visualisation.html"><a href="data-visualisation.html#facets"><i class="fa fa-check"></i><b>3.5</b> Facets</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="data-visualisation.html"><a href="data-visualisation.html#exercises-2"><i class="fa fa-check"></i><b>3.5.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="data-visualisation.html"><a href="data-visualisation.html#geometric-objects"><i class="fa fa-check"></i><b>3.6</b> Geometric objects</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="data-visualisation.html"><a href="data-visualisation.html#exercises-3"><i class="fa fa-check"></i><b>3.6.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="data-visualisation.html"><a href="data-visualisation.html#statistical-transformations"><i class="fa fa-check"></i><b>3.7</b> Statistical transformations</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="data-visualisation.html"><a href="data-visualisation.html#exercises-4"><i class="fa fa-check"></i><b>3.7.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="data-visualisation.html"><a href="data-visualisation.html#position-adjustments"><i class="fa fa-check"></i><b>3.8</b> Position adjustments</a>
<ul>
<li class="chapter" data-level="3.8.1" data-path="data-visualisation.html"><a href="data-visualisation.html#exercises-5"><i class="fa fa-check"></i><b>3.8.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="data-visualisation.html"><a href="data-visualisation.html#coordinate-systems"><i class="fa fa-check"></i><b>3.9</b> Coordinate systems</a>
<ul>
<li class="chapter" data-level="3.9.1" data-path="data-visualisation.html"><a href="data-visualisation.html#exercises-6"><i class="fa fa-check"></i><b>3.9.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.10" data-path="data-visualisation.html"><a href="data-visualisation.html#the-layered-grammar-of-graphics"><i class="fa fa-check"></i><b>3.10</b> The layered grammar of graphics</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="workflow-basics.html"><a href="workflow-basics.html"><i class="fa fa-check"></i><b>4</b> Workflow: basics</a>
<ul>
<li class="chapter" data-level="4.1" data-path="workflow-basics.html"><a href="workflow-basics.html#coding-basics"><i class="fa fa-check"></i><b>4.1</b> Coding basics</a></li>
<li class="chapter" data-level="4.2" data-path="workflow-basics.html"><a href="workflow-basics.html#whats-in-a-name"><i class="fa fa-check"></i><b>4.2</b> What’s in a name?</a></li>
<li class="chapter" data-level="4.3" data-path="workflow-basics.html"><a href="workflow-basics.html#calling-functions"><i class="fa fa-check"></i><b>4.3</b> Calling functions</a></li>
<li class="chapter" data-level="4.4" data-path="workflow-basics.html"><a href="workflow-basics.html#exercises-7"><i class="fa fa-check"></i><b>4.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-transform.html"><a href="data-transform.html"><i class="fa fa-check"></i><b>5</b> Data transformation</a>
<ul>
<li class="chapter" data-level="5.1" data-path="data-transform.html"><a href="data-transform.html#introduction-2"><i class="fa fa-check"></i><b>5.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="data-transform.html"><a href="data-transform.html#prerequisites-2"><i class="fa fa-check"></i><b>5.1.1</b> Prerequisites</a></li>
<li class="chapter" data-level="5.1.2" data-path="data-transform.html"><a href="data-transform.html#nycflights13"><i class="fa fa-check"></i><b>5.1.2</b> nycflights13</a></li>
<li class="chapter" data-level="5.1.3" data-path="data-transform.html"><a href="data-transform.html#dplyr-basics"><i class="fa fa-check"></i><b>5.1.3</b> dplyr basics</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="data-transform.html"><a href="data-transform.html#rows"><i class="fa fa-check"></i><b>5.2</b> Rows</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="data-transform.html"><a href="data-transform.html#filter"><i class="fa fa-check"></i><b>5.2.1</b> <code>filter()</code></a></li>
<li class="chapter" data-level="5.2.2" data-path="data-transform.html"><a href="data-transform.html#arrange"><i class="fa fa-check"></i><b>5.2.2</b> <code>arrange()</code></a></li>
<li class="chapter" data-level="5.2.3" data-path="data-transform.html"><a href="data-transform.html#exercises-8"><i class="fa fa-check"></i><b>5.2.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="data-transform.html"><a href="data-transform.html#columns"><i class="fa fa-check"></i><b>5.3</b> Columns</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="data-transform.html"><a href="data-transform.html#mutate"><i class="fa fa-check"></i><b>5.3.1</b> <code>mutate()</code></a></li>
<li class="chapter" data-level="5.3.2" data-path="data-transform.html"><a href="data-transform.html#select"><i class="fa fa-check"></i><b>5.3.2</b> <code>select()</code></a></li>
<li class="chapter" data-level="5.3.3" data-path="data-transform.html"><a href="data-transform.html#rename"><i class="fa fa-check"></i><b>5.3.3</b> <code>rename()</code></a></li>
<li class="chapter" data-level="5.3.4" data-path="data-transform.html"><a href="data-transform.html#relocate"><i class="fa fa-check"></i><b>5.3.4</b> <code>relocate()</code></a></li>
<li class="chapter" data-level="5.3.5" data-path="data-transform.html"><a href="data-transform.html#exercises-9"><i class="fa fa-check"></i><b>5.3.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="data-transform.html"><a href="data-transform.html#groups"><i class="fa fa-check"></i><b>5.4</b> Groups</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="data-transform.html"><a href="data-transform.html#group_by"><i class="fa fa-check"></i><b>5.4.1</b> <code>group_by()</code></a></li>
<li class="chapter" data-level="5.4.2" data-path="data-transform.html"><a href="data-transform.html#summarise"><i class="fa fa-check"></i><b>5.4.2</b> <code>summarise()</code></a></li>
<li class="chapter" data-level="5.4.3" data-path="data-transform.html"><a href="data-transform.html#combining-multiple-operations"><i class="fa fa-check"></i><b>5.4.3</b> Combining multiple operations</a></li>
<li class="chapter" data-level="5.4.4" data-path="data-transform.html"><a href="data-transform.html#grouping-by-multiple-variables"><i class="fa fa-check"></i><b>5.4.4</b> Grouping by multiple variables</a></li>
<li class="chapter" data-level="5.4.5" data-path="data-transform.html"><a href="data-transform.html#ungrouping"><i class="fa fa-check"></i><b>5.4.5</b> Ungrouping</a></li>
<li class="chapter" data-level="5.4.6" data-path="data-transform.html"><a href="data-transform.html#selecting-rows"><i class="fa fa-check"></i><b>5.4.6</b> Selecting rows</a></li>
<li class="chapter" data-level="5.4.7" data-path="data-transform.html"><a href="data-transform.html#other-verbs"><i class="fa fa-check"></i><b>5.4.7</b> Other verbs</a></li>
<li class="chapter" data-level="5.4.8" data-path="data-transform.html"><a href="data-transform.html#exercises-10"><i class="fa fa-check"></i><b>5.4.8</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="data-transform.html"><a href="data-transform.html#case-study-aggregates-and-sample-size"><i class="fa fa-check"></i><b>5.5</b> Case study: aggregates and sample size</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="data-tidy.html"><a href="data-tidy.html"><i class="fa fa-check"></i><b>6</b> Data tidying</a>
<ul>
<li class="chapter" data-level="6.1" data-path="data-tidy.html"><a href="data-tidy.html#introduction-3"><i class="fa fa-check"></i><b>6.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="data-tidy.html"><a href="data-tidy.html#prerequisites-3"><i class="fa fa-check"></i><b>6.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="data-tidy.html"><a href="data-tidy.html#tidy-data"><i class="fa fa-check"></i><b>6.2</b> Tidy data</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="data-tidy.html"><a href="data-tidy.html#exercises-11"><i class="fa fa-check"></i><b>6.2.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="data-tidy.html"><a href="data-tidy.html#pivoting"><i class="fa fa-check"></i><b>6.3</b> Pivoting</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="data-tidy.html"><a href="data-tidy.html#longer"><i class="fa fa-check"></i><b>6.3.1</b> Longer</a></li>
<li class="chapter" data-level="6.3.2" data-path="data-tidy.html"><a href="data-tidy.html#wider"><i class="fa fa-check"></i><b>6.3.2</b> Wider</a></li>
<li class="chapter" data-level="6.3.3" data-path="data-tidy.html"><a href="data-tidy.html#exercises-12"><i class="fa fa-check"></i><b>6.3.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="data-tidy.html"><a href="data-tidy.html#case-study"><i class="fa fa-check"></i><b>6.4</b> Case study</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="data-tidy.html"><a href="data-tidy.html#exercises-13"><i class="fa fa-check"></i><b>6.4.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="data-tidy.html"><a href="data-tidy.html#non-tidy-data"><i class="fa fa-check"></i><b>6.5</b> Non-tidy data</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="workflow-pipes.html"><a href="workflow-pipes.html"><i class="fa fa-check"></i><b>7</b> Workflow: pipes</a></li>
<li class="chapter" data-level="8" data-path="data-import.html"><a href="data-import.html"><i class="fa fa-check"></i><b>8</b> Data import</a>
<ul>
<li class="chapter" data-level="8.1" data-path="data-import.html"><a href="data-import.html#introduction-4"><i class="fa fa-check"></i><b>8.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="data-import.html"><a href="data-import.html#prerequisites-4"><i class="fa fa-check"></i><b>8.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="data-import.html"><a href="data-import.html#getting-started"><i class="fa fa-check"></i><b>8.2</b> Getting started</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="data-import.html"><a href="data-import.html#compared-to-base-r"><i class="fa fa-check"></i><b>8.2.1</b> Compared to base R</a></li>
<li class="chapter" data-level="8.2.2" data-path="data-import.html"><a href="data-import.html#exercises-14"><i class="fa fa-check"></i><b>8.2.2</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="data-import.html"><a href="data-import.html#parsing-a-vector"><i class="fa fa-check"></i><b>8.3</b> Parsing a vector</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="data-import.html"><a href="data-import.html#numbers"><i class="fa fa-check"></i><b>8.3.1</b> Numbers</a></li>
<li class="chapter" data-level="8.3.2" data-path="data-import.html"><a href="data-import.html#readr-strings"><i class="fa fa-check"></i><b>8.3.2</b> Strings</a></li>
<li class="chapter" data-level="8.3.3" data-path="data-import.html"><a href="data-import.html#readr-factors"><i class="fa fa-check"></i><b>8.3.3</b> Factors</a></li>
<li class="chapter" data-level="8.3.4" data-path="data-import.html"><a href="data-import.html#readr-datetimes"><i class="fa fa-check"></i><b>8.3.4</b> Dates, date-times, and times</a></li>
<li class="chapter" data-level="8.3.5" data-path="data-import.html"><a href="data-import.html#exercises-15"><i class="fa fa-check"></i><b>8.3.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="data-import.html"><a href="data-import.html#parsing-a-file"><i class="fa fa-check"></i><b>8.4</b> Parsing a file</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="data-import.html"><a href="data-import.html#strategy"><i class="fa fa-check"></i><b>8.4.1</b> Strategy</a></li>
<li class="chapter" data-level="8.4.2" data-path="data-import.html"><a href="data-import.html#problems"><i class="fa fa-check"></i><b>8.4.2</b> Problems</a></li>
<li class="chapter" data-level="8.4.3" data-path="data-import.html"><a href="data-import.html#other-strategies"><i class="fa fa-check"></i><b>8.4.3</b> Other strategies</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="data-import.html"><a href="data-import.html#writing-to-a-file"><i class="fa fa-check"></i><b>8.5</b> Writing to a file</a></li>
<li class="chapter" data-level="8.6" data-path="data-import.html"><a href="data-import.html#other-types-of-data"><i class="fa fa-check"></i><b>8.6</b> Other types of data</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="workflow-scripts.html"><a href="workflow-scripts.html"><i class="fa fa-check"></i><b>9</b> Workflow: scripts</a>
<ul>
<li class="chapter" data-level="9.1" data-path="workflow-scripts.html"><a href="workflow-scripts.html#running-code"><i class="fa fa-check"></i><b>9.1</b> Running code</a></li>
<li class="chapter" data-level="9.2" data-path="workflow-scripts.html"><a href="workflow-scripts.html#rstudio-diagnostics"><i class="fa fa-check"></i><b>9.2</b> RStudio diagnostics</a></li>
<li class="chapter" data-level="9.3" data-path="workflow-scripts.html"><a href="workflow-scripts.html#exercises-16"><i class="fa fa-check"></i><b>9.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html"><i class="fa fa-check"></i><b>10</b> Exploratory Data Analysis</a>
<ul>
<li class="chapter" data-level="10.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#introduction-5"><i class="fa fa-check"></i><b>10.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#prerequisites-5"><i class="fa fa-check"></i><b>10.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#questions"><i class="fa fa-check"></i><b>10.2</b> Questions</a></li>
<li class="chapter" data-level="10.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#variation"><i class="fa fa-check"></i><b>10.3</b> Variation</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#visualising-distributions"><i class="fa fa-check"></i><b>10.3.1</b> Visualising distributions</a></li>
<li class="chapter" data-level="10.3.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#typical-values"><i class="fa fa-check"></i><b>10.3.2</b> Typical values</a></li>
<li class="chapter" data-level="10.3.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#unusual-values"><i class="fa fa-check"></i><b>10.3.3</b> Unusual values</a></li>
<li class="chapter" data-level="10.3.4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#exercises-17"><i class="fa fa-check"></i><b>10.3.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#missing-values-eda"><i class="fa fa-check"></i><b>10.4</b> Missing values</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#exercises-18"><i class="fa fa-check"></i><b>10.4.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#covariation"><i class="fa fa-check"></i><b>10.5</b> Covariation</a>
<ul>
<li class="chapter" data-level="10.5.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#cat-cont"><i class="fa fa-check"></i><b>10.5.1</b> A categorical and continuous variable</a></li>
<li class="chapter" data-level="10.5.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#two-categorical-variables"><i class="fa fa-check"></i><b>10.5.2</b> Two categorical variables</a></li>
<li class="chapter" data-level="10.5.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#two-continuous-variables"><i class="fa fa-check"></i><b>10.5.3</b> Two continuous variables</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#patterns-and-models"><i class="fa fa-check"></i><b>10.6</b> Patterns and models</a></li>
<li class="chapter" data-level="10.7" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#ggplot2-calls"><i class="fa fa-check"></i><b>10.7</b> ggplot2 calls</a></li>
<li class="chapter" data-level="10.8" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#learning-more"><i class="fa fa-check"></i><b>10.8</b> Learning more</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="workflow-projects.html"><a href="workflow-projects.html"><i class="fa fa-check"></i><b>11</b> Workflow: projects</a>
<ul>
<li class="chapter" data-level="11.1" data-path="workflow-projects.html"><a href="workflow-projects.html#what-is-real"><i class="fa fa-check"></i><b>11.1</b> What is real?</a></li>
<li class="chapter" data-level="11.2" data-path="workflow-projects.html"><a href="workflow-projects.html#where-does-your-analysis-live"><i class="fa fa-check"></i><b>11.2</b> Where does your analysis live?</a></li>
<li class="chapter" data-level="11.3" data-path="workflow-projects.html"><a href="workflow-projects.html#paths-and-directories"><i class="fa fa-check"></i><b>11.3</b> Paths and directories</a></li>
<li class="chapter" data-level="11.4" data-path="workflow-projects.html"><a href="workflow-projects.html#rstudio-projects"><i class="fa fa-check"></i><b>11.4</b> RStudio projects</a></li>
<li class="chapter" data-level="11.5" data-path="workflow-projects.html"><a href="workflow-projects.html#summary"><i class="fa fa-check"></i><b>11.5</b> Summary</a></li>
</ul></li>
<li class="part"><span><b>II Transform</b></span></li>
<li class="chapter" data-level="12" data-path="data-types-intro.html"><a href="data-types-intro.html"><i class="fa fa-check"></i><b>12</b> Introduction</a></li>
<li class="chapter" data-level="13" data-path="tibbles.html"><a href="tibbles.html"><i class="fa fa-check"></i><b>13</b> Tibbles</a>
<ul>
<li class="chapter" data-level="13.1" data-path="tibbles.html"><a href="tibbles.html#introduction-6"><i class="fa fa-check"></i><b>13.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="tibbles.html"><a href="tibbles.html#prerequisites-6"><i class="fa fa-check"></i><b>13.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="tibbles.html"><a href="tibbles.html#creating-tibbles"><i class="fa fa-check"></i><b>13.2</b> Creating tibbles</a></li>
<li class="chapter" data-level="13.3" data-path="tibbles.html"><a href="tibbles.html#tibbles-vs.-data.frame"><i class="fa fa-check"></i><b>13.3</b> Tibbles vs. data.frame</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="tibbles.html"><a href="tibbles.html#printing"><i class="fa fa-check"></i><b>13.3.1</b> Printing</a></li>
<li class="chapter" data-level="13.3.2" data-path="tibbles.html"><a href="tibbles.html#subsetting"><i class="fa fa-check"></i><b>13.3.2</b> Subsetting</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="tibbles.html"><a href="tibbles.html#interacting-with-older-code"><i class="fa fa-check"></i><b>13.4</b> Interacting with older code</a></li>
<li class="chapter" data-level="13.5" data-path="tibbles.html"><a href="tibbles.html#exercises-22"><i class="fa fa-check"></i><b>13.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="relational-data.html"><a href="relational-data.html"><i class="fa fa-check"></i><b>14</b> Relational data</a>
<ul>
<li class="chapter" data-level="14.1" data-path="relational-data.html"><a href="relational-data.html#introduction-7"><i class="fa fa-check"></i><b>14.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="14.1.1" data-path="relational-data.html"><a href="relational-data.html#prerequisites-7"><i class="fa fa-check"></i><b>14.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="relational-data.html"><a href="relational-data.html#nycflights13-relational"><i class="fa fa-check"></i><b>14.2</b> nycflights13</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="relational-data.html"><a href="relational-data.html#exercises-23"><i class="fa fa-check"></i><b>14.2.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="relational-data.html"><a href="relational-data.html#keys"><i class="fa fa-check"></i><b>14.3</b> Keys</a>
<ul>
<li class="chapter" data-level="14.3.1" data-path="relational-data.html"><a href="relational-data.html#exercises-24"><i class="fa fa-check"></i><b>14.3.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="relational-data.html"><a href="relational-data.html#mutating-joins"><i class="fa fa-check"></i><b>14.4</b> Mutating joins</a>
<ul>
<li class="chapter" data-level="14.4.1" data-path="relational-data.html"><a href="relational-data.html#understanding-joins"><i class="fa fa-check"></i><b>14.4.1</b> Understanding joins</a></li>
<li class="chapter" data-level="14.4.2" data-path="relational-data.html"><a href="relational-data.html#inner-join"><i class="fa fa-check"></i><b>14.4.2</b> Inner join</a></li>
<li class="chapter" data-level="14.4.3" data-path="relational-data.html"><a href="relational-data.html#outer-join"><i class="fa fa-check"></i><b>14.4.3</b> Outer joins</a></li>
<li class="chapter" data-level="14.4.4" data-path="relational-data.html"><a href="relational-data.html#join-matches"><i class="fa fa-check"></i><b>14.4.4</b> Duplicate keys</a></li>
<li class="chapter" data-level="14.4.5" data-path="relational-data.html"><a href="relational-data.html#join-by"><i class="fa fa-check"></i><b>14.4.5</b> Defining the key columns</a></li>
<li class="chapter" data-level="14.4.6" data-path="relational-data.html"><a href="relational-data.html#exercises-25"><i class="fa fa-check"></i><b>14.4.6</b> Exercises</a></li>
<li class="chapter" data-level="14.4.7" data-path="relational-data.html"><a href="relational-data.html#other-implementations"><i class="fa fa-check"></i><b>14.4.7</b> Other implementations</a></li>
</ul></li>
<li class="chapter" data-level="14.5" data-path="relational-data.html"><a href="relational-data.html#filtering-joins"><i class="fa fa-check"></i><b>14.5</b> Filtering joins</a>
<ul>
<li class="chapter" data-level="14.5.1" data-path="relational-data.html"><a href="relational-data.html#exercises-26"><i class="fa fa-check"></i><b>14.5.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="14.6" data-path="relational-data.html"><a href="relational-data.html#join-problems"><i class="fa fa-check"></i><b>14.6</b> Join problems</a></li>
<li class="chapter" data-level="14.7" data-path="relational-data.html"><a href="relational-data.html#set-operations"><i class="fa fa-check"></i><b>14.7</b> Set operations</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="vector-tools.html"><a href="vector-tools.html"><i class="fa fa-check"></i><b>15</b> Vector tools</a>
<ul>
<li class="chapter" data-level="15.1" data-path="vector-tools.html"><a href="vector-tools.html#introduction-8"><i class="fa fa-check"></i><b>15.1</b> Introduction</a></li>
<li class="chapter" data-level="15.2" data-path="vector-tools.html"><a href="vector-tools.html#counts"><i class="fa fa-check"></i><b>15.2</b> Counts</a></li>
<li class="chapter" data-level="15.3" data-path="vector-tools.html"><a href="vector-tools.html#window-functions"><i class="fa fa-check"></i><b>15.3</b> Window functions</a>
<ul>
<li class="chapter" data-level="15.3.1" data-path="vector-tools.html"><a href="vector-tools.html#dplyr"><i class="fa fa-check"></i><b>15.3.1</b> dplyr</a></li>
<li class="chapter" data-level="15.3.2" data-path="vector-tools.html"><a href="vector-tools.html#exercises-27"><i class="fa fa-check"></i><b>15.3.2</b> Exercises</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="logicals-numbers.html"><a href="logicals-numbers.html"><i class="fa fa-check"></i><b>16</b> Logicals and numbers</a>
<ul>
<li class="chapter" data-level="16.1" data-path="logicals-numbers.html"><a href="logicals-numbers.html#introduction-9"><i class="fa fa-check"></i><b>16.1</b> Introduction</a></li>
<li class="chapter" data-level="16.2" data-path="logicals-numbers.html"><a href="logicals-numbers.html#logical-operators"><i class="fa fa-check"></i><b>16.2</b> Logical operators</a></li>
<li class="chapter" data-level="16.3" data-path="logicals-numbers.html"><a href="logicals-numbers.html#summaries"><i class="fa fa-check"></i><b>16.3</b> Summaries</a>
<ul>
<li class="chapter" data-level="16.3.1" data-path="logicals-numbers.html"><a href="logicals-numbers.html#exercises-28"><i class="fa fa-check"></i><b>16.3.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="logicals-numbers.html"><a href="logicals-numbers.html#basic-math"><i class="fa fa-check"></i><b>16.4</b> Basic math</a>
<ul>
<li class="chapter" data-level="16.4.1" data-path="logicals-numbers.html"><a href="logicals-numbers.html#recycling-rules"><i class="fa fa-check"></i><b>16.4.1</b> Recycling rules</a></li>
</ul></li>
<li class="chapter" data-level="16.5" data-path="logicals-numbers.html"><a href="logicals-numbers.html#summaries-1"><i class="fa fa-check"></i><b>16.5</b> Summaries</a>
<ul>
<li class="chapter" data-level="16.5.1" data-path="logicals-numbers.html"><a href="logicals-numbers.html#exercises-29"><i class="fa fa-check"></i><b>16.5.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="16.6" data-path="logicals-numbers.html"><a href="logicals-numbers.html#floating-point"><i class="fa fa-check"></i><b>16.6</b> Floating point</a></li>
<li class="chapter" data-level="16.7" data-path="logicals-numbers.html"><a href="logicals-numbers.html#exercises-30"><i class="fa fa-check"></i><b>16.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>17</b> Missing values</a>
<ul>
<li class="chapter" data-level="17.1" data-path="missing-values.html"><a href="missing-values.html#introduction-10"><i class="fa fa-check"></i><b>17.1</b> Introduction</a></li>
<li class="chapter" data-level="17.2" data-path="missing-values.html"><a href="missing-values.html#basics"><i class="fa fa-check"></i><b>17.2</b> Basics</a>
<ul>
<li class="chapter" data-level="17.2.1" data-path="missing-values.html"><a href="missing-values.html#missing-values-filter"><i class="fa fa-check"></i><b>17.2.1</b> Missing values</a></li>
<li class="chapter" data-level="17.2.2" data-path="missing-values.html"><a href="missing-values.html#exercises-31"><i class="fa fa-check"></i><b>17.2.2</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="missing-values.html"><a href="missing-values.html#missing-values-tidy"><i class="fa fa-check"></i><b>17.3</b> Explicit vs implicit missing values</a>
<ul>
<li class="chapter" data-level="17.3.1" data-path="missing-values.html"><a href="missing-values.html#exercises-32"><i class="fa fa-check"></i><b>17.3.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="17.4" data-path="missing-values.html"><a href="missing-values.html#dplyr-verbs"><i class="fa fa-check"></i><b>17.4</b> dplyr verbs</a></li>
<li class="chapter" data-level="17.5" data-path="missing-values.html"><a href="missing-values.html#exercises-33"><i class="fa fa-check"></i><b>17.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="strings.html"><a href="strings.html"><i class="fa fa-check"></i><b>18</b> Strings</a>
<ul>
<li class="chapter" data-level="18.1" data-path="strings.html"><a href="strings.html#introduction-11"><i class="fa fa-check"></i><b>18.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="18.1.1" data-path="strings.html"><a href="strings.html#prerequisites-8"><i class="fa fa-check"></i><b>18.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="18.2" data-path="strings.html"><a href="strings.html#creating-a-string"><i class="fa fa-check"></i><b>18.2</b> Creating a string</a>
<ul>
<li class="chapter" data-level="18.2.1" data-path="strings.html"><a href="strings.html#escapes"><i class="fa fa-check"></i><b>18.2.1</b> Escapes</a></li>
<li class="chapter" data-level="18.2.2" data-path="strings.html"><a href="strings.html#raw-strings"><i class="fa fa-check"></i><b>18.2.2</b> Raw strings</a></li>
<li class="chapter" data-level="18.2.3" data-path="strings.html"><a href="strings.html#other-special-characters"><i class="fa fa-check"></i><b>18.2.3</b> Other special characters</a></li>
</ul></li>
<li class="chapter" data-level="18.3" data-path="strings.html"><a href="strings.html#combining-strings"><i class="fa fa-check"></i><b>18.3</b> Combining strings</a></li>
<li class="chapter" data-level="18.4" data-path="strings.html"><a href="strings.html#length-and-subsetting"><i class="fa fa-check"></i><b>18.4</b> Length and subsetting</a>
<ul>
<li class="chapter" data-level="18.4.1" data-path="strings.html"><a href="strings.html#exercises-34"><i class="fa fa-check"></i><b>18.4.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="18.5" data-path="strings.html"><a href="strings.html#long-strings"><i class="fa fa-check"></i><b>18.5</b> Long strings</a></li>
<li class="chapter" data-level="18.6" data-path="strings.html"><a href="strings.html#string-summaries"><i class="fa fa-check"></i><b>18.6</b> String summaries</a></li>
<li class="chapter" data-level="18.7" data-path="strings.html"><a href="strings.html#detect-matches"><i class="fa fa-check"></i><b>18.7</b> Detect matches</a>
<ul>
<li class="chapter" data-level="18.7.1" data-path="strings.html"><a href="strings.html#exercises-35"><i class="fa fa-check"></i><b>18.7.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="18.8" data-path="strings.html"><a href="strings.html#introduction-to-regular-expressions"><i class="fa fa-check"></i><b>18.8</b> Introduction to regular expressions</a>
<ul>
<li class="chapter" data-level="18.8.1" data-path="strings.html"><a href="strings.html#exercises-36"><i class="fa fa-check"></i><b>18.8.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="18.9" data-path="strings.html"><a href="strings.html#replacing-matches"><i class="fa fa-check"></i><b>18.9</b> Replacing matches</a></li>
<li class="chapter" data-level="18.10" data-path="strings.html"><a href="strings.html#extract-full-matches"><i class="fa fa-check"></i><b>18.10</b> Extract full matches</a>
<ul>
<li class="chapter" data-level="18.10.1" data-path="strings.html"><a href="strings.html#exercises-38"><i class="fa fa-check"></i><b>18.10.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="18.11" data-path="strings.html"><a href="strings.html#strings---columns"><i class="fa fa-check"></i><b>18.11</b> Strings -&gt; Columns</a></li>
<li class="chapter" data-level="18.12" data-path="strings.html"><a href="strings.html#separate"><i class="fa fa-check"></i><b>18.12</b> Separate</a></li>
<li class="chapter" data-level="18.13" data-path="strings.html"><a href="strings.html#strings---rows"><i class="fa fa-check"></i><b>18.13</b> Strings -&gt; Rows</a>
<ul>
<li class="chapter" data-level="18.13.1" data-path="strings.html"><a href="strings.html#exercises-39"><i class="fa fa-check"></i><b>18.13.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="18.14" data-path="strings.html"><a href="strings.html#other-languages"><i class="fa fa-check"></i><b>18.14</b> Other writing systems</a>
<ul>
<li class="chapter" data-level="18.14.1" data-path="strings.html"><a href="strings.html#encoding"><i class="fa fa-check"></i><b>18.14.1</b> Encoding</a></li>
<li class="chapter" data-level="18.14.2" data-path="strings.html"><a href="strings.html#length-and-subsetting-1"><i class="fa fa-check"></i><b>18.14.2</b> Length and subsetting</a></li>
<li class="chapter" data-level="18.14.3" data-path="strings.html"><a href="strings.html#collation-rules"><i class="fa fa-check"></i><b>18.14.3</b> Collation rules</a></li>
<li class="chapter" data-level="18.14.4" data-path="strings.html"><a href="strings.html#upper-and-lower-case"><i class="fa fa-check"></i><b>18.14.4</b> Upper and lower case</a></li>
<li class="chapter" data-level="18.14.5" data-path="strings.html"><a href="strings.html#sorting"><i class="fa fa-check"></i><b>18.14.5</b> Sorting</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="19" data-path="regular-expressions.html"><a href="regular-expressions.html"><i class="fa fa-check"></i><b>19</b> Regular expressions</a>
<ul>
<li class="chapter" data-level="19.1" data-path="regular-expressions.html"><a href="regular-expressions.html#introduction-12"><i class="fa fa-check"></i><b>19.1</b> Introduction</a></li>
<li class="chapter" data-level="19.2" data-path="regular-expressions.html"><a href="regular-expressions.html#matching-patterns-with-regular-expressions"><i class="fa fa-check"></i><b>19.2</b> Matching patterns with regular expressions</a>
<ul>
<li class="chapter" data-level="19.2.1" data-path="regular-expressions.html"><a href="regular-expressions.html#prerequisites-9"><i class="fa fa-check"></i><b>19.2.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="19.3" data-path="regular-expressions.html"><a href="regular-expressions.html#basic-matches"><i class="fa fa-check"></i><b>19.3</b> Basic matches</a>
<ul>
<li class="chapter" data-level="19.3.1" data-path="regular-expressions.html"><a href="regular-expressions.html#exercises-40"><i class="fa fa-check"></i><b>19.3.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="19.4" data-path="regular-expressions.html"><a href="regular-expressions.html#anchors"><i class="fa fa-check"></i><b>19.4</b> Anchors</a>
<ul>
<li class="chapter" data-level="19.4.1" data-path="regular-expressions.html"><a href="regular-expressions.html#exercises-41"><i class="fa fa-check"></i><b>19.4.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="19.5" data-path="regular-expressions.html"><a href="regular-expressions.html#overlapping-and-zero-width-patterns"><i class="fa fa-check"></i><b>19.5</b> Overlapping and zero-width patterns</a></li>
<li class="chapter" data-level="19.6" data-path="regular-expressions.html"><a href="regular-expressions.html#character-classes-and-alternatives"><i class="fa fa-check"></i><b>19.6</b> Character classes and alternatives</a>
<ul>
<li class="chapter" data-level="19.6.1" data-path="regular-expressions.html"><a href="regular-expressions.html#exercises-42"><i class="fa fa-check"></i><b>19.6.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="19.7" data-path="regular-expressions.html"><a href="regular-expressions.html#repetition-quantifiers"><i class="fa fa-check"></i><b>19.7</b> Repetition / Quantifiers</a>
<ul>
<li class="chapter" data-level="19.7.1" data-path="regular-expressions.html"><a href="regular-expressions.html#exercises-43"><i class="fa fa-check"></i><b>19.7.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="19.8" data-path="regular-expressions.html"><a href="regular-expressions.html#grouping-and-backreferences"><i class="fa fa-check"></i><b>19.8</b> Grouping and backreferences</a>
<ul>
<li class="chapter" data-level="19.8.1" data-path="regular-expressions.html"><a href="regular-expressions.html#exercises-44"><i class="fa fa-check"></i><b>19.8.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="19.9" data-path="regular-expressions.html"><a href="regular-expressions.html#other-uses-of-regular-expressions"><i class="fa fa-check"></i><b>19.9</b> Other uses of regular expressions</a></li>
<li class="chapter" data-level="19.10" data-path="regular-expressions.html"><a href="regular-expressions.html#options"><i class="fa fa-check"></i><b>19.10</b> Options</a></li>
<li class="chapter" data-level="19.11" data-path="regular-expressions.html"><a href="regular-expressions.html#a-caution"><i class="fa fa-check"></i><b>19.11</b> A caution</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="factors.html"><a href="factors.html"><i class="fa fa-check"></i><b>20</b> Factors</a>
<ul>
<li class="chapter" data-level="20.1" data-path="factors.html"><a href="factors.html#introduction-13"><i class="fa fa-check"></i><b>20.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="20.1.1" data-path="factors.html"><a href="factors.html#prerequisites-10"><i class="fa fa-check"></i><b>20.1.1</b> Prerequisites</a></li>
<li class="chapter" data-level="20.1.2" data-path="factors.html"><a href="factors.html#learning-more-1"><i class="fa fa-check"></i><b>20.1.2</b> Learning more</a></li>
</ul></li>
<li class="chapter" data-level="20.2" data-path="factors.html"><a href="factors.html#creating-factors"><i class="fa fa-check"></i><b>20.2</b> Creating factors</a></li>
<li class="chapter" data-level="20.3" data-path="factors.html"><a href="factors.html#general-social-survey"><i class="fa fa-check"></i><b>20.3</b> General Social Survey</a>
<ul>
<li class="chapter" data-level="20.3.1" data-path="factors.html"><a href="factors.html#exercise"><i class="fa fa-check"></i><b>20.3.1</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="20.4" data-path="factors.html"><a href="factors.html#modifying-factor-order"><i class="fa fa-check"></i><b>20.4</b> Modifying factor order</a>
<ul>
<li class="chapter" data-level="20.4.1" data-path="factors.html"><a href="factors.html#exercises-45"><i class="fa fa-check"></i><b>20.4.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="20.5" data-path="factors.html"><a href="factors.html#modifying-factor-levels"><i class="fa fa-check"></i><b>20.5</b> Modifying factor levels</a>
<ul>
<li class="chapter" data-level="20.5.1" data-path="factors.html"><a href="factors.html#exercises-46"><i class="fa fa-check"></i><b>20.5.1</b> Exercises</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="21" data-path="dates-and-times.html"><a href="dates-and-times.html"><i class="fa fa-check"></i><b>21</b> Dates and times</a>
<ul>
<li class="chapter" data-level="21.1" data-path="dates-and-times.html"><a href="dates-and-times.html#introduction-14"><i class="fa fa-check"></i><b>21.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="21.1.1" data-path="dates-and-times.html"><a href="dates-and-times.html#prerequisites-11"><i class="fa fa-check"></i><b>21.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="21.2" data-path="dates-and-times.html"><a href="dates-and-times.html#creating-datetimes"><i class="fa fa-check"></i><b>21.2</b> Creating date/times</a>
<ul>
<li class="chapter" data-level="21.2.1" data-path="dates-and-times.html"><a href="dates-and-times.html#from-strings"><i class="fa fa-check"></i><b>21.2.1</b> From strings</a></li>
<li class="chapter" data-level="21.2.2" data-path="dates-and-times.html"><a href="dates-and-times.html#from-individual-components"><i class="fa fa-check"></i><b>21.2.2</b> From individual components</a></li>
<li class="chapter" data-level="21.2.3" data-path="dates-and-times.html"><a href="dates-and-times.html#from-other-types"><i class="fa fa-check"></i><b>21.2.3</b> From other types</a></li>
<li class="chapter" data-level="21.2.4" data-path="dates-and-times.html"><a href="dates-and-times.html#exercises-47"><i class="fa fa-check"></i><b>21.2.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="21.3" data-path="dates-and-times.html"><a href="dates-and-times.html#date-time-components"><i class="fa fa-check"></i><b>21.3</b> Date-time components</a>
<ul>
<li class="chapter" data-level="21.3.1" data-path="dates-and-times.html"><a href="dates-and-times.html#getting-components"><i class="fa fa-check"></i><b>21.3.1</b> Getting components</a></li>
<li class="chapter" data-level="21.3.2" data-path="dates-and-times.html"><a href="dates-and-times.html#rounding"><i class="fa fa-check"></i><b>21.3.2</b> Rounding</a></li>
<li class="chapter" data-level="21.3.3" data-path="dates-and-times.html"><a href="dates-and-times.html#setting-components"><i class="fa fa-check"></i><b>21.3.3</b> Setting components</a></li>
<li class="chapter" data-level="21.3.4" data-path="dates-and-times.html"><a href="dates-and-times.html#exercises-48"><i class="fa fa-check"></i><b>21.3.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="21.4" data-path="dates-and-times.html"><a href="dates-and-times.html#time-spans"><i class="fa fa-check"></i><b>21.4</b> Time spans</a>
<ul>
<li class="chapter" data-level="21.4.1" data-path="dates-and-times.html"><a href="dates-and-times.html#durations"><i class="fa fa-check"></i><b>21.4.1</b> Durations</a></li>
<li class="chapter" data-level="21.4.2" data-path="dates-and-times.html"><a href="dates-and-times.html#periods"><i class="fa fa-check"></i><b>21.4.2</b> Periods</a></li>
<li class="chapter" data-level="21.4.3" data-path="dates-and-times.html"><a href="dates-and-times.html#intervals"><i class="fa fa-check"></i><b>21.4.3</b> Intervals</a></li>
<li class="chapter" data-level="21.4.4" data-path="dates-and-times.html"><a href="dates-and-times.html#summary-1"><i class="fa fa-check"></i><b>21.4.4</b> Summary</a></li>
<li class="chapter" data-level="21.4.5" data-path="dates-and-times.html"><a href="dates-and-times.html#exercises-49"><i class="fa fa-check"></i><b>21.4.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="21.5" data-path="dates-and-times.html"><a href="dates-and-times.html#time-zones"><i class="fa fa-check"></i><b>21.5</b> Time zones</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="column-wise.html"><a href="column-wise.html"><i class="fa fa-check"></i><b>22</b> Column-wise operations</a>
<ul>
<li class="chapter" data-level="22.1" data-path="column-wise.html"><a href="column-wise.html#introduction-15"><i class="fa fa-check"></i><b>22.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="22.1.1" data-path="column-wise.html"><a href="column-wise.html#prerequisites-12"><i class="fa fa-check"></i><b>22.1.1</b> Prerequisites</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Import</b></span></li>
<li class="chapter" data-level="23" data-path="import-intro.html"><a href="import-intro.html"><i class="fa fa-check"></i><b>23</b> Introduction</a></li>
<li class="chapter" data-level="24" data-path="import-rectangular.html"><a href="import-rectangular.html"><i class="fa fa-check"></i><b>24</b> Rectangular data</a></li>
<li class="chapter" data-level="25" data-path="import-spreadsheets.html"><a href="import-spreadsheets.html"><i class="fa fa-check"></i><b>25</b> Spreadsheets</a></li>
<li class="chapter" data-level="26" data-path="import-databases.html"><a href="import-databases.html"><i class="fa fa-check"></i><b>26</b> Databases</a></li>
<li class="chapter" data-level="27" data-path="import-webscrape.html"><a href="import-webscrape.html"><i class="fa fa-check"></i><b>27</b> Web scraping</a></li>
<li class="chapter" data-level="28" data-path="import-other.html"><a href="import-other.html"><i class="fa fa-check"></i><b>28</b> Other types of data</a></li>
<li class="part"><span><b>IV Tidy</b></span></li>
<li class="chapter" data-level="29" data-path="wrangle-intro.html"><a href="wrangle-intro.html"><i class="fa fa-check"></i><b>29</b> Introduction</a></li>
<li class="chapter" data-level="30" data-path="list-columns.html"><a href="list-columns.html"><i class="fa fa-check"></i><b>30</b> List columns</a>
<ul>
<li class="chapter" data-level="30.1" data-path="list-columns.html"><a href="list-columns.html#introduction-16"><i class="fa fa-check"></i><b>30.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="30.1.1" data-path="list-columns.html"><a href="list-columns.html#prerequisites-13"><i class="fa fa-check"></i><b>30.1.1</b> Prerequisites</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="31" data-path="rectangle-data.html"><a href="rectangle-data.html"><i class="fa fa-check"></i><b>31</b> Data rectangling</a>
<ul>
<li class="chapter" data-level="31.1" data-path="rectangle-data.html"><a href="rectangle-data.html#introduction-17"><i class="fa fa-check"></i><b>31.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="31.1.1" data-path="rectangle-data.html"><a href="rectangle-data.html#prerequisites-14"><i class="fa fa-check"></i><b>31.1.1</b> Prerequisites</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>V Program</b></span></li>
<li class="chapter" data-level="32" data-path="program-intro.html"><a href="program-intro.html"><i class="fa fa-check"></i><b>32</b> Introduction</a>
<ul>
<li class="chapter" data-level="32.1" data-path="program-intro.html"><a href="program-intro.html#learning-more-2"><i class="fa fa-check"></i><b>32.1</b> Learning more</a></li>
</ul></li>
<li class="chapter" data-level="33" data-path="pipes.html"><a href="pipes.html"><i class="fa fa-check"></i><b>33</b> Pipes</a>
<ul>
<li class="chapter" data-level="33.1" data-path="pipes.html"><a href="pipes.html#introduction-18"><i class="fa fa-check"></i><b>33.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="33.1.1" data-path="pipes.html"><a href="pipes.html#prerequisites-15"><i class="fa fa-check"></i><b>33.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="33.2" data-path="pipes.html"><a href="pipes.html#piping-alternatives"><i class="fa fa-check"></i><b>33.2</b> Piping alternatives</a>
<ul>
<li class="chapter" data-level="33.2.1" data-path="pipes.html"><a href="pipes.html#intermediate-steps"><i class="fa fa-check"></i><b>33.2.1</b> Intermediate steps</a></li>
<li class="chapter" data-level="33.2.2" data-path="pipes.html"><a href="pipes.html#overwrite-the-original"><i class="fa fa-check"></i><b>33.2.2</b> Overwrite the original</a></li>
<li class="chapter" data-level="33.2.3" data-path="pipes.html"><a href="pipes.html#function-composition"><i class="fa fa-check"></i><b>33.2.3</b> Function composition</a></li>
<li class="chapter" data-level="33.2.4" data-path="pipes.html"><a href="pipes.html#use-the-pipe"><i class="fa fa-check"></i><b>33.2.4</b> Use the pipe</a></li>
</ul></li>
<li class="chapter" data-level="33.3" data-path="pipes.html"><a href="pipes.html#when-not-to-use-the-pipe"><i class="fa fa-check"></i><b>33.3</b> When not to use the pipe</a></li>
<li class="chapter" data-level="33.4" data-path="pipes.html"><a href="pipes.html#other-tools-from-magrittr"><i class="fa fa-check"></i><b>33.4</b> Other tools from magrittr</a></li>
</ul></li>
<li class="chapter" data-level="34" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>34</b> Functions</a>
<ul>
<li class="chapter" data-level="34.1" data-path="functions.html"><a href="functions.html#introduction-19"><i class="fa fa-check"></i><b>34.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="34.1.1" data-path="functions.html"><a href="functions.html#prerequisites-16"><i class="fa fa-check"></i><b>34.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="34.2" data-path="functions.html"><a href="functions.html#when-should-you-write-a-function"><i class="fa fa-check"></i><b>34.2</b> When should you write a function?</a>
<ul>
<li class="chapter" data-level="34.2.1" data-path="functions.html"><a href="functions.html#exercises-50"><i class="fa fa-check"></i><b>34.2.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="34.3" data-path="functions.html"><a href="functions.html#functions-are-for-humans-and-computers"><i class="fa fa-check"></i><b>34.3</b> Functions are for humans and computers</a>
<ul>
<li class="chapter" data-level="34.3.1" data-path="functions.html"><a href="functions.html#exercises-51"><i class="fa fa-check"></i><b>34.3.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="34.4" data-path="functions.html"><a href="functions.html#conditional-execution"><i class="fa fa-check"></i><b>34.4</b> Conditional execution</a>
<ul>
<li class="chapter" data-level="34.4.1" data-path="functions.html"><a href="functions.html#conditions"><i class="fa fa-check"></i><b>34.4.1</b> Conditions</a></li>
<li class="chapter" data-level="34.4.2" data-path="functions.html"><a href="functions.html#multiple-conditions"><i class="fa fa-check"></i><b>34.4.2</b> Multiple conditions</a></li>
<li class="chapter" data-level="34.4.3" data-path="functions.html"><a href="functions.html#code-style"><i class="fa fa-check"></i><b>34.4.3</b> Code style</a></li>
<li class="chapter" data-level="34.4.4" data-path="functions.html"><a href="functions.html#exercises-52"><i class="fa fa-check"></i><b>34.4.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="34.5" data-path="functions.html"><a href="functions.html#function-arguments"><i class="fa fa-check"></i><b>34.5</b> Function arguments</a>
<ul>
<li class="chapter" data-level="34.5.1" data-path="functions.html"><a href="functions.html#choosing-names"><i class="fa fa-check"></i><b>34.5.1</b> Choosing names</a></li>
<li class="chapter" data-level="34.5.2" data-path="functions.html"><a href="functions.html#checking-values"><i class="fa fa-check"></i><b>34.5.2</b> Checking values</a></li>
<li class="chapter" data-level="34.5.3" data-path="functions.html"><a href="functions.html#dot-dot-dot"><i class="fa fa-check"></i><b>34.5.3</b> Dot-dot-dot (…)</a></li>
<li class="chapter" data-level="34.5.4" data-path="functions.html"><a href="functions.html#lazy-evaluation"><i class="fa fa-check"></i><b>34.5.4</b> Lazy evaluation</a></li>
<li class="chapter" data-level="34.5.5" data-path="functions.html"><a href="functions.html#exercises-53"><i class="fa fa-check"></i><b>34.5.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="34.6" data-path="functions.html"><a href="functions.html#return-values"><i class="fa fa-check"></i><b>34.6</b> Return values</a>
<ul>
<li class="chapter" data-level="34.6.1" data-path="functions.html"><a href="functions.html#explicit-return-statements"><i class="fa fa-check"></i><b>34.6.1</b> Explicit return statements</a></li>
<li class="chapter" data-level="34.6.2" data-path="functions.html"><a href="functions.html#writing-pipeable-functions"><i class="fa fa-check"></i><b>34.6.2</b> Writing pipeable functions</a></li>
</ul></li>
<li class="chapter" data-level="34.7" data-path="functions.html"><a href="functions.html#environment"><i class="fa fa-check"></i><b>34.7</b> Environment</a></li>
</ul></li>
<li class="chapter" data-level="35" data-path="vectors.html"><a href="vectors.html"><i class="fa fa-check"></i><b>35</b> Vectors</a>
<ul>
<li class="chapter" data-level="35.1" data-path="vectors.html"><a href="vectors.html#introduction-20"><i class="fa fa-check"></i><b>35.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="35.1.1" data-path="vectors.html"><a href="vectors.html#prerequisites-17"><i class="fa fa-check"></i><b>35.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="35.2" data-path="vectors.html"><a href="vectors.html#vector-basics"><i class="fa fa-check"></i><b>35.2</b> Vector basics</a></li>
<li class="chapter" data-level="35.3" data-path="vectors.html"><a href="vectors.html#important-types-of-atomic-vector"><i class="fa fa-check"></i><b>35.3</b> Important types of atomic vector</a>
<ul>
<li class="chapter" data-level="35.3.1" data-path="vectors.html"><a href="vectors.html#logical"><i class="fa fa-check"></i><b>35.3.1</b> Logical</a></li>
<li class="chapter" data-level="35.3.2" data-path="vectors.html"><a href="vectors.html#numeric"><i class="fa fa-check"></i><b>35.3.2</b> Numeric</a></li>
<li class="chapter" data-level="35.3.3" data-path="vectors.html"><a href="vectors.html#character"><i class="fa fa-check"></i><b>35.3.3</b> Character</a></li>
<li class="chapter" data-level="35.3.4" data-path="vectors.html"><a href="vectors.html#missing-values-vectors"><i class="fa fa-check"></i><b>35.3.4</b> Missing values</a></li>
<li class="chapter" data-level="35.3.5" data-path="vectors.html"><a href="vectors.html#exercises-54"><i class="fa fa-check"></i><b>35.3.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="35.4" data-path="vectors.html"><a href="vectors.html#using-atomic-vectors"><i class="fa fa-check"></i><b>35.4</b> Using atomic vectors</a>
<ul>
<li class="chapter" data-level="35.4.1" data-path="vectors.html"><a href="vectors.html#coercion"><i class="fa fa-check"></i><b>35.4.1</b> Coercion</a></li>
<li class="chapter" data-level="35.4.2" data-path="vectors.html"><a href="vectors.html#test-functions"><i class="fa fa-check"></i><b>35.4.2</b> Test functions</a></li>
<li class="chapter" data-level="35.4.3" data-path="vectors.html"><a href="vectors.html#scalars-and-recycling-rules"><i class="fa fa-check"></i><b>35.4.3</b> Scalars and recycling rules</a></li>
<li class="chapter" data-level="35.4.4" data-path="vectors.html"><a href="vectors.html#naming-vectors"><i class="fa fa-check"></i><b>35.4.4</b> Naming vectors</a></li>
<li class="chapter" data-level="35.4.5" data-path="vectors.html"><a href="vectors.html#vector-subsetting"><i class="fa fa-check"></i><b>35.4.5</b> Subsetting</a></li>
<li class="chapter" data-level="35.4.6" data-path="vectors.html"><a href="vectors.html#exercises-55"><i class="fa fa-check"></i><b>35.4.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="35.5" data-path="vectors.html"><a href="vectors.html#lists"><i class="fa fa-check"></i><b>35.5</b> Recursive vectors (lists)</a>
<ul>
<li class="chapter" data-level="35.5.1" data-path="vectors.html"><a href="vectors.html#visualising-lists"><i class="fa fa-check"></i><b>35.5.1</b> Visualising lists</a></li>
<li class="chapter" data-level="35.5.2" data-path="vectors.html"><a href="vectors.html#subsetting-1"><i class="fa fa-check"></i><b>35.5.2</b> Subsetting</a></li>
<li class="chapter" data-level="35.5.3" data-path="vectors.html"><a href="vectors.html#lists-of-condiments"><i class="fa fa-check"></i><b>35.5.3</b> Lists of condiments</a></li>
<li class="chapter" data-level="35.5.4" data-path="vectors.html"><a href="vectors.html#exercises-56"><i class="fa fa-check"></i><b>35.5.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="35.6" data-path="vectors.html"><a href="vectors.html#attributes"><i class="fa fa-check"></i><b>35.6</b> Attributes</a></li>
<li class="chapter" data-level="35.7" data-path="vectors.html"><a href="vectors.html#augmented-vectors"><i class="fa fa-check"></i><b>35.7</b> Augmented vectors</a>
<ul>
<li class="chapter" data-level="35.7.1" data-path="vectors.html"><a href="vectors.html#factors-1"><i class="fa fa-check"></i><b>35.7.1</b> Factors</a></li>
<li class="chapter" data-level="35.7.2" data-path="vectors.html"><a href="vectors.html#dates-and-date-times"><i class="fa fa-check"></i><b>35.7.2</b> Dates and date-times</a></li>
<li class="chapter" data-level="35.7.3" data-path="vectors.html"><a href="vectors.html#tibbles-1"><i class="fa fa-check"></i><b>35.7.3</b> Tibbles</a></li>
<li class="chapter" data-level="35.7.4" data-path="vectors.html"><a href="vectors.html#exercises-57"><i class="fa fa-check"></i><b>35.7.4</b> Exercises</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="36" data-path="iteration.html"><a href="iteration.html"><i class="fa fa-check"></i><b>36</b> Iteration</a>
<ul>
<li class="chapter" data-level="36.1" data-path="iteration.html"><a href="iteration.html#introduction-21"><i class="fa fa-check"></i><b>36.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="36.1.1" data-path="iteration.html"><a href="iteration.html#prerequisites-18"><i class="fa fa-check"></i><b>36.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="36.2" data-path="iteration.html"><a href="iteration.html#for-loops"><i class="fa fa-check"></i><b>36.2</b> For loops</a>
<ul>
<li class="chapter" data-level="36.2.1" data-path="iteration.html"><a href="iteration.html#exercises-58"><i class="fa fa-check"></i><b>36.2.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="36.3" data-path="iteration.html"><a href="iteration.html#for-loop-variations"><i class="fa fa-check"></i><b>36.3</b> For loop variations</a>
<ul>
<li class="chapter" data-level="36.3.1" data-path="iteration.html"><a href="iteration.html#modifying-an-existing-object"><i class="fa fa-check"></i><b>36.3.1</b> Modifying an existing object</a></li>
<li class="chapter" data-level="36.3.2" data-path="iteration.html"><a href="iteration.html#looping-patterns"><i class="fa fa-check"></i><b>36.3.2</b> Looping patterns</a></li>
<li class="chapter" data-level="36.3.3" data-path="iteration.html"><a href="iteration.html#unknown-output-length"><i class="fa fa-check"></i><b>36.3.3</b> Unknown output length</a></li>
<li class="chapter" data-level="36.3.4" data-path="iteration.html"><a href="iteration.html#unknown-sequence-length"><i class="fa fa-check"></i><b>36.3.4</b> Unknown sequence length</a></li>
<li class="chapter" data-level="36.3.5" data-path="iteration.html"><a href="iteration.html#exercises-59"><i class="fa fa-check"></i><b>36.3.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="36.4" data-path="iteration.html"><a href="iteration.html#for-loops-vs.-functionals"><i class="fa fa-check"></i><b>36.4</b> For loops vs. functionals</a>
<ul>
<li class="chapter" data-level="36.4.1" data-path="iteration.html"><a href="iteration.html#exercises-60"><i class="fa fa-check"></i><b>36.4.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="36.5" data-path="iteration.html"><a href="iteration.html#the-map-functions"><i class="fa fa-check"></i><b>36.5</b> The map functions</a>
<ul>
<li class="chapter" data-level="36.5.1" data-path="iteration.html"><a href="iteration.html#shortcuts"><i class="fa fa-check"></i><b>36.5.1</b> Shortcuts</a></li>
<li class="chapter" data-level="36.5.2" data-path="iteration.html"><a href="iteration.html#base-r"><i class="fa fa-check"></i><b>36.5.2</b> Base R</a></li>
<li class="chapter" data-level="36.5.3" data-path="iteration.html"><a href="iteration.html#exercises-61"><i class="fa fa-check"></i><b>36.5.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="36.6" data-path="iteration.html"><a href="iteration.html#dealing-with-failure"><i class="fa fa-check"></i><b>36.6</b> Dealing with failure</a></li>
<li class="chapter" data-level="36.7" data-path="iteration.html"><a href="iteration.html#mapping-over-multiple-arguments"><i class="fa fa-check"></i><b>36.7</b> Mapping over multiple arguments</a>
<ul>
<li class="chapter" data-level="36.7.1" data-path="iteration.html"><a href="iteration.html#invoking-different-functions"><i class="fa fa-check"></i><b>36.7.1</b> Invoking different functions</a></li>
</ul></li>
<li class="chapter" data-level="36.8" data-path="iteration.html"><a href="iteration.html#walk"><i class="fa fa-check"></i><b>36.8</b> Walk</a></li>
<li class="chapter" data-level="36.9" data-path="iteration.html"><a href="iteration.html#other-patterns-of-for-loops"><i class="fa fa-check"></i><b>36.9</b> Other patterns of for loops</a>
<ul>
<li class="chapter" data-level="36.9.1" data-path="iteration.html"><a href="iteration.html#predicate-functions"><i class="fa fa-check"></i><b>36.9.1</b> Predicate functions</a></li>
<li class="chapter" data-level="36.9.2" data-path="iteration.html"><a href="iteration.html#reduce-and-accumulate"><i class="fa fa-check"></i><b>36.9.2</b> Reduce and accumulate</a></li>
<li class="chapter" data-level="36.9.3" data-path="iteration.html"><a href="iteration.html#exercises-62"><i class="fa fa-check"></i><b>36.9.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="36.10" data-path="iteration.html"><a href="iteration.html#case-study-1"><i class="fa fa-check"></i><b>36.10</b> Case study</a></li>
</ul></li>
<li class="chapter" data-level="37" data-path="programming-with-strings.html"><a href="programming-with-strings.html"><i class="fa fa-check"></i><b>37</b> Programming with strings</a>
<ul>
<li class="chapter" data-level="37.0.1" data-path="programming-with-strings.html"><a href="programming-with-strings.html#str_c"><i class="fa fa-check"></i><b>37.0.1</b> str_c</a></li>
<li class="chapter" data-level="37.1" data-path="programming-with-strings.html"><a href="programming-with-strings.html#performance"><i class="fa fa-check"></i><b>37.1</b> Performance</a>
<ul>
<li class="chapter" data-level="37.1.1" data-path="programming-with-strings.html"><a href="programming-with-strings.html#section"><i class="fa fa-check"></i><b>37.1.1</b> </a></li>
<li class="chapter" data-level="37.1.2" data-path="programming-with-strings.html"><a href="programming-with-strings.html#extract"><i class="fa fa-check"></i><b>37.1.2</b> Extract</a></li>
<li class="chapter" data-level="37.1.3" data-path="programming-with-strings.html"><a href="programming-with-strings.html#exercises-63"><i class="fa fa-check"></i><b>37.1.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="37.2" data-path="programming-with-strings.html"><a href="programming-with-strings.html#grouped-matches"><i class="fa fa-check"></i><b>37.2</b> Grouped matches</a></li>
<li class="chapter" data-level="37.3" data-path="programming-with-strings.html"><a href="programming-with-strings.html#spitting"><i class="fa fa-check"></i><b>37.3</b> Spitting</a></li>
<li class="chapter" data-level="37.4" data-path="programming-with-strings.html"><a href="programming-with-strings.html#replace-with-function"><i class="fa fa-check"></i><b>37.4</b> Replace with function</a></li>
<li class="chapter" data-level="37.5" data-path="programming-with-strings.html"><a href="programming-with-strings.html#locations"><i class="fa fa-check"></i><b>37.5</b> Locations</a></li>
<li class="chapter" data-level="37.6" data-path="programming-with-strings.html"><a href="programming-with-strings.html#stringi"><i class="fa fa-check"></i><b>37.6</b> stringi</a>
<ul>
<li class="chapter" data-level="37.6.1" data-path="programming-with-strings.html"><a href="programming-with-strings.html#exercises-64"><i class="fa fa-check"></i><b>37.6.1</b> Exercises</a></li>
<li class="chapter" data-level="37.6.2" data-path="programming-with-strings.html"><a href="programming-with-strings.html#exercises-65"><i class="fa fa-check"></i><b>37.6.2</b> Exercises</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>VI Communicate</b></span></li>
<li class="chapter" data-level="38" data-path="communicate-intro.html"><a href="communicate-intro.html"><i class="fa fa-check"></i><b>38</b> Introduction</a></li>
<li class="chapter" data-level="39" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>39</b> R Markdown</a>
<ul>
<li class="chapter" data-level="39.1" data-path="r-markdown.html"><a href="r-markdown.html#introduction-22"><i class="fa fa-check"></i><b>39.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="39.1.1" data-path="r-markdown.html"><a href="r-markdown.html#prerequisites-19"><i class="fa fa-check"></i><b>39.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="39.2" data-path="r-markdown.html"><a href="r-markdown.html#r-markdown-basics"><i class="fa fa-check"></i><b>39.2</b> R Markdown basics</a>
<ul>
<li class="chapter" data-level="39.2.1" data-path="r-markdown.html"><a href="r-markdown.html#exercises-66"><i class="fa fa-check"></i><b>39.2.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="39.3" data-path="r-markdown.html"><a href="r-markdown.html#text-formatting-with-markdown"><i class="fa fa-check"></i><b>39.3</b> Text formatting with Markdown</a>
<ul>
<li class="chapter" data-level="39.3.1" data-path="r-markdown.html"><a href="r-markdown.html#exercises-67"><i class="fa fa-check"></i><b>39.3.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="39.4" data-path="r-markdown.html"><a href="r-markdown.html#code-chunks"><i class="fa fa-check"></i><b>39.4</b> Code chunks</a>
<ul>
<li class="chapter" data-level="39.4.1" data-path="r-markdown.html"><a href="r-markdown.html#chunk-name"><i class="fa fa-check"></i><b>39.4.1</b> Chunk name</a></li>
<li class="chapter" data-level="39.4.2" data-path="r-markdown.html"><a href="r-markdown.html#chunk-options"><i class="fa fa-check"></i><b>39.4.2</b> Chunk options</a></li>
<li class="chapter" data-level="39.4.3" data-path="r-markdown.html"><a href="r-markdown.html#table"><i class="fa fa-check"></i><b>39.4.3</b> Table</a></li>
<li class="chapter" data-level="39.4.4" data-path="r-markdown.html"><a href="r-markdown.html#caching"><i class="fa fa-check"></i><b>39.4.4</b> Caching</a></li>
<li class="chapter" data-level="39.4.5" data-path="r-markdown.html"><a href="r-markdown.html#global-options"><i class="fa fa-check"></i><b>39.4.5</b> Global options</a></li>
<li class="chapter" data-level="39.4.6" data-path="r-markdown.html"><a href="r-markdown.html#inline-code"><i class="fa fa-check"></i><b>39.4.6</b> Inline code</a></li>
<li class="chapter" data-level="39.4.7" data-path="r-markdown.html"><a href="r-markdown.html#exercises-68"><i class="fa fa-check"></i><b>39.4.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="39.5" data-path="r-markdown.html"><a href="r-markdown.html#troubleshooting"><i class="fa fa-check"></i><b>39.5</b> Troubleshooting</a></li>
<li class="chapter" data-level="39.6" data-path="r-markdown.html"><a href="r-markdown.html#yaml-header"><i class="fa fa-check"></i><b>39.6</b> YAML header</a>
<ul>
<li class="chapter" data-level="39.6.1" data-path="r-markdown.html"><a href="r-markdown.html#parameters"><i class="fa fa-check"></i><b>39.6.1</b> Parameters</a></li>
<li class="chapter" data-level="39.6.2" data-path="r-markdown.html"><a href="r-markdown.html#bibliographies-and-citations"><i class="fa fa-check"></i><b>39.6.2</b> Bibliographies and Citations</a></li>
</ul></li>
<li class="chapter" data-level="39.7" data-path="r-markdown.html"><a href="r-markdown.html#learning-more-3"><i class="fa fa-check"></i><b>39.7</b> Learning more</a></li>
</ul></li>
<li class="chapter" data-level="40" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html"><i class="fa fa-check"></i><b>40</b> Graphics for communication</a>
<ul>
<li class="chapter" data-level="40.1" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#introduction-23"><i class="fa fa-check"></i><b>40.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="40.1.1" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#prerequisites-20"><i class="fa fa-check"></i><b>40.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="40.2" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#label"><i class="fa fa-check"></i><b>40.2</b> Label</a>
<ul>
<li class="chapter" data-level="40.2.1" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#exercises-69"><i class="fa fa-check"></i><b>40.2.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="40.3" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#annotations"><i class="fa fa-check"></i><b>40.3</b> Annotations</a>
<ul>
<li class="chapter" data-level="40.3.1" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#exercises-70"><i class="fa fa-check"></i><b>40.3.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="40.4" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#scales"><i class="fa fa-check"></i><b>40.4</b> Scales</a>
<ul>
<li class="chapter" data-level="40.4.1" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#axis-ticks-and-legend-keys"><i class="fa fa-check"></i><b>40.4.1</b> Axis ticks and legend keys</a></li>
<li class="chapter" data-level="40.4.2" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#legend-layout"><i class="fa fa-check"></i><b>40.4.2</b> Legend layout</a></li>
<li class="chapter" data-level="40.4.3" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#replacing-a-scale"><i class="fa fa-check"></i><b>40.4.3</b> Replacing a scale</a></li>
<li class="chapter" data-level="40.4.4" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#exercises-71"><i class="fa fa-check"></i><b>40.4.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="40.5" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#zooming"><i class="fa fa-check"></i><b>40.5</b> Zooming</a></li>
<li class="chapter" data-level="40.6" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#themes"><i class="fa fa-check"></i><b>40.6</b> Themes</a></li>
<li class="chapter" data-level="40.7" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#saving-your-plots"><i class="fa fa-check"></i><b>40.7</b> Saving your plots</a>
<ul>
<li class="chapter" data-level="40.7.1" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#figure-sizing"><i class="fa fa-check"></i><b>40.7.1</b> Figure sizing</a></li>
<li class="chapter" data-level="40.7.2" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#other-important-options"><i class="fa fa-check"></i><b>40.7.2</b> Other important options</a></li>
</ul></li>
<li class="chapter" data-level="40.8" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#learning-more-4"><i class="fa fa-check"></i><b>40.8</b> Learning more</a></li>
</ul></li>
<li class="chapter" data-level="41" data-path="r-markdown-formats.html"><a href="r-markdown-formats.html"><i class="fa fa-check"></i><b>41</b> R Markdown formats</a>
<ul>
<li class="chapter" data-level="41.1" data-path="r-markdown-formats.html"><a href="r-markdown-formats.html#introduction-24"><i class="fa fa-check"></i><b>41.1</b> Introduction</a></li>
<li class="chapter" data-level="41.2" data-path="r-markdown-formats.html"><a href="r-markdown-formats.html#output-options"><i class="fa fa-check"></i><b>41.2</b> Output options</a></li>
<li class="chapter" data-level="41.3" data-path="r-markdown-formats.html"><a href="r-markdown-formats.html#documents"><i class="fa fa-check"></i><b>41.3</b> Documents</a></li>
<li class="chapter" data-level="41.4" data-path="r-markdown-formats.html"><a href="r-markdown-formats.html#notebooks"><i class="fa fa-check"></i><b>41.4</b> Notebooks</a></li>
<li class="chapter" data-level="41.5" data-path="r-markdown-formats.html"><a href="r-markdown-formats.html#presentations"><i class="fa fa-check"></i><b>41.5</b> Presentations</a></li>
<li class="chapter" data-level="41.6" data-path="r-markdown-formats.html"><a href="r-markdown-formats.html#dashboards"><i class="fa fa-check"></i><b>41.6</b> Dashboards</a></li>
<li class="chapter" data-level="41.7" data-path="r-markdown-formats.html"><a href="r-markdown-formats.html#interactivity"><i class="fa fa-check"></i><b>41.7</b> Interactivity</a>
<ul>
<li class="chapter" data-level="41.7.1" data-path="r-markdown-formats.html"><a href="r-markdown-formats.html#htmlwidgets"><i class="fa fa-check"></i><b>41.7.1</b> htmlwidgets</a></li>
<li class="chapter" data-level="41.7.2" data-path="r-markdown-formats.html"><a href="r-markdown-formats.html#shiny"><i class="fa fa-check"></i><b>41.7.2</b> Shiny</a></li>
</ul></li>
<li class="chapter" data-level="41.8" data-path="r-markdown-formats.html"><a href="r-markdown-formats.html#websites"><i class="fa fa-check"></i><b>41.8</b> Websites</a></li>
<li class="chapter" data-level="41.9" data-path="r-markdown-formats.html"><a href="r-markdown-formats.html#other-formats"><i class="fa fa-check"></i><b>41.9</b> Other formats</a></li>
<li class="chapter" data-level="41.10" data-path="r-markdown-formats.html"><a href="r-markdown-formats.html#learning-more-5"><i class="fa fa-check"></i><b>41.10</b> Learning more</a></li>
</ul></li>
<li class="chapter" data-level="42" data-path="r-markdown-workflow.html"><a href="r-markdown-workflow.html"><i class="fa fa-check"></i><b>42</b> R Markdown workflow</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R for Data Science (2e)</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="vectors" class="section level1" number="35">
<h1><span class="header-section-number">35</span> Vectors</h1>
<div id="introduction-20" class="section level2" number="35.1">
<h2><span class="header-section-number">35.1</span> Introduction</h2>
<p>So far this book has focussed on tibbles and packages that work with them.
But as you start to write your own functions, and dig deeper into R, you need to learn about vectors, the objects that underlie tibbles.
If you’ve learned R in a more traditional way, you’re probably already familiar with vectors, as most R resources start with vectors and work their way up to tibbles.
I think it’s better to start with tibbles because they’re immediately useful, and then work your way down to the underlying components.</p>
<p>Vectors are particularly important as most of the functions you will write will work with vectors.
It is possible to write functions that work with tibbles (like ggplot2, dplyr, and tidyr), but the tools you need to write such functions are currently idiosyncratic and immature.
I am working on a better approach, <a href="https://github.com/hadley/lazyeval" class="uri">https://github.com/hadley/lazyeval</a>, but it will not be ready in time for the publication of the book.
Even when complete, you’ll still need to understand vectors, it’ll just make it easier to write a user-friendly layer on top.</p>
<div id="prerequisites-17" class="section level3" number="35.1.1">
<h3><span class="header-section-number">35.1.1</span> Prerequisites</h3>
<p>The focus of this chapter is on base R data structures, so it isn’t essential to load any packages.
We will, however, use a handful of functions from the <strong>purrr</strong> package to avoid some inconsistencies in base R.</p>
<div class="sourceCode" id="cb520"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb520-1"><a href="vectors.html#cb520-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
</div>
</div>
<div id="vector-basics" class="section level2" number="35.2">
<h2><span class="header-section-number">35.2</span> Vector basics</h2>
<p>There are two types of vectors:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Atomic</strong> vectors, of which there are six types: <strong>logical</strong>, <strong>integer</strong>, <strong>double</strong>, <strong>character</strong>, <strong>complex</strong>, and <strong>raw</strong>.
Integer and double vectors are collectively known as <strong>numeric</strong> vectors.</p></li>
<li><p><strong>Lists</strong>, which are sometimes called recursive vectors because lists can contain other lists.</p></li>
</ol>
<p>The chief difference between atomic vectors and lists is that atomic vectors are <strong>homogeneous</strong>, while lists can be <strong>heterogeneous</strong>.
There’s one other related object: <code>NULL</code>.
<code>NULL</code> is often used to represent the absence of a vector (as opposed to <code>NA</code> which is used to represent the absence of a value in a vector).
<code>NULL</code> typically behaves like a vector of length 0.
Figure <a href="vectors.html#fig:datatypes">35.1</a> summarises the interrelationships.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:datatypes"></span>
<img src="diagrams/data-structures-overview.png" alt="The hierarchy of R's vector types" width="50%" />
<p class="caption">
Figure 35.1: The hierarchy of R’s vector types
</p>
</div>
<p>Every vector has two key properties:</p>
<ol style="list-style-type: decimal">
<li><p>Its <strong>type</strong>, which you can determine with <code>typeof()</code>.</p>
<div class="sourceCode" id="cb521"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb521-1"><a href="vectors.html#cb521-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(letters)</span>
<span id="cb521-2"><a href="vectors.html#cb521-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;character&quot;</span></span>
<span id="cb521-3"><a href="vectors.html#cb521-3" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb521-4"><a href="vectors.html#cb521-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;integer&quot;</span></span></code></pre></div></li>
<li><p>Its <strong>length</strong>, which you can determine with <code>length()</code>.</p>
<div class="sourceCode" id="cb522"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb522-1"><a href="vectors.html#cb522-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb522-2"><a href="vectors.html#cb522-2" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(x)</span>
<span id="cb522-3"><a href="vectors.html#cb522-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 3</span></span></code></pre></div></li>
</ol>
<p>Vectors can also contain arbitrary additional metadata in the form of attributes.
These attributes are used to create <strong>augmented vectors</strong> which build on additional behaviour.
There are three important types of augmented vector:</p>
<ul>
<li>Factors are built on top of integer vectors.</li>
<li>Dates and date-times are built on top of numeric vectors.</li>
<li>Data frames and tibbles are built on top of lists.</li>
</ul>
<p>This chapter will introduce you to these important vectors from simplest to most complicated.
You’ll start with atomic vectors, then build up to lists, and finish off with augmented vectors.</p>
</div>
<div id="important-types-of-atomic-vector" class="section level2" number="35.3">
<h2><span class="header-section-number">35.3</span> Important types of atomic vector</h2>
<p>The four most important types of atomic vector are logical, integer, double, and character.
Raw and complex are rarely used during a data analysis, so I won’t discuss them here.</p>
<div id="logical" class="section level3" number="35.3.1">
<h3><span class="header-section-number">35.3.1</span> Logical</h3>
<p>Logical vectors are the simplest type of atomic vector because they can take only three possible values: <code>FALSE</code>, <code>TRUE</code>, and <code>NA</code>.
Logical vectors are usually constructed with comparison operators, as described in [comparisons].
You can also create them by hand with <code>c()</code>:</p>
<div class="sourceCode" id="cb523"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb523-1"><a href="vectors.html#cb523-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">:</span><span class="dv">10</span> <span class="sc">%%</span> <span class="dv">3</span> <span class="sc">==</span> <span class="dv">0</span></span>
<span id="cb523-2"><a href="vectors.html#cb523-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] FALSE FALSE  TRUE FALSE FALSE  TRUE FALSE FALSE  TRUE FALSE</span></span>
<span id="cb523-3"><a href="vectors.html#cb523-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb523-4"><a href="vectors.html#cb523-4" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">NA</span>)</span>
<span id="cb523-5"><a href="vectors.html#cb523-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1]  TRUE  TRUE FALSE    NA</span></span></code></pre></div>
</div>
<div id="numeric" class="section level3" number="35.3.2">
<h3><span class="header-section-number">35.3.2</span> Numeric</h3>
<p>Integer and double vectors are known collectively as numeric vectors.
In R, numbers are doubles by default.
To make an integer, place an <code>L</code> after the number:</p>
<div class="sourceCode" id="cb524"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb524-1"><a href="vectors.html#cb524-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(<span class="dv">1</span>)</span>
<span id="cb524-2"><a href="vectors.html#cb524-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;double&quot;</span></span>
<span id="cb524-3"><a href="vectors.html#cb524-3" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(1L)</span>
<span id="cb524-4"><a href="vectors.html#cb524-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;integer&quot;</span></span>
<span id="cb524-5"><a href="vectors.html#cb524-5" aria-hidden="true" tabindex="-1"></a><span class="fl">1.5</span>L</span>
<span id="cb524-6"><a href="vectors.html#cb524-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1.5</span></span></code></pre></div>
<p>The distinction between integers and doubles is not usually important, but there are two important differences that you should be aware of:</p>
<ol style="list-style-type: decimal">
<li><p>Doubles are approximations.
Doubles represent floating point numbers that can not always be precisely represented with a fixed amount of memory.
This means that you should consider all doubles to be approximations.
For example, what is square of the square root of two?</p>
<div class="sourceCode" id="cb525"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb525-1"><a href="vectors.html#cb525-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="dv">2</span>) <span class="sc">^</span> <span class="dv">2</span></span>
<span id="cb525-2"><a href="vectors.html#cb525-2" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb525-3"><a href="vectors.html#cb525-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 2</span></span>
<span id="cb525-4"><a href="vectors.html#cb525-4" aria-hidden="true" tabindex="-1"></a>x <span class="sc">-</span> <span class="dv">2</span></span>
<span id="cb525-5"><a href="vectors.html#cb525-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 4.440892e-16</span></span></code></pre></div>
<p>This behaviour is common when working with floating point numbers: most calculations include some approximation error.
Instead of comparing floating point numbers using <code>==</code>, you should use <code>dplyr::near()</code> which allows for some numerical tolerance.</p></li>
<li><p>Integers have one special value: <code>NA</code>, while doubles have four: <code>NA</code>, <code>NaN</code>, <code>Inf</code> and <code>-Inf</code>.
All three special values <code>NaN</code>, <code>Inf</code> and <code>-Inf</code> can arise during division:</p>
<div class="sourceCode" id="cb526"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb526-1"><a href="vectors.html#cb526-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>) <span class="sc">/</span> <span class="dv">0</span></span>
<span id="cb526-2"><a href="vectors.html#cb526-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] -Inf  NaN  Inf</span></span></code></pre></div>
<p>Avoid using <code>==</code> to check for these other special values.
Instead use the helper functions <code>is.finite()</code>, <code>is.infinite()</code>, and <code>is.nan()</code>:</p>
<table>
<thead>
<tr class="header">
<th></th>
<th>0</th>
<th>Inf</th>
<th>NA</th>
<th>NaN</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>is.finite()</code></td>
<td>x</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><code>is.infinite()</code></td>
<td></td>
<td>x</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><code>is.na()</code></td>
<td></td>
<td></td>
<td>x</td>
<td>x</td>
</tr>
<tr class="even">
<td><code>is.nan()</code></td>
<td></td>
<td></td>
<td></td>
<td>x</td>
</tr>
</tbody>
</table></li>
</ol>
</div>
<div id="character" class="section level3" number="35.3.3">
<h3><span class="header-section-number">35.3.3</span> Character</h3>
<p>Character vectors are the most complex type of atomic vector, because each element of a character vector is a string, and a string can contain an arbitrary amount of data.</p>
<p>You’ve already learned a lot about working with strings in <a href="strings.html#strings">strings</a>.
Here I wanted to mention one important feature of the underlying string implementation: R uses a global string pool.
This means that each unique string is only stored in memory once, and every use of the string points to that representation.
This reduces the amount of memory needed by duplicated strings.
You can see this behaviour in practice with <code>pryr::object_size()</code>:</p>
<div class="sourceCode" id="cb527"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb527-1"><a href="vectors.html#cb527-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">&quot;This is a reasonably long string.&quot;</span></span>
<span id="cb527-2"><a href="vectors.html#cb527-2" aria-hidden="true" tabindex="-1"></a>pryr<span class="sc">::</span><span class="fu">object_size</span>(x)</span>
<span id="cb527-3"><a href="vectors.html#cb527-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 152 B</span></span>
<span id="cb527-4"><a href="vectors.html#cb527-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb527-5"><a href="vectors.html#cb527-5" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">rep</span>(x, <span class="dv">1000</span>)</span>
<span id="cb527-6"><a href="vectors.html#cb527-6" aria-hidden="true" tabindex="-1"></a>pryr<span class="sc">::</span><span class="fu">object_size</span>(y)</span>
<span id="cb527-7"><a href="vectors.html#cb527-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8,144 B</span></span></code></pre></div>
<p><code>y</code> doesn’t take up 1,000x as much memory as <code>x</code>, because each element of <code>y</code> is just a pointer to that same string.
A pointer is 8 bytes, so 1000 pointers to a 152 B string is 8 * 1000 + 152 = 8.14 kB.</p>
</div>
<div id="missing-values-vectors" class="section level3" number="35.3.4">
<h3><span class="header-section-number">35.3.4</span> Missing values</h3>
<p>Note that each type of atomic vector has its own missing value:</p>
<div class="sourceCode" id="cb528"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb528-1"><a href="vectors.html#cb528-1" aria-hidden="true" tabindex="-1"></a><span class="cn">NA</span>            <span class="co"># logical</span></span>
<span id="cb528-2"><a href="vectors.html#cb528-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] NA</span></span>
<span id="cb528-3"><a href="vectors.html#cb528-3" aria-hidden="true" tabindex="-1"></a><span class="cn">NA_integer_</span>   <span class="co"># integer</span></span>
<span id="cb528-4"><a href="vectors.html#cb528-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] NA</span></span>
<span id="cb528-5"><a href="vectors.html#cb528-5" aria-hidden="true" tabindex="-1"></a><span class="cn">NA_real_</span>      <span class="co"># double</span></span>
<span id="cb528-6"><a href="vectors.html#cb528-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] NA</span></span>
<span id="cb528-7"><a href="vectors.html#cb528-7" aria-hidden="true" tabindex="-1"></a><span class="cn">NA_character_</span> <span class="co"># character</span></span>
<span id="cb528-8"><a href="vectors.html#cb528-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] NA</span></span></code></pre></div>
<p>Normally you don’t need to know about these different types because you can always use <code>NA</code> and it will be converted to the correct type using the implicit coercion rules described next.
However, there are some functions that are strict about their inputs, so it’s useful to have this knowledge sitting in your back pocket so you can be specific when needed.</p>
</div>
<div id="exercises-54" class="section level3" number="35.3.5">
<h3><span class="header-section-number">35.3.5</span> Exercises</h3>
<ol style="list-style-type: decimal">
<li><p>Describe the difference between <code>is.finite(x)</code> and <code>!is.infinite(x)</code>.</p></li>
<li><p>Read the source code for <code>dplyr::near()</code> (Hint: to see the source code, drop the <code>()</code>).
How does it work?</p></li>
<li><p>A logical vector can take 3 possible values.
How many possible values can an integer vector take?
How many possible values can a double take?
Use google to do some research.</p></li>
<li><p>Brainstorm at least four functions that allow you to convert a double to an integer.
How do they differ?
Be precise.</p></li>
<li><p>What functions from the readr package allow you to turn a string into logical, integer, and double vector?</p></li>
</ol>
</div>
</div>
<div id="using-atomic-vectors" class="section level2" number="35.4">
<h2><span class="header-section-number">35.4</span> Using atomic vectors</h2>
<p>Now that you understand the different types of atomic vector, it’s useful to review some of the important tools for working with them.
These include:</p>
<ol style="list-style-type: decimal">
<li><p>How to convert from one type to another, and when that happens automatically.</p></li>
<li><p>How to tell if an object is a specific type of vector.</p></li>
<li><p>What happens when you work with vectors of different lengths.</p></li>
<li><p>How to name the elements of a vector.</p></li>
<li><p>How to pull out elements of interest.</p></li>
</ol>
<div id="coercion" class="section level3" number="35.4.1">
<h3><span class="header-section-number">35.4.1</span> Coercion</h3>
<p>There are two ways to convert, or coerce, one type of vector to another:</p>
<ol style="list-style-type: decimal">
<li><p>Explicit coercion happens when you call a function like <code>as.logical()</code>, <code>as.integer()</code>, <code>as.double()</code>, or <code>as.character()</code>.
Whenever you find yourself using explicit coercion, you should always check whether you can make the fix upstream, so that the vector never had the wrong type in the first place.
For example, you may need to tweak your readr <code>col_types</code> specification.</p></li>
<li><p>Implicit coercion happens when you use a vector in a specific context that expects a certain type of vector.
For example, when you use a logical vector with a numeric summary function, or when you use a double vector where an integer vector is expected.</p></li>
</ol>
<p>Because explicit coercion is used relatively rarely, and is largely easy to understand, I’ll focus on implicit coercion here.</p>
<p>You’ve already seen the most important type of implicit coercion: using a logical vector in a numeric context.
In this case <code>TRUE</code> is converted to <code>1</code> and <code>FALSE</code> converted to <code>0</code>.
That means the sum of a logical vector is the number of trues, and the mean of a logical vector is the proportion of trues:</p>
<div class="sourceCode" id="cb529"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb529-1"><a href="vectors.html#cb529-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">20</span>, <span class="dv">100</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb529-2"><a href="vectors.html#cb529-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> x <span class="sc">&gt;</span> <span class="dv">10</span></span>
<span id="cb529-3"><a href="vectors.html#cb529-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(y)  <span class="co"># how many are greater than 10?</span></span>
<span id="cb529-4"><a href="vectors.html#cb529-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 38</span></span>
<span id="cb529-5"><a href="vectors.html#cb529-5" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(y) <span class="co"># what proportion are greater than 10?</span></span>
<span id="cb529-6"><a href="vectors.html#cb529-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 0.38</span></span></code></pre></div>
<p>You may see some code (typically older) that relies on implicit coercion in the opposite direction, from integer to logical:</p>
<div class="sourceCode" id="cb530"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb530-1"><a href="vectors.html#cb530-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">length</span>(x)) {</span>
<span id="cb530-2"><a href="vectors.html#cb530-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># do something</span></span>
<span id="cb530-3"><a href="vectors.html#cb530-3" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>In this case, 0 is converted to <code>FALSE</code> and everything else is converted to <code>TRUE</code>.
I think this makes it harder to understand your code, and I don’t recommend it.
Instead be explicit: <code>length(x) &gt; 0</code>.</p>
<p>It’s also important to understand what happens when you try and create a vector containing multiple types with <code>c()</code>: the most complex type always wins.</p>
<div class="sourceCode" id="cb531"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb531-1"><a href="vectors.html#cb531-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(<span class="fu">c</span>(<span class="cn">TRUE</span>, 1L))</span>
<span id="cb531-2"><a href="vectors.html#cb531-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;integer&quot;</span></span>
<span id="cb531-3"><a href="vectors.html#cb531-3" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(<span class="fu">c</span>(1L, <span class="fl">1.5</span>))</span>
<span id="cb531-4"><a href="vectors.html#cb531-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;double&quot;</span></span>
<span id="cb531-5"><a href="vectors.html#cb531-5" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(<span class="fu">c</span>(<span class="fl">1.5</span>, <span class="st">&quot;a&quot;</span>))</span>
<span id="cb531-6"><a href="vectors.html#cb531-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;character&quot;</span></span></code></pre></div>
<p>An atomic vector can not have a mix of different types because the type is a property of the complete vector, not the individual elements.
If you need to mix multiple types in the same vector, you should use a list, which you’ll learn about shortly.</p>
</div>
<div id="test-functions" class="section level3" number="35.4.2">
<h3><span class="header-section-number">35.4.2</span> Test functions</h3>
<p>Sometimes you want to do different things based on the type of vector.
One option is to use <code>typeof()</code>.
Another is to use a test function which returns a <code>TRUE</code> or <code>FALSE</code>.
Base R provides many functions like <code>is.vector()</code> and <code>is.atomic()</code>, but they often return surprising results.
Instead, it’s safer to use the <code>is_*</code> functions provided by purrr, which are summarised in the table below.</p>
<table>
<thead>
<tr class="header">
<th></th>
<th>lgl</th>
<th>int</th>
<th>dbl</th>
<th>chr</th>
<th>list</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>is_logical()</code></td>
<td>x</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><code>is_integer()</code></td>
<td></td>
<td>x</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><code>is_double()</code></td>
<td></td>
<td></td>
<td>x</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><code>is_numeric()</code></td>
<td></td>
<td>x</td>
<td>x</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><code>is_character()</code></td>
<td></td>
<td></td>
<td></td>
<td>x</td>
<td></td>
</tr>
<tr class="even">
<td><code>is_atomic()</code></td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td></td>
</tr>
<tr class="odd">
<td><code>is_list()</code></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>x</td>
</tr>
<tr class="even">
<td><code>is_vector()</code></td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
</tr>
</tbody>
</table>
</div>
<div id="scalars-and-recycling-rules" class="section level3" number="35.4.3">
<h3><span class="header-section-number">35.4.3</span> Scalars and recycling rules</h3>
<p>As well as implicitly coercing the types of vectors to be compatible, R will also implicitly coerce the length of vectors.
This is called vector <strong>recycling</strong>, because the shorter vector is repeated, or recycled, to the same length as the longer vector.</p>
<p>This is generally most useful when you are mixing vectors and “scalars”.
I put scalars in quotes because R doesn’t actually have scalars: instead, a single number is a vector of length 1.
Because there are no scalars, most built-in functions are <strong>vectorised</strong>, meaning that they will operate on a vector of numbers.
That’s why, for example, this code works:</p>
<div class="sourceCode" id="cb532"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb532-1"><a href="vectors.html#cb532-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sample</span>(<span class="dv">10</span>) <span class="sc">+</span> <span class="dv">100</span></span>
<span id="cb532-2"><a href="vectors.html#cb532-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] 107 104 103 109 102 101 106 110 105 108</span></span>
<span id="cb532-3"><a href="vectors.html#cb532-3" aria-hidden="true" tabindex="-1"></a><span class="fu">runif</span>(<span class="dv">10</span>) <span class="sc">&gt;</span> <span class="fl">0.5</span></span>
<span id="cb532-4"><a href="vectors.html#cb532-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] FALSE  TRUE FALSE FALSE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE</span></span></code></pre></div>
<p>In R, basic mathematical operations work with vectors.
That means that you should never need to perform explicit iteration when performing simple mathematical computations.</p>
<p>It’s intuitive what should happen if you add two vectors of the same length, or a vector and a “scalar”, but what happens if you add two vectors of different lengths?</p>
<div class="sourceCode" id="cb533"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb533-1"><a href="vectors.html#cb533-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">:</span><span class="dv">10</span> <span class="sc">+</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span></span>
<span id="cb533-2"><a href="vectors.html#cb533-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1]  2  4  4  6  6  8  8 10 10 12</span></span></code></pre></div>
<p>Here, R will expand the shortest vector to the same length as the longest, so called recycling.
This is silent except when the length of the longer is not an integer multiple of the length of the shorter:</p>
<div class="sourceCode" id="cb534"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb534-1"><a href="vectors.html#cb534-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">:</span><span class="dv">10</span> <span class="sc">+</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span></span>
<span id="cb534-2"><a href="vectors.html#cb534-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning in 1:10 + 1:3: longer object length is not a multiple of shorter object</span></span>
<span id="cb534-3"><a href="vectors.html#cb534-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; length</span></span>
<span id="cb534-4"><a href="vectors.html#cb534-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1]  2  4  6  5  7  9  8 10 12 11</span></span></code></pre></div>
<p>While vector recycling can be used to create very succinct, clever code, it can also silently conceal problems.
For this reason, the vectorised functions in tidyverse will throw errors when you recycle anything other than a scalar.
If you do want to recycle, you’ll need to do it yourself with <code>rep()</code>:</p>
<div class="sourceCode" id="cb535"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb535-1"><a href="vectors.html#cb535-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="at">y =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>)</span>
<span id="cb535-2"><a href="vectors.html#cb535-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Error: Tibble columns must have compatible sizes.</span></span>
<span id="cb535-3"><a href="vectors.html#cb535-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; * Size 4: Existing data.</span></span>
<span id="cb535-4"><a href="vectors.html#cb535-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; * Size 2: Column `y`.</span></span>
<span id="cb535-5"><a href="vectors.html#cb535-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [34mi[39m Only values of size one are recycled.</span></span>
<span id="cb535-6"><a href="vectors.html#cb535-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb535-7"><a href="vectors.html#cb535-7" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="at">y =</span> <span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="dv">2</span>))</span>
<span id="cb535-8"><a href="vectors.html#cb535-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 4 x 2[39m</span></span>
<span id="cb535-9"><a href="vectors.html#cb535-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       [1mx[22m     [1my[22m</span></span>
<span id="cb535-10"><a href="vectors.html#cb535-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[90m&lt;int&gt;[39m[23m [3m[90m&lt;int&gt;[39m[23m</span></span>
<span id="cb535-11"><a href="vectors.html#cb535-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m     1     1</span></span>
<span id="cb535-12"><a href="vectors.html#cb535-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m     2     2</span></span>
<span id="cb535-13"><a href="vectors.html#cb535-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m3[39m     3     1</span></span>
<span id="cb535-14"><a href="vectors.html#cb535-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m4[39m     4     2</span></span>
<span id="cb535-15"><a href="vectors.html#cb535-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb535-16"><a href="vectors.html#cb535-16" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="at">y =</span> <span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="at">each =</span> <span class="dv">2</span>))</span>
<span id="cb535-17"><a href="vectors.html#cb535-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 4 x 2[39m</span></span>
<span id="cb535-18"><a href="vectors.html#cb535-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       [1mx[22m     [1my[22m</span></span>
<span id="cb535-19"><a href="vectors.html#cb535-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[90m&lt;int&gt;[39m[23m [3m[90m&lt;int&gt;[39m[23m</span></span>
<span id="cb535-20"><a href="vectors.html#cb535-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m     1     1</span></span>
<span id="cb535-21"><a href="vectors.html#cb535-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m     2     1</span></span>
<span id="cb535-22"><a href="vectors.html#cb535-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m3[39m     3     2</span></span>
<span id="cb535-23"><a href="vectors.html#cb535-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m4[39m     4     2</span></span></code></pre></div>
</div>
<div id="naming-vectors" class="section level3" number="35.4.4">
<h3><span class="header-section-number">35.4.4</span> Naming vectors</h3>
<p>All types of vectors can be named.
You can name them during creation with <code>c()</code>:</p>
<div class="sourceCode" id="cb536"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb536-1"><a href="vectors.html#cb536-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="at">x =</span> <span class="dv">1</span>, <span class="at">y =</span> <span class="dv">2</span>, <span class="at">z =</span> <span class="dv">4</span>)</span>
<span id="cb536-2"><a href="vectors.html#cb536-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; x y z </span></span>
<span id="cb536-3"><a href="vectors.html#cb536-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 2 4</span></span></code></pre></div>
<p>Or after the fact with <code>purrr::set_names()</code>:</p>
<div class="sourceCode" id="cb537"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb537-1"><a href="vectors.html#cb537-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set_names</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>))</span>
<span id="cb537-2"><a href="vectors.html#cb537-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; a b c </span></span>
<span id="cb537-3"><a href="vectors.html#cb537-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 2 3</span></span></code></pre></div>
<p>Named vectors are most useful for subsetting, described next.</p>
</div>
<div id="vector-subsetting" class="section level3" number="35.4.5">
<h3><span class="header-section-number">35.4.5</span> Subsetting</h3>
<p>So far we’ve used <code>dplyr::filter()</code> to filter the rows in a tibble.
<code>filter()</code> only works with tibble, so we’ll need a new tool for vectors: <code>[</code>.
<code>[</code> is the subsetting function, and is called like <code>x[a]</code>.
There are four types of things that you can subset a vector with:</p>
<ol style="list-style-type: decimal">
<li><p>A numeric vector containing only integers.
The integers must either be all positive, all negative, or zero.</p>
<p>Subsetting with positive integers keeps the elements at those positions:</p>
<div class="sourceCode" id="cb538"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb538-1"><a href="vectors.html#cb538-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;one&quot;</span>, <span class="st">&quot;two&quot;</span>, <span class="st">&quot;three&quot;</span>, <span class="st">&quot;four&quot;</span>, <span class="st">&quot;five&quot;</span>)</span>
<span id="cb538-2"><a href="vectors.html#cb538-2" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">5</span>)]</span>
<span id="cb538-3"><a href="vectors.html#cb538-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;three&quot; &quot;two&quot;   &quot;five&quot;</span></span></code></pre></div>
<p>By repeating a position, you can actually make a longer output than input:</p>
<div class="sourceCode" id="cb539"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb539-1"><a href="vectors.html#cb539-1" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">2</span>)]</span>
<span id="cb539-2"><a href="vectors.html#cb539-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;one&quot;  &quot;one&quot;  &quot;five&quot; &quot;five&quot; &quot;five&quot; &quot;two&quot;</span></span></code></pre></div>
<p>Negative values drop the elements at the specified positions:</p>
<div class="sourceCode" id="cb540"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb540-1"><a href="vectors.html#cb540-1" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="sc">-</span><span class="dv">3</span>, <span class="sc">-</span><span class="dv">5</span>)]</span>
<span id="cb540-2"><a href="vectors.html#cb540-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;two&quot;  &quot;four&quot;</span></span></code></pre></div>
<p>It’s an error to mix positive and negative values:</p>
<div class="sourceCode" id="cb541"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb541-1"><a href="vectors.html#cb541-1" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="dv">1</span>, <span class="sc">-</span><span class="dv">1</span>)]</span>
<span id="cb541-2"><a href="vectors.html#cb541-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Error in x[c(1, -1)]: only 0&#39;s may be mixed with negative subscripts</span></span></code></pre></div>
<p>The error message mentions subsetting with zero, which returns no values:</p>
<div class="sourceCode" id="cb542"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb542-1"><a href="vectors.html#cb542-1" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">0</span>]</span>
<span id="cb542-2"><a href="vectors.html#cb542-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; character(0)</span></span></code></pre></div>
<p>This is not useful very often, but it can be helpful if you want to create unusual data structures to test your functions with.</p></li>
<li><p>Subsetting with a logical vector keeps all values corresponding to a <code>TRUE</code> value.
This is most often useful in conjunction with the comparison functions.</p>
<div class="sourceCode" id="cb543"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb543-1"><a href="vectors.html#cb543-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">3</span>, <span class="cn">NA</span>, <span class="dv">5</span>, <span class="dv">8</span>, <span class="dv">1</span>, <span class="cn">NA</span>)</span>
<span id="cb543-2"><a href="vectors.html#cb543-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb543-3"><a href="vectors.html#cb543-3" aria-hidden="true" tabindex="-1"></a><span class="co"># All non-missing values of x</span></span>
<span id="cb543-4"><a href="vectors.html#cb543-4" aria-hidden="true" tabindex="-1"></a>x[<span class="sc">!</span><span class="fu">is.na</span>(x)]</span>
<span id="cb543-5"><a href="vectors.html#cb543-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 10  3  5  8  1</span></span>
<span id="cb543-6"><a href="vectors.html#cb543-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb543-7"><a href="vectors.html#cb543-7" aria-hidden="true" tabindex="-1"></a><span class="co"># All even (or missing!) values of x</span></span>
<span id="cb543-8"><a href="vectors.html#cb543-8" aria-hidden="true" tabindex="-1"></a>x[x <span class="sc">%%</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">0</span>]</span>
<span id="cb543-9"><a href="vectors.html#cb543-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 10 NA  8 NA</span></span></code></pre></div></li>
<li><p>If you have a named vector, you can subset it with a character vector:</p>
<div class="sourceCode" id="cb544"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb544-1"><a href="vectors.html#cb544-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">abc =</span> <span class="dv">1</span>, <span class="at">def =</span> <span class="dv">2</span>, <span class="at">xyz =</span> <span class="dv">5</span>)</span>
<span id="cb544-2"><a href="vectors.html#cb544-2" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="st">&quot;xyz&quot;</span>, <span class="st">&quot;def&quot;</span>)]</span>
<span id="cb544-3"><a href="vectors.html#cb544-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; xyz def </span></span>
<span id="cb544-4"><a href="vectors.html#cb544-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   5   2</span></span></code></pre></div>
<p>Like with positive integers, you can also use a character vector to duplicate individual entries.</p></li>
<li><p>The simplest type of subsetting is nothing, <code>x[]</code>, which returns the complete <code>x</code>.
This is not useful for subsetting vectors, but it is useful when subsetting matrices (and other high dimensional structures) because it lets you select all the rows or all the columns, by leaving that index blank.
For example, if <code>x</code> is 2d, <code>x[1, ]</code> selects the first row and all the columns, and <code>x[, -1]</code> selects all rows and all columns except the first.</p></li>
</ol>
<p>To learn more about the applications of subsetting, reading the “Subsetting” chapter of <em>Advanced R</em>: <a href="http://adv-r.had.co.nz/Subsetting.html#applications" class="uri">http://adv-r.had.co.nz/Subsetting.html#applications</a>.</p>
<p>There is an important variation of <code>[</code> called <code>[[</code>.
<code>[[</code> only ever extracts a single element, and always drops names.
It’s a good idea to use it whenever you want to make it clear that you’re extracting a single item, as in a for loop.
The distinction between <code>[</code> and <code>[[</code> is most important for lists, as we’ll see shortly.</p>
</div>
<div id="exercises-55" class="section level3" number="35.4.6">
<h3><span class="header-section-number">35.4.6</span> Exercises</h3>
<ol style="list-style-type: decimal">
<li><p>What does <code>mean(is.na(x))</code> tell you about a vector <code>x</code>?
What about <code>sum(!is.finite(x))</code>?</p></li>
<li><p>Carefully read the documentation of <code>is.vector()</code>.
What does it actually test for?
Why does <code>is.atomic()</code> not agree with the definition of atomic vectors above?</p></li>
<li><p>Compare and contrast <code>setNames()</code> with <code>purrr::set_names()</code>.</p></li>
<li><p>Create functions that take a vector as input and return:</p>
<ol style="list-style-type: lower-alpha">
<li>The last value. Should you use <code>[</code> or <code>[[</code>?</li>
<li>The elements at even numbered positions.</li>
<li>Every element except the last value.</li>
<li>Only even numbers (and no missing values).</li>
</ol></li>
<li><p>Why is <code>x[-which(x &gt; 0)]</code> not the same as <code>x[x &lt;= 0]</code>?</p></li>
<li><p>What happens when you subset with a positive integer that’s bigger than the length of the vector?
What happens when you subset with a name that doesn’t exist?</p></li>
</ol>
</div>
</div>
<div id="lists" class="section level2" number="35.5">
<h2><span class="header-section-number">35.5</span> Recursive vectors (lists)</h2>
<p>Lists are a step up in complexity from atomic vectors, because lists can contain other lists.
This makes them suitable for representing hierarchical or tree-like structures.
You create a list with <code>list()</code>:</p>
<div class="sourceCode" id="cb545"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb545-1"><a href="vectors.html#cb545-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb545-2"><a href="vectors.html#cb545-2" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb545-3"><a href="vectors.html#cb545-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb545-4"><a href="vectors.html#cb545-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1</span></span>
<span id="cb545-5"><a href="vectors.html#cb545-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb545-6"><a href="vectors.html#cb545-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[2]]</span></span>
<span id="cb545-7"><a href="vectors.html#cb545-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 2</span></span>
<span id="cb545-8"><a href="vectors.html#cb545-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb545-9"><a href="vectors.html#cb545-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[3]]</span></span>
<span id="cb545-10"><a href="vectors.html#cb545-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 3</span></span></code></pre></div>
<p>A very useful tool for working with lists is <code>str()</code> because it focusses on the <strong>str</strong>ucture, not the contents.</p>
<div class="sourceCode" id="cb546"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb546-1"><a href="vectors.html#cb546-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(x)</span>
<span id="cb546-2"><a href="vectors.html#cb546-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; List of 3</span></span>
<span id="cb546-3"><a href="vectors.html#cb546-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ : num 1</span></span>
<span id="cb546-4"><a href="vectors.html#cb546-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ : num 2</span></span>
<span id="cb546-5"><a href="vectors.html#cb546-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ : num 3</span></span>
<span id="cb546-6"><a href="vectors.html#cb546-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb546-7"><a href="vectors.html#cb546-7" aria-hidden="true" tabindex="-1"></a>x_named <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">a =</span> <span class="dv">1</span>, <span class="at">b =</span> <span class="dv">2</span>, <span class="at">c =</span> <span class="dv">3</span>)</span>
<span id="cb546-8"><a href="vectors.html#cb546-8" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(x_named)</span>
<span id="cb546-9"><a href="vectors.html#cb546-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; List of 3</span></span>
<span id="cb546-10"><a href="vectors.html#cb546-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ a: num 1</span></span>
<span id="cb546-11"><a href="vectors.html#cb546-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ b: num 2</span></span>
<span id="cb546-12"><a href="vectors.html#cb546-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ c: num 3</span></span></code></pre></div>
<p>Unlike atomic vectors, <code>list()</code> can contain a mix of objects:</p>
<div class="sourceCode" id="cb547"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb547-1"><a href="vectors.html#cb547-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">&quot;a&quot;</span>, 1L, <span class="fl">1.5</span>, <span class="cn">TRUE</span>)</span>
<span id="cb547-2"><a href="vectors.html#cb547-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(y)</span>
<span id="cb547-3"><a href="vectors.html#cb547-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; List of 4</span></span>
<span id="cb547-4"><a href="vectors.html#cb547-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ : chr &quot;a&quot;</span></span>
<span id="cb547-5"><a href="vectors.html#cb547-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ : int 1</span></span>
<span id="cb547-6"><a href="vectors.html#cb547-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ : num 1.5</span></span>
<span id="cb547-7"><a href="vectors.html#cb547-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ : logi TRUE</span></span></code></pre></div>
<p>Lists can even contain other lists!</p>
<div class="sourceCode" id="cb548"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb548-1"><a href="vectors.html#cb548-1" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="fu">list</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="fu">list</span>(<span class="dv">3</span>, <span class="dv">4</span>))</span>
<span id="cb548-2"><a href="vectors.html#cb548-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(z)</span>
<span id="cb548-3"><a href="vectors.html#cb548-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; List of 2</span></span>
<span id="cb548-4"><a href="vectors.html#cb548-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ :List of 2</span></span>
<span id="cb548-5"><a href="vectors.html#cb548-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ : num 1</span></span>
<span id="cb548-6"><a href="vectors.html#cb548-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ : num 2</span></span>
<span id="cb548-7"><a href="vectors.html#cb548-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ :List of 2</span></span>
<span id="cb548-8"><a href="vectors.html#cb548-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ : num 3</span></span>
<span id="cb548-9"><a href="vectors.html#cb548-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ : num 4</span></span></code></pre></div>
<div id="visualising-lists" class="section level3" number="35.5.1">
<h3><span class="header-section-number">35.5.1</span> Visualising lists</h3>
<p>To explain more complicated list manipulation functions, it’s helpful to have a visual representation of lists.
For example, take these three lists:</p>
<div class="sourceCode" id="cb549"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb549-1"><a href="vectors.html#cb549-1" aria-hidden="true" tabindex="-1"></a>x1 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>))</span>
<span id="cb549-2"><a href="vectors.html#cb549-2" aria-hidden="true" tabindex="-1"></a>x2 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="fu">list</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="fu">list</span>(<span class="dv">3</span>, <span class="dv">4</span>))</span>
<span id="cb549-3"><a href="vectors.html#cb549-3" aria-hidden="true" tabindex="-1"></a>x3 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">1</span>, <span class="fu">list</span>(<span class="dv">2</span>, <span class="fu">list</span>(<span class="dv">3</span>)))</span></code></pre></div>
<p>I’ll draw them as follows:</p>
<p><img src="diagrams/lists-structure.png" width="75%" style="display: block; margin: auto;" /></p>
<p>There are three principles:</p>
<ol style="list-style-type: decimal">
<li><p>Lists have rounded corners.
Atomic vectors have square corners.</p></li>
<li><p>Children are drawn inside their parent, and have a slightly darker background to make it easier to see the hierarchy.</p></li>
<li><p>The orientation of the children (i.e. rows or columns) isn’t important, so I’ll pick a row or column orientation to either save space or illustrate an important property in the example.</p></li>
</ol>
</div>
<div id="subsetting-1" class="section level3" number="35.5.2">
<h3><span class="header-section-number">35.5.2</span> Subsetting</h3>
<p>There are three ways to subset a list, which I’ll illustrate with a list named <code>a</code>:</p>
<div class="sourceCode" id="cb550"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb550-1"><a href="vectors.html#cb550-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">a =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">b =</span> <span class="st">&quot;a string&quot;</span>, <span class="at">c =</span> pi, <span class="at">d =</span> <span class="fu">list</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="sc">-</span><span class="dv">5</span>))</span></code></pre></div>
<ul>
<li><p><code>[</code> extracts a sub-list.
The result will always be a list.</p>
<div class="sourceCode" id="cb551"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb551-1"><a href="vectors.html#cb551-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(a[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>])</span>
<span id="cb551-2"><a href="vectors.html#cb551-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; List of 2</span></span>
<span id="cb551-3"><a href="vectors.html#cb551-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ a: int [1:3] 1 2 3</span></span>
<span id="cb551-4"><a href="vectors.html#cb551-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ b: chr &quot;a string&quot;</span></span>
<span id="cb551-5"><a href="vectors.html#cb551-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(a[<span class="dv">4</span>])</span>
<span id="cb551-6"><a href="vectors.html#cb551-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; List of 1</span></span>
<span id="cb551-7"><a href="vectors.html#cb551-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ d:List of 2</span></span>
<span id="cb551-8"><a href="vectors.html#cb551-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ : num -1</span></span>
<span id="cb551-9"><a href="vectors.html#cb551-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ : num -5</span></span></code></pre></div>
<p>Like with vectors, you can subset with a logical, integer, or character vector.</p></li>
<li><p><code>[[</code> extracts a single component from a list.
It removes a level of hierarchy from the list.</p>
<div class="sourceCode" id="cb552"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb552-1"><a href="vectors.html#cb552-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(a[[<span class="dv">1</span>]])</span>
<span id="cb552-2"><a href="vectors.html#cb552-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  int [1:3] 1 2 3</span></span>
<span id="cb552-3"><a href="vectors.html#cb552-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(a[[<span class="dv">4</span>]])</span>
<span id="cb552-4"><a href="vectors.html#cb552-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; List of 2</span></span>
<span id="cb552-5"><a href="vectors.html#cb552-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ : num -1</span></span>
<span id="cb552-6"><a href="vectors.html#cb552-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ : num -5</span></span></code></pre></div></li>
<li><p><code>$</code> is a shorthand for extracting named elements of a list.
It works similarly to <code>[[</code> except that you don’t need to use quotes.</p>
<div class="sourceCode" id="cb553"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb553-1"><a href="vectors.html#cb553-1" aria-hidden="true" tabindex="-1"></a>a<span class="sc">$</span>a</span>
<span id="cb553-2"><a href="vectors.html#cb553-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 3</span></span>
<span id="cb553-3"><a href="vectors.html#cb553-3" aria-hidden="true" tabindex="-1"></a>a[[<span class="st">&quot;a&quot;</span>]]</span>
<span id="cb553-4"><a href="vectors.html#cb553-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 3</span></span></code></pre></div></li>
</ul>
<p>The distinction between <code>[</code> and <code>[[</code> is really important for lists, because <code>[[</code> drills down into the list while <code>[</code> returns a new, smaller list.
Compare the code and output above with the visual representation in Figure <a href="vectors.html#fig:lists-subsetting">35.2</a>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:lists-subsetting"></span>
<img src="diagrams/lists-subsetting.png" alt="Subsetting a list, visually." width="75%" />
<p class="caption">
Figure 35.2: Subsetting a list, visually.
</p>
</div>
</div>
<div id="lists-of-condiments" class="section level3" number="35.5.3">
<h3><span class="header-section-number">35.5.3</span> Lists of condiments</h3>
<p>The difference between <code>[</code> and <code>[[</code> is very important, but it’s easy to get confused.
To help you remember, let me show you an unusual pepper shaker.</p>
<p><img src="images/pepper.jpg" width="25%" style="display: block; margin: auto;" /></p>
<p>If this pepper shaker is your list <code>x</code>, then, <code>x[1]</code> is a pepper shaker containing a single pepper packet:</p>
<p><img src="images/pepper-1.jpg" width="25%" style="display: block; margin: auto;" /></p>
<p><code>x[2]</code> would look the same, but would contain the second packet.
<code>x[1:2]</code> would be a pepper shaker containing two pepper packets.</p>
<p><code>x[[1]]</code> is:</p>
<p><img src="images/pepper-2.jpg" width="25%" style="display: block; margin: auto;" /></p>
<p>If you wanted to get the content of the pepper package, you’d need <code>x[[1]][[1]]</code>:</p>
<p><img src="images/pepper-3.jpg" width="25%" style="display: block; margin: auto;" /></p>
</div>
<div id="exercises-56" class="section level3" number="35.5.4">
<h3><span class="header-section-number">35.5.4</span> Exercises</h3>
<ol style="list-style-type: decimal">
<li><p>Draw the following lists as nested sets:</p>
<ol style="list-style-type: lower-alpha">
<li><code>list(a, b, list(c, d), list(e, f))</code></li>
<li><code>list(list(list(list(list(list(a))))))</code></li>
</ol></li>
<li><p>What happens if you subset a tibble as if you’re subsetting a list?
What are the key differences between a list and a tibble?</p></li>
</ol>
</div>
</div>
<div id="attributes" class="section level2" number="35.6">
<h2><span class="header-section-number">35.6</span> Attributes</h2>
<p>Any vector can contain arbitrary additional metadata through its <strong>attributes</strong>.
You can think of attributes as named list of vectors that can be attached to any object.
You can get and set individual attribute values with <code>attr()</code> or see them all at once with <code>attributes()</code>.</p>
<div class="sourceCode" id="cb554"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb554-1"><a href="vectors.html#cb554-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb554-2"><a href="vectors.html#cb554-2" aria-hidden="true" tabindex="-1"></a><span class="fu">attr</span>(x, <span class="st">&quot;greeting&quot;</span>)</span>
<span id="cb554-3"><a href="vectors.html#cb554-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; NULL</span></span>
<span id="cb554-4"><a href="vectors.html#cb554-4" aria-hidden="true" tabindex="-1"></a><span class="fu">attr</span>(x, <span class="st">&quot;greeting&quot;</span>) <span class="ot">&lt;-</span> <span class="st">&quot;Hi!&quot;</span></span>
<span id="cb554-5"><a href="vectors.html#cb554-5" aria-hidden="true" tabindex="-1"></a><span class="fu">attr</span>(x, <span class="st">&quot;farewell&quot;</span>) <span class="ot">&lt;-</span> <span class="st">&quot;Bye!&quot;</span></span>
<span id="cb554-6"><a href="vectors.html#cb554-6" aria-hidden="true" tabindex="-1"></a><span class="fu">attributes</span>(x)</span>
<span id="cb554-7"><a href="vectors.html#cb554-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $greeting</span></span>
<span id="cb554-8"><a href="vectors.html#cb554-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Hi!&quot;</span></span>
<span id="cb554-9"><a href="vectors.html#cb554-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb554-10"><a href="vectors.html#cb554-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $farewell</span></span>
<span id="cb554-11"><a href="vectors.html#cb554-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Bye!&quot;</span></span></code></pre></div>
<p>There are three very important attributes that are used to implement fundamental parts of R:</p>
<ol style="list-style-type: decimal">
<li><strong>Names</strong> are used to name the elements of a vector.</li>
<li><strong>Dimensions</strong> (dims, for short) make a vector behave like a matrix or array.</li>
<li><strong>Class</strong> is used to implement the S3 object oriented system.</li>
</ol>
<p>You’ve seen names above, and we won’t cover dimensions because we don’t use matrices in this book.
It remains to describe the class, which controls how <strong>generic functions</strong> work.
Generic functions are key to object oriented programming in R, because they make functions behave differently for different classes of input.
A detailed discussion of object oriented programming is beyond the scope of this book, but you can read more about it in <em>Advanced R</em> at <a href="http://adv-r.had.co.nz/OO-essentials.html#s3" class="uri">http://adv-r.had.co.nz/OO-essentials.html#s3</a>.</p>
<p>Here’s what a typical generic function looks like:</p>
<div class="sourceCode" id="cb555"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb555-1"><a href="vectors.html#cb555-1" aria-hidden="true" tabindex="-1"></a>as.Date</span>
<span id="cb555-2"><a href="vectors.html#cb555-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; function (x, ...) </span></span>
<span id="cb555-3"><a href="vectors.html#cb555-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; UseMethod(&quot;as.Date&quot;)</span></span>
<span id="cb555-4"><a href="vectors.html#cb555-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &lt;bytecode: 0x00000000150115a8&gt;</span></span>
<span id="cb555-5"><a href="vectors.html#cb555-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &lt;environment: namespace:base&gt;</span></span></code></pre></div>
<p>The call to “UseMethod” means that this is a generic function, and it will call a specific <strong>method</strong>, a function, based on the class of the first argument.
(All methods are functions; not all functions are methods).
You can list all the methods for a generic with <code>methods()</code>:</p>
<div class="sourceCode" id="cb556"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb556-1"><a href="vectors.html#cb556-1" aria-hidden="true" tabindex="-1"></a><span class="fu">methods</span>(<span class="st">&quot;as.Date&quot;</span>)</span>
<span id="cb556-2"><a href="vectors.html#cb556-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] as.Date.character   as.Date.default     as.Date.factor     </span></span>
<span id="cb556-3"><a href="vectors.html#cb556-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4] as.Date.numeric     as.Date.POSIXct     as.Date.POSIXlt    </span></span>
<span id="cb556-4"><a href="vectors.html#cb556-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [7] as.Date.vctrs_sclr* as.Date.vctrs_vctr*</span></span>
<span id="cb556-5"><a href="vectors.html#cb556-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; see &#39;?methods&#39; for accessing help and source code</span></span></code></pre></div>
<p>For example, if <code>x</code> is a character vector, <code>as.Date()</code> will call <code>as.Date.character()</code>; if it’s a factor, it’ll call <code>as.Date.factor()</code>.</p>
<p>You can see the specific implementation of a method with <code>getS3method()</code>:</p>
<div class="sourceCode" id="cb557"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb557-1"><a href="vectors.html#cb557-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getS3method</span>(<span class="st">&quot;as.Date&quot;</span>, <span class="st">&quot;default&quot;</span>)</span>
<span id="cb557-2"><a href="vectors.html#cb557-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; function (x, ...) </span></span>
<span id="cb557-3"><a href="vectors.html#cb557-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; {</span></span>
<span id="cb557-4"><a href="vectors.html#cb557-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     if (inherits(x, &quot;Date&quot;)) </span></span>
<span id="cb557-5"><a href="vectors.html#cb557-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         x</span></span>
<span id="cb557-6"><a href="vectors.html#cb557-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     else if (is.null(x)) </span></span>
<span id="cb557-7"><a href="vectors.html#cb557-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         .Date(numeric())</span></span>
<span id="cb557-8"><a href="vectors.html#cb557-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     else if (is.logical(x) &amp;&amp; all(is.na(x))) </span></span>
<span id="cb557-9"><a href="vectors.html#cb557-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         .Date(as.numeric(x))</span></span>
<span id="cb557-10"><a href="vectors.html#cb557-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     else stop(gettextf(&quot;do not know how to convert &#39;%s&#39; to class %s&quot;, </span></span>
<span id="cb557-11"><a href="vectors.html#cb557-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         deparse1(substitute(x)), dQuote(&quot;Date&quot;)), domain = NA)</span></span>
<span id="cb557-12"><a href="vectors.html#cb557-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; }</span></span>
<span id="cb557-13"><a href="vectors.html#cb557-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &lt;bytecode: 0x000000001b0b8000&gt;</span></span>
<span id="cb557-14"><a href="vectors.html#cb557-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &lt;environment: namespace:base&gt;</span></span>
<span id="cb557-15"><a href="vectors.html#cb557-15" aria-hidden="true" tabindex="-1"></a><span class="fu">getS3method</span>(<span class="st">&quot;as.Date&quot;</span>, <span class="st">&quot;numeric&quot;</span>)</span>
<span id="cb557-16"><a href="vectors.html#cb557-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; function (x, origin, ...) </span></span>
<span id="cb557-17"><a href="vectors.html#cb557-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; {</span></span>
<span id="cb557-18"><a href="vectors.html#cb557-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     if (missing(origin)) {</span></span>
<span id="cb557-19"><a href="vectors.html#cb557-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         if (!length(x)) </span></span>
<span id="cb557-20"><a href="vectors.html#cb557-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             return(.Date(numeric()))</span></span>
<span id="cb557-21"><a href="vectors.html#cb557-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         if (!any(is.finite(x))) </span></span>
<span id="cb557-22"><a href="vectors.html#cb557-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             return(.Date(x))</span></span>
<span id="cb557-23"><a href="vectors.html#cb557-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         stop(&quot;&#39;origin&#39; must be supplied&quot;)</span></span>
<span id="cb557-24"><a href="vectors.html#cb557-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     }</span></span>
<span id="cb557-25"><a href="vectors.html#cb557-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     as.Date(origin, ...) + x</span></span>
<span id="cb557-26"><a href="vectors.html#cb557-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; }</span></span>
<span id="cb557-27"><a href="vectors.html#cb557-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &lt;bytecode: 0x0000000027064ab8&gt;</span></span>
<span id="cb557-28"><a href="vectors.html#cb557-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &lt;environment: namespace:base&gt;</span></span></code></pre></div>
<p>The most important S3 generic is <code>print()</code>: it controls how the object is printed when you type its name at the console.
Other important generics are the subsetting functions <code>[</code>, <code>[[</code>, and <code>$</code>.</p>
</div>
<div id="augmented-vectors" class="section level2" number="35.7">
<h2><span class="header-section-number">35.7</span> Augmented vectors</h2>
<p>Atomic vectors and lists are the building blocks for other important vector types like factors and dates.
I call these <strong>augmented vectors</strong>, because they are vectors with additional <strong>attributes</strong>, including class.
Because augmented vectors have a class, they behave differently to the atomic vector on which they are built.
In this book, we make use of four important augmented vectors:</p>
<ul>
<li>Factors</li>
<li>Dates</li>
<li>Date-times</li>
<li>Tibbles</li>
</ul>
<p>These are described below.</p>
<div id="factors-1" class="section level3" number="35.7.1">
<h3><span class="header-section-number">35.7.1</span> Factors</h3>
<p>Factors are designed to represent categorical data that can take a fixed set of possible values.
Factors are built on top of integers, and have a levels attribute:</p>
<div class="sourceCode" id="cb558"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb558-1"><a href="vectors.html#cb558-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">c</span>(<span class="st">&quot;ab&quot;</span>, <span class="st">&quot;cd&quot;</span>, <span class="st">&quot;ab&quot;</span>), <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;ab&quot;</span>, <span class="st">&quot;cd&quot;</span>, <span class="st">&quot;ef&quot;</span>))</span>
<span id="cb558-2"><a href="vectors.html#cb558-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(x)</span>
<span id="cb558-3"><a href="vectors.html#cb558-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;integer&quot;</span></span>
<span id="cb558-4"><a href="vectors.html#cb558-4" aria-hidden="true" tabindex="-1"></a><span class="fu">attributes</span>(x)</span>
<span id="cb558-5"><a href="vectors.html#cb558-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $levels</span></span>
<span id="cb558-6"><a href="vectors.html#cb558-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;ab&quot; &quot;cd&quot; &quot;ef&quot;</span></span>
<span id="cb558-7"><a href="vectors.html#cb558-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb558-8"><a href="vectors.html#cb558-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $class</span></span>
<span id="cb558-9"><a href="vectors.html#cb558-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;factor&quot;</span></span></code></pre></div>
</div>
<div id="dates-and-date-times" class="section level3" number="35.7.2">
<h3><span class="header-section-number">35.7.2</span> Dates and date-times</h3>
<p>Dates in R are numeric vectors that represent the number of days since 1 January 1970.</p>
<div class="sourceCode" id="cb559"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb559-1"><a href="vectors.html#cb559-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">&quot;1971-01-01&quot;</span>)</span>
<span id="cb559-2"><a href="vectors.html#cb559-2" aria-hidden="true" tabindex="-1"></a><span class="fu">unclass</span>(x)</span>
<span id="cb559-3"><a href="vectors.html#cb559-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 365</span></span>
<span id="cb559-4"><a href="vectors.html#cb559-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb559-5"><a href="vectors.html#cb559-5" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(x)</span>
<span id="cb559-6"><a href="vectors.html#cb559-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;double&quot;</span></span>
<span id="cb559-7"><a href="vectors.html#cb559-7" aria-hidden="true" tabindex="-1"></a><span class="fu">attributes</span>(x)</span>
<span id="cb559-8"><a href="vectors.html#cb559-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $class</span></span>
<span id="cb559-9"><a href="vectors.html#cb559-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Date&quot;</span></span></code></pre></div>
<p>Date-times are numeric vectors with class <code>POSIXct</code> that represent the number of seconds since 1 January 1970.
(In case you were wondering, “POSIXct” stands for “Portable Operating System Interface”, calendar time.)</p>
<div class="sourceCode" id="cb560"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb560-1"><a href="vectors.html#cb560-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> lubridate<span class="sc">::</span><span class="fu">ymd_hm</span>(<span class="st">&quot;1970-01-01 01:00&quot;</span>)</span>
<span id="cb560-2"><a href="vectors.html#cb560-2" aria-hidden="true" tabindex="-1"></a><span class="fu">unclass</span>(x)</span>
<span id="cb560-3"><a href="vectors.html#cb560-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 3600</span></span>
<span id="cb560-4"><a href="vectors.html#cb560-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; attr(,&quot;tzone&quot;)</span></span>
<span id="cb560-5"><a href="vectors.html#cb560-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;UTC&quot;</span></span>
<span id="cb560-6"><a href="vectors.html#cb560-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb560-7"><a href="vectors.html#cb560-7" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(x)</span>
<span id="cb560-8"><a href="vectors.html#cb560-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;double&quot;</span></span>
<span id="cb560-9"><a href="vectors.html#cb560-9" aria-hidden="true" tabindex="-1"></a><span class="fu">attributes</span>(x)</span>
<span id="cb560-10"><a href="vectors.html#cb560-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $class</span></span>
<span id="cb560-11"><a href="vectors.html#cb560-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;POSIXct&quot; &quot;POSIXt&quot; </span></span>
<span id="cb560-12"><a href="vectors.html#cb560-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb560-13"><a href="vectors.html#cb560-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $tzone</span></span>
<span id="cb560-14"><a href="vectors.html#cb560-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;UTC&quot;</span></span></code></pre></div>
<p>The <code>tzone</code> attribute is optional.
It controls how the time is printed, not what absolute time it refers to.</p>
<div class="sourceCode" id="cb561"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb561-1"><a href="vectors.html#cb561-1" aria-hidden="true" tabindex="-1"></a><span class="fu">attr</span>(x, <span class="st">&quot;tzone&quot;</span>) <span class="ot">&lt;-</span> <span class="st">&quot;US/Pacific&quot;</span></span>
<span id="cb561-2"><a href="vectors.html#cb561-2" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb561-3"><a href="vectors.html#cb561-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;1969-12-31 17:00:00 PST&quot;</span></span>
<span id="cb561-4"><a href="vectors.html#cb561-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb561-5"><a href="vectors.html#cb561-5" aria-hidden="true" tabindex="-1"></a><span class="fu">attr</span>(x, <span class="st">&quot;tzone&quot;</span>) <span class="ot">&lt;-</span> <span class="st">&quot;US/Eastern&quot;</span></span>
<span id="cb561-6"><a href="vectors.html#cb561-6" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb561-7"><a href="vectors.html#cb561-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;1969-12-31 20:00:00 EST&quot;</span></span></code></pre></div>
<p>There is another type of date-times called POSIXlt.
These are built on top of named lists:</p>
<div class="sourceCode" id="cb562"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb562-1"><a href="vectors.html#cb562-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">as.POSIXlt</span>(x)</span>
<span id="cb562-2"><a href="vectors.html#cb562-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(y)</span>
<span id="cb562-3"><a href="vectors.html#cb562-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;list&quot;</span></span>
<span id="cb562-4"><a href="vectors.html#cb562-4" aria-hidden="true" tabindex="-1"></a><span class="fu">attributes</span>(y)</span>
<span id="cb562-5"><a href="vectors.html#cb562-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $names</span></span>
<span id="cb562-6"><a href="vectors.html#cb562-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] &quot;sec&quot;    &quot;min&quot;    &quot;hour&quot;   &quot;mday&quot;   &quot;mon&quot;    &quot;year&quot;   &quot;wday&quot;   &quot;yday&quot;  </span></span>
<span id="cb562-7"><a href="vectors.html#cb562-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [9] &quot;isdst&quot;  &quot;zone&quot;   &quot;gmtoff&quot;</span></span>
<span id="cb562-8"><a href="vectors.html#cb562-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb562-9"><a href="vectors.html#cb562-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $class</span></span>
<span id="cb562-10"><a href="vectors.html#cb562-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;POSIXlt&quot; &quot;POSIXt&quot; </span></span>
<span id="cb562-11"><a href="vectors.html#cb562-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb562-12"><a href="vectors.html#cb562-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $tzone</span></span>
<span id="cb562-13"><a href="vectors.html#cb562-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;US/Eastern&quot; &quot;EST&quot;        &quot;EDT&quot;</span></span></code></pre></div>
<p>POSIXlts are rare inside the tidyverse.
They do crop up in base R, because they are needed to extract specific components of a date, like the year or month.
Since lubridate provides helpers for you to do this instead, you don’t need them.
POSIXct’s are always easier to work with, so if you find you have a POSIXlt, you should always convert it to a regular date time with <code>lubridate::as_date_time()</code>.</p>
</div>
<div id="tibbles-1" class="section level3" number="35.7.3">
<h3><span class="header-section-number">35.7.3</span> Tibbles</h3>
<p>Tibbles are augmented lists: they have class “tbl_df” + “tbl” + “data.frame”, and <code>names</code> (column) and <code>row.names</code> attributes:</p>
<div class="sourceCode" id="cb563"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb563-1"><a href="vectors.html#cb563-1" aria-hidden="true" tabindex="-1"></a>tb <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">tibble</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="at">y =</span> <span class="dv">5</span><span class="sc">:</span><span class="dv">1</span>)</span>
<span id="cb563-2"><a href="vectors.html#cb563-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(tb)</span>
<span id="cb563-3"><a href="vectors.html#cb563-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;list&quot;</span></span>
<span id="cb563-4"><a href="vectors.html#cb563-4" aria-hidden="true" tabindex="-1"></a><span class="fu">attributes</span>(tb)</span>
<span id="cb563-5"><a href="vectors.html#cb563-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $names</span></span>
<span id="cb563-6"><a href="vectors.html#cb563-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;x&quot; &quot;y&quot;</span></span>
<span id="cb563-7"><a href="vectors.html#cb563-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb563-8"><a href="vectors.html#cb563-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $row.names</span></span>
<span id="cb563-9"><a href="vectors.html#cb563-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 3 4 5</span></span>
<span id="cb563-10"><a href="vectors.html#cb563-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb563-11"><a href="vectors.html#cb563-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $class</span></span>
<span id="cb563-12"><a href="vectors.html#cb563-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;tbl_df&quot;     &quot;tbl&quot;        &quot;data.frame&quot;</span></span></code></pre></div>
<p>The difference between a tibble and a list is that all the elements of a data frame must be vectors with the same length.
All functions that work with tibbles enforce this constraint.</p>
<p>Traditional data.frames have a very similar structure:</p>
<div class="sourceCode" id="cb564"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb564-1"><a href="vectors.html#cb564-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="at">y =</span> <span class="dv">5</span><span class="sc">:</span><span class="dv">1</span>)</span>
<span id="cb564-2"><a href="vectors.html#cb564-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(df)</span>
<span id="cb564-3"><a href="vectors.html#cb564-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;list&quot;</span></span>
<span id="cb564-4"><a href="vectors.html#cb564-4" aria-hidden="true" tabindex="-1"></a><span class="fu">attributes</span>(df)</span>
<span id="cb564-5"><a href="vectors.html#cb564-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $names</span></span>
<span id="cb564-6"><a href="vectors.html#cb564-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;x&quot; &quot;y&quot;</span></span>
<span id="cb564-7"><a href="vectors.html#cb564-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb564-8"><a href="vectors.html#cb564-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $class</span></span>
<span id="cb564-9"><a href="vectors.html#cb564-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;data.frame&quot;</span></span>
<span id="cb564-10"><a href="vectors.html#cb564-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb564-11"><a href="vectors.html#cb564-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $row.names</span></span>
<span id="cb564-12"><a href="vectors.html#cb564-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 3 4 5</span></span></code></pre></div>
<p>The main difference is the class.
The class of tibble includes “data.frame” which means tibbles inherit the regular data frame behaviour by default.</p>
</div>
<div id="exercises-57" class="section level3" number="35.7.4">
<h3><span class="header-section-number">35.7.4</span> Exercises</h3>
<ol style="list-style-type: decimal">
<li><p>What does <code>hms::hms(3600)</code> return?
How does it print?
What primitive type is the augmented vector built on top of?
What attributes does it use?</p></li>
<li><p>Try and make a tibble that has columns with different lengths.
What happens?</p></li>
<li><p>Based on the definition above, is it ok to have a list as a column of a tibble?</p></li>
</ol>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="functions.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="iteration.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/hadley/r4ds/edit/master/vectors.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "lunr",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
