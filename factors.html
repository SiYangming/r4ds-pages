<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>20 Factors | R for Data Science (2e)</title>
  <meta name="description" content="This book will teach you how to do data science with R: You’ll learn how to get your data into R, get it into the most useful structure, transform it, visualise it and model it. In this book, you will find a practicum of skills for data science. Just as a chemist learns how to clean test tubes and stock a lab, you’ll learn how to clean data and draw plots—and many other things besides. These are the skills that allow data science to happen, and here you will find the best practices for doing each of these things with R. You’ll learn how to use the grammar of graphics, literate programming, and reproducible research to save time. You’ll also learn how to manage cognitive resources to facilitate discoveries when wrangling, visualising, and exploring data." />
  <meta name="generator" content="bookdown 0.23 and GitBook 2.6.7" />

  <meta property="og:title" content="20 Factors | R for Data Science (2e)" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://r4ds.had.co.nz/" />
  <meta property="og:image" content="https://r4ds.had.co.nz//cover.png" />
  <meta property="og:description" content="This book will teach you how to do data science with R: You’ll learn how to get your data into R, get it into the most useful structure, transform it, visualise it and model it. In this book, you will find a practicum of skills for data science. Just as a chemist learns how to clean test tubes and stock a lab, you’ll learn how to clean data and draw plots—and many other things besides. These are the skills that allow data science to happen, and here you will find the best practices for doing each of these things with R. You’ll learn how to use the grammar of graphics, literate programming, and reproducible research to save time. You’ll also learn how to manage cognitive resources to facilitate discoveries when wrangling, visualising, and exploring data." />
  <meta name="github-repo" content="hadley/r4ds" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="20 Factors | R for Data Science (2e)" />
  <meta name="twitter:site" content="@hadley" />
  <meta name="twitter:description" content="This book will teach you how to do data science with R: You’ll learn how to get your data into R, get it into the most useful structure, transform it, visualise it and model it. In this book, you will find a practicum of skills for data science. Just as a chemist learns how to clean test tubes and stock a lab, you’ll learn how to clean data and draw plots—and many other things besides. These are the skills that allow data science to happen, and here you will find the best practices for doing each of these things with R. You’ll learn how to use the grammar of graphics, literate programming, and reproducible research to save time. You’ll also learn how to manage cognitive resources to facilitate discoveries when wrangling, visualising, and exploring data." />
  <meta name="twitter:image" content="https://r4ds.had.co.nz//cover.png" />

<meta name="author" content="Hadley Wickham and Garrett Grolemund" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="regular-expressions.html"/>
<link rel="next" href="dates-and-times.html"/>
<script src="libs/header-attrs-2.10/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.4.1/leaflet.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115082821-1');
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="r4ds.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">R for Data Science</a></strong></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i>Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="preface-to-the-second-edition.html"><a href="preface-to-the-second-edition.html"><i class="fa fa-check"></i>Preface to the second edition</a>
<ul>
<li class="chapter" data-level="" data-path="preface-to-the-second-edition.html"><a href="preface-to-the-second-edition.html#major-changes"><i class="fa fa-check"></i>Major changes</a></li>
<li class="chapter" data-level="" data-path="preface-to-the-second-edition.html"><a href="preface-to-the-second-edition.html#acknowledgements-1"><i class="fa fa-check"></i>Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#what-you-will-learn"><i class="fa fa-check"></i><b>1.1</b> What you will learn</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#how-this-book-is-organised"><i class="fa fa-check"></i><b>1.2</b> How this book is organised</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#what-you-wont-learn"><i class="fa fa-check"></i><b>1.3</b> What you won’t learn</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="introduction.html"><a href="introduction.html#big-data"><i class="fa fa-check"></i><b>1.3.1</b> Big data</a></li>
<li class="chapter" data-level="1.3.2" data-path="introduction.html"><a href="introduction.html#python-julia-and-friends"><i class="fa fa-check"></i><b>1.3.2</b> Python, Julia, and friends</a></li>
<li class="chapter" data-level="1.3.3" data-path="introduction.html"><a href="introduction.html#non-rectangular-data"><i class="fa fa-check"></i><b>1.3.3</b> Non-rectangular data</a></li>
<li class="chapter" data-level="1.3.4" data-path="introduction.html"><a href="introduction.html#hypothesis-confirmation"><i class="fa fa-check"></i><b>1.3.4</b> Hypothesis confirmation</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#prerequisites"><i class="fa fa-check"></i><b>1.4</b> Prerequisites</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="introduction.html"><a href="introduction.html#r"><i class="fa fa-check"></i><b>1.4.1</b> R</a></li>
<li class="chapter" data-level="1.4.2" data-path="introduction.html"><a href="introduction.html#rstudio"><i class="fa fa-check"></i><b>1.4.2</b> RStudio</a></li>
<li class="chapter" data-level="1.4.3" data-path="introduction.html"><a href="introduction.html#the-tidyverse"><i class="fa fa-check"></i><b>1.4.3</b> The tidyverse</a></li>
<li class="chapter" data-level="1.4.4" data-path="introduction.html"><a href="introduction.html#other-packages"><i class="fa fa-check"></i><b>1.4.4</b> Other packages</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="introduction.html"><a href="introduction.html#running-r-code"><i class="fa fa-check"></i><b>1.5</b> Running R code</a></li>
<li class="chapter" data-level="1.6" data-path="introduction.html"><a href="introduction.html#getting-help-and-learning-more"><i class="fa fa-check"></i><b>1.6</b> Getting help and learning more</a></li>
<li class="chapter" data-level="1.7" data-path="introduction.html"><a href="introduction.html#acknowledgements-2"><i class="fa fa-check"></i><b>1.7</b> Acknowledgements</a></li>
<li class="chapter" data-level="1.8" data-path="introduction.html"><a href="introduction.html#colophon"><i class="fa fa-check"></i><b>1.8</b> Colophon</a></li>
</ul></li>
<li class="part"><span><b>I Whole game</b></span></li>
<li class="chapter" data-level="2" data-path="explore-intro.html"><a href="explore-intro.html"><i class="fa fa-check"></i><b>2</b> Introduction</a></li>
<li class="chapter" data-level="3" data-path="data-visualisation.html"><a href="data-visualisation.html"><i class="fa fa-check"></i><b>3</b> Data visualisation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-visualisation.html"><a href="data-visualisation.html#introduction-1"><i class="fa fa-check"></i><b>3.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="data-visualisation.html"><a href="data-visualisation.html#prerequisites-1"><i class="fa fa-check"></i><b>3.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="data-visualisation.html"><a href="data-visualisation.html#first-steps"><i class="fa fa-check"></i><b>3.2</b> First steps</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="data-visualisation.html"><a href="data-visualisation.html#the-mpg-data-frame"><i class="fa fa-check"></i><b>3.2.1</b> The <code>mpg</code> data frame</a></li>
<li class="chapter" data-level="3.2.2" data-path="data-visualisation.html"><a href="data-visualisation.html#creating-a-ggplot"><i class="fa fa-check"></i><b>3.2.2</b> Creating a ggplot</a></li>
<li class="chapter" data-level="3.2.3" data-path="data-visualisation.html"><a href="data-visualisation.html#a-graphing-template"><i class="fa fa-check"></i><b>3.2.3</b> A graphing template</a></li>
<li class="chapter" data-level="3.2.4" data-path="data-visualisation.html"><a href="data-visualisation.html#exercises"><i class="fa fa-check"></i><b>3.2.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data-visualisation.html"><a href="data-visualisation.html#aesthetic-mappings"><i class="fa fa-check"></i><b>3.3</b> Aesthetic mappings</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="data-visualisation.html"><a href="data-visualisation.html#exercises-1"><i class="fa fa-check"></i><b>3.3.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="data-visualisation.html"><a href="data-visualisation.html#common-problems"><i class="fa fa-check"></i><b>3.4</b> Common problems</a></li>
<li class="chapter" data-level="3.5" data-path="data-visualisation.html"><a href="data-visualisation.html#facets"><i class="fa fa-check"></i><b>3.5</b> Facets</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="data-visualisation.html"><a href="data-visualisation.html#exercises-2"><i class="fa fa-check"></i><b>3.5.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="data-visualisation.html"><a href="data-visualisation.html#geometric-objects"><i class="fa fa-check"></i><b>3.6</b> Geometric objects</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="data-visualisation.html"><a href="data-visualisation.html#exercises-3"><i class="fa fa-check"></i><b>3.6.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="data-visualisation.html"><a href="data-visualisation.html#statistical-transformations"><i class="fa fa-check"></i><b>3.7</b> Statistical transformations</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="data-visualisation.html"><a href="data-visualisation.html#exercises-4"><i class="fa fa-check"></i><b>3.7.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="data-visualisation.html"><a href="data-visualisation.html#position-adjustments"><i class="fa fa-check"></i><b>3.8</b> Position adjustments</a>
<ul>
<li class="chapter" data-level="3.8.1" data-path="data-visualisation.html"><a href="data-visualisation.html#exercises-5"><i class="fa fa-check"></i><b>3.8.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="data-visualisation.html"><a href="data-visualisation.html#coordinate-systems"><i class="fa fa-check"></i><b>3.9</b> Coordinate systems</a>
<ul>
<li class="chapter" data-level="3.9.1" data-path="data-visualisation.html"><a href="data-visualisation.html#exercises-6"><i class="fa fa-check"></i><b>3.9.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.10" data-path="data-visualisation.html"><a href="data-visualisation.html#the-layered-grammar-of-graphics"><i class="fa fa-check"></i><b>3.10</b> The layered grammar of graphics</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="workflow-basics.html"><a href="workflow-basics.html"><i class="fa fa-check"></i><b>4</b> Workflow: basics</a>
<ul>
<li class="chapter" data-level="4.1" data-path="workflow-basics.html"><a href="workflow-basics.html#coding-basics"><i class="fa fa-check"></i><b>4.1</b> Coding basics</a></li>
<li class="chapter" data-level="4.2" data-path="workflow-basics.html"><a href="workflow-basics.html#whats-in-a-name"><i class="fa fa-check"></i><b>4.2</b> What’s in a name?</a></li>
<li class="chapter" data-level="4.3" data-path="workflow-basics.html"><a href="workflow-basics.html#calling-functions"><i class="fa fa-check"></i><b>4.3</b> Calling functions</a></li>
<li class="chapter" data-level="4.4" data-path="workflow-basics.html"><a href="workflow-basics.html#exercises-7"><i class="fa fa-check"></i><b>4.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-transform.html"><a href="data-transform.html"><i class="fa fa-check"></i><b>5</b> Data transformation</a>
<ul>
<li class="chapter" data-level="5.1" data-path="data-transform.html"><a href="data-transform.html#introduction-2"><i class="fa fa-check"></i><b>5.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="data-transform.html"><a href="data-transform.html#prerequisites-2"><i class="fa fa-check"></i><b>5.1.1</b> Prerequisites</a></li>
<li class="chapter" data-level="5.1.2" data-path="data-transform.html"><a href="data-transform.html#nycflights13"><i class="fa fa-check"></i><b>5.1.2</b> nycflights13</a></li>
<li class="chapter" data-level="5.1.3" data-path="data-transform.html"><a href="data-transform.html#dplyr-basics"><i class="fa fa-check"></i><b>5.1.3</b> dplyr basics</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="data-transform.html"><a href="data-transform.html#rows"><i class="fa fa-check"></i><b>5.2</b> Rows</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="data-transform.html"><a href="data-transform.html#filter"><i class="fa fa-check"></i><b>5.2.1</b> <code>filter()</code></a></li>
<li class="chapter" data-level="5.2.2" data-path="data-transform.html"><a href="data-transform.html#arrange"><i class="fa fa-check"></i><b>5.2.2</b> <code>arrange()</code></a></li>
<li class="chapter" data-level="5.2.3" data-path="data-transform.html"><a href="data-transform.html#exercises-8"><i class="fa fa-check"></i><b>5.2.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="data-transform.html"><a href="data-transform.html#columns"><i class="fa fa-check"></i><b>5.3</b> Columns</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="data-transform.html"><a href="data-transform.html#mutate"><i class="fa fa-check"></i><b>5.3.1</b> <code>mutate()</code></a></li>
<li class="chapter" data-level="5.3.2" data-path="data-transform.html"><a href="data-transform.html#select"><i class="fa fa-check"></i><b>5.3.2</b> <code>select()</code></a></li>
<li class="chapter" data-level="5.3.3" data-path="data-transform.html"><a href="data-transform.html#rename"><i class="fa fa-check"></i><b>5.3.3</b> <code>rename()</code></a></li>
<li class="chapter" data-level="5.3.4" data-path="data-transform.html"><a href="data-transform.html#relocate"><i class="fa fa-check"></i><b>5.3.4</b> <code>relocate()</code></a></li>
<li class="chapter" data-level="5.3.5" data-path="data-transform.html"><a href="data-transform.html#exercises-9"><i class="fa fa-check"></i><b>5.3.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="data-transform.html"><a href="data-transform.html#groups"><i class="fa fa-check"></i><b>5.4</b> Groups</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="data-transform.html"><a href="data-transform.html#group_by"><i class="fa fa-check"></i><b>5.4.1</b> <code>group_by()</code></a></li>
<li class="chapter" data-level="5.4.2" data-path="data-transform.html"><a href="data-transform.html#summarise"><i class="fa fa-check"></i><b>5.4.2</b> <code>summarise()</code></a></li>
<li class="chapter" data-level="5.4.3" data-path="data-transform.html"><a href="data-transform.html#combining-multiple-operations"><i class="fa fa-check"></i><b>5.4.3</b> Combining multiple operations</a></li>
<li class="chapter" data-level="5.4.4" data-path="data-transform.html"><a href="data-transform.html#grouping-by-multiple-variables"><i class="fa fa-check"></i><b>5.4.4</b> Grouping by multiple variables</a></li>
<li class="chapter" data-level="5.4.5" data-path="data-transform.html"><a href="data-transform.html#ungrouping"><i class="fa fa-check"></i><b>5.4.5</b> Ungrouping</a></li>
<li class="chapter" data-level="5.4.6" data-path="data-transform.html"><a href="data-transform.html#selecting-rows"><i class="fa fa-check"></i><b>5.4.6</b> Selecting rows</a></li>
<li class="chapter" data-level="5.4.7" data-path="data-transform.html"><a href="data-transform.html#other-verbs"><i class="fa fa-check"></i><b>5.4.7</b> Other verbs</a></li>
<li class="chapter" data-level="5.4.8" data-path="data-transform.html"><a href="data-transform.html#exercises-10"><i class="fa fa-check"></i><b>5.4.8</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="data-transform.html"><a href="data-transform.html#case-study-aggregates-and-sample-size"><i class="fa fa-check"></i><b>5.5</b> Case study: aggregates and sample size</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="data-tidy.html"><a href="data-tidy.html"><i class="fa fa-check"></i><b>6</b> Data tidying</a>
<ul>
<li class="chapter" data-level="6.1" data-path="data-tidy.html"><a href="data-tidy.html#introduction-3"><i class="fa fa-check"></i><b>6.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="data-tidy.html"><a href="data-tidy.html#prerequisites-3"><i class="fa fa-check"></i><b>6.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="data-tidy.html"><a href="data-tidy.html#tidy-data"><i class="fa fa-check"></i><b>6.2</b> Tidy data</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="data-tidy.html"><a href="data-tidy.html#exercises-11"><i class="fa fa-check"></i><b>6.2.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="data-tidy.html"><a href="data-tidy.html#pivoting"><i class="fa fa-check"></i><b>6.3</b> Pivoting</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="data-tidy.html"><a href="data-tidy.html#longer"><i class="fa fa-check"></i><b>6.3.1</b> Longer</a></li>
<li class="chapter" data-level="6.3.2" data-path="data-tidy.html"><a href="data-tidy.html#wider"><i class="fa fa-check"></i><b>6.3.2</b> Wider</a></li>
<li class="chapter" data-level="6.3.3" data-path="data-tidy.html"><a href="data-tidy.html#exercises-12"><i class="fa fa-check"></i><b>6.3.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="data-tidy.html"><a href="data-tidy.html#case-study"><i class="fa fa-check"></i><b>6.4</b> Case study</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="data-tidy.html"><a href="data-tidy.html#exercises-13"><i class="fa fa-check"></i><b>6.4.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="data-tidy.html"><a href="data-tidy.html#non-tidy-data"><i class="fa fa-check"></i><b>6.5</b> Non-tidy data</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="workflow-pipes.html"><a href="workflow-pipes.html"><i class="fa fa-check"></i><b>7</b> Workflow: pipes</a></li>
<li class="chapter" data-level="8" data-path="data-import.html"><a href="data-import.html"><i class="fa fa-check"></i><b>8</b> Data import</a>
<ul>
<li class="chapter" data-level="8.1" data-path="data-import.html"><a href="data-import.html#introduction-4"><i class="fa fa-check"></i><b>8.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="data-import.html"><a href="data-import.html#prerequisites-4"><i class="fa fa-check"></i><b>8.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="data-import.html"><a href="data-import.html#getting-started"><i class="fa fa-check"></i><b>8.2</b> Getting started</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="data-import.html"><a href="data-import.html#compared-to-base-r"><i class="fa fa-check"></i><b>8.2.1</b> Compared to base R</a></li>
<li class="chapter" data-level="8.2.2" data-path="data-import.html"><a href="data-import.html#exercises-14"><i class="fa fa-check"></i><b>8.2.2</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="data-import.html"><a href="data-import.html#parsing-a-vector"><i class="fa fa-check"></i><b>8.3</b> Parsing a vector</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="data-import.html"><a href="data-import.html#numbers"><i class="fa fa-check"></i><b>8.3.1</b> Numbers</a></li>
<li class="chapter" data-level="8.3.2" data-path="data-import.html"><a href="data-import.html#readr-strings"><i class="fa fa-check"></i><b>8.3.2</b> Strings</a></li>
<li class="chapter" data-level="8.3.3" data-path="data-import.html"><a href="data-import.html#readr-factors"><i class="fa fa-check"></i><b>8.3.3</b> Factors</a></li>
<li class="chapter" data-level="8.3.4" data-path="data-import.html"><a href="data-import.html#readr-datetimes"><i class="fa fa-check"></i><b>8.3.4</b> Dates, date-times, and times</a></li>
<li class="chapter" data-level="8.3.5" data-path="data-import.html"><a href="data-import.html#exercises-15"><i class="fa fa-check"></i><b>8.3.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="data-import.html"><a href="data-import.html#parsing-a-file"><i class="fa fa-check"></i><b>8.4</b> Parsing a file</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="data-import.html"><a href="data-import.html#strategy"><i class="fa fa-check"></i><b>8.4.1</b> Strategy</a></li>
<li class="chapter" data-level="8.4.2" data-path="data-import.html"><a href="data-import.html#problems"><i class="fa fa-check"></i><b>8.4.2</b> Problems</a></li>
<li class="chapter" data-level="8.4.3" data-path="data-import.html"><a href="data-import.html#other-strategies"><i class="fa fa-check"></i><b>8.4.3</b> Other strategies</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="data-import.html"><a href="data-import.html#writing-to-a-file"><i class="fa fa-check"></i><b>8.5</b> Writing to a file</a></li>
<li class="chapter" data-level="8.6" data-path="data-import.html"><a href="data-import.html#other-types-of-data"><i class="fa fa-check"></i><b>8.6</b> Other types of data</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="workflow-scripts.html"><a href="workflow-scripts.html"><i class="fa fa-check"></i><b>9</b> Workflow: scripts</a>
<ul>
<li class="chapter" data-level="9.1" data-path="workflow-scripts.html"><a href="workflow-scripts.html#running-code"><i class="fa fa-check"></i><b>9.1</b> Running code</a></li>
<li class="chapter" data-level="9.2" data-path="workflow-scripts.html"><a href="workflow-scripts.html#rstudio-diagnostics"><i class="fa fa-check"></i><b>9.2</b> RStudio diagnostics</a></li>
<li class="chapter" data-level="9.3" data-path="workflow-scripts.html"><a href="workflow-scripts.html#exercises-16"><i class="fa fa-check"></i><b>9.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html"><i class="fa fa-check"></i><b>10</b> Exploratory Data Analysis</a>
<ul>
<li class="chapter" data-level="10.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#introduction-5"><i class="fa fa-check"></i><b>10.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#prerequisites-5"><i class="fa fa-check"></i><b>10.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#questions"><i class="fa fa-check"></i><b>10.2</b> Questions</a></li>
<li class="chapter" data-level="10.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#variation"><i class="fa fa-check"></i><b>10.3</b> Variation</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#visualising-distributions"><i class="fa fa-check"></i><b>10.3.1</b> Visualising distributions</a></li>
<li class="chapter" data-level="10.3.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#typical-values"><i class="fa fa-check"></i><b>10.3.2</b> Typical values</a></li>
<li class="chapter" data-level="10.3.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#unusual-values"><i class="fa fa-check"></i><b>10.3.3</b> Unusual values</a></li>
<li class="chapter" data-level="10.3.4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#exercises-17"><i class="fa fa-check"></i><b>10.3.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#missing-values-eda"><i class="fa fa-check"></i><b>10.4</b> Missing values</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#exercises-18"><i class="fa fa-check"></i><b>10.4.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#covariation"><i class="fa fa-check"></i><b>10.5</b> Covariation</a>
<ul>
<li class="chapter" data-level="10.5.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#cat-cont"><i class="fa fa-check"></i><b>10.5.1</b> A categorical and continuous variable</a></li>
<li class="chapter" data-level="10.5.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#two-categorical-variables"><i class="fa fa-check"></i><b>10.5.2</b> Two categorical variables</a></li>
<li class="chapter" data-level="10.5.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#two-continuous-variables"><i class="fa fa-check"></i><b>10.5.3</b> Two continuous variables</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#patterns-and-models"><i class="fa fa-check"></i><b>10.6</b> Patterns and models</a></li>
<li class="chapter" data-level="10.7" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#ggplot2-calls"><i class="fa fa-check"></i><b>10.7</b> ggplot2 calls</a></li>
<li class="chapter" data-level="10.8" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#learning-more"><i class="fa fa-check"></i><b>10.8</b> Learning more</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="workflow-projects.html"><a href="workflow-projects.html"><i class="fa fa-check"></i><b>11</b> Workflow: projects</a>
<ul>
<li class="chapter" data-level="11.1" data-path="workflow-projects.html"><a href="workflow-projects.html#what-is-real"><i class="fa fa-check"></i><b>11.1</b> What is real?</a></li>
<li class="chapter" data-level="11.2" data-path="workflow-projects.html"><a href="workflow-projects.html#where-does-your-analysis-live"><i class="fa fa-check"></i><b>11.2</b> Where does your analysis live?</a></li>
<li class="chapter" data-level="11.3" data-path="workflow-projects.html"><a href="workflow-projects.html#paths-and-directories"><i class="fa fa-check"></i><b>11.3</b> Paths and directories</a></li>
<li class="chapter" data-level="11.4" data-path="workflow-projects.html"><a href="workflow-projects.html#rstudio-projects"><i class="fa fa-check"></i><b>11.4</b> RStudio projects</a></li>
<li class="chapter" data-level="11.5" data-path="workflow-projects.html"><a href="workflow-projects.html#summary"><i class="fa fa-check"></i><b>11.5</b> Summary</a></li>
</ul></li>
<li class="part"><span><b>II Transform</b></span></li>
<li class="chapter" data-level="12" data-path="data-types-intro.html"><a href="data-types-intro.html"><i class="fa fa-check"></i><b>12</b> Introduction</a></li>
<li class="chapter" data-level="13" data-path="tibbles.html"><a href="tibbles.html"><i class="fa fa-check"></i><b>13</b> Tibbles</a>
<ul>
<li class="chapter" data-level="13.1" data-path="tibbles.html"><a href="tibbles.html#introduction-6"><i class="fa fa-check"></i><b>13.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="tibbles.html"><a href="tibbles.html#prerequisites-6"><i class="fa fa-check"></i><b>13.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="tibbles.html"><a href="tibbles.html#creating-tibbles"><i class="fa fa-check"></i><b>13.2</b> Creating tibbles</a></li>
<li class="chapter" data-level="13.3" data-path="tibbles.html"><a href="tibbles.html#tibbles-vs.-data.frame"><i class="fa fa-check"></i><b>13.3</b> Tibbles vs. data.frame</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="tibbles.html"><a href="tibbles.html#printing"><i class="fa fa-check"></i><b>13.3.1</b> Printing</a></li>
<li class="chapter" data-level="13.3.2" data-path="tibbles.html"><a href="tibbles.html#subsetting"><i class="fa fa-check"></i><b>13.3.2</b> Subsetting</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="tibbles.html"><a href="tibbles.html#interacting-with-older-code"><i class="fa fa-check"></i><b>13.4</b> Interacting with older code</a></li>
<li class="chapter" data-level="13.5" data-path="tibbles.html"><a href="tibbles.html#exercises-22"><i class="fa fa-check"></i><b>13.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="relational-data.html"><a href="relational-data.html"><i class="fa fa-check"></i><b>14</b> Relational data</a>
<ul>
<li class="chapter" data-level="14.1" data-path="relational-data.html"><a href="relational-data.html#introduction-7"><i class="fa fa-check"></i><b>14.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="14.1.1" data-path="relational-data.html"><a href="relational-data.html#prerequisites-7"><i class="fa fa-check"></i><b>14.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="relational-data.html"><a href="relational-data.html#nycflights13-relational"><i class="fa fa-check"></i><b>14.2</b> nycflights13</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="relational-data.html"><a href="relational-data.html#exercises-23"><i class="fa fa-check"></i><b>14.2.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="relational-data.html"><a href="relational-data.html#keys"><i class="fa fa-check"></i><b>14.3</b> Keys</a>
<ul>
<li class="chapter" data-level="14.3.1" data-path="relational-data.html"><a href="relational-data.html#exercises-24"><i class="fa fa-check"></i><b>14.3.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="relational-data.html"><a href="relational-data.html#mutating-joins"><i class="fa fa-check"></i><b>14.4</b> Mutating joins</a>
<ul>
<li class="chapter" data-level="14.4.1" data-path="relational-data.html"><a href="relational-data.html#understanding-joins"><i class="fa fa-check"></i><b>14.4.1</b> Understanding joins</a></li>
<li class="chapter" data-level="14.4.2" data-path="relational-data.html"><a href="relational-data.html#inner-join"><i class="fa fa-check"></i><b>14.4.2</b> Inner join</a></li>
<li class="chapter" data-level="14.4.3" data-path="relational-data.html"><a href="relational-data.html#outer-join"><i class="fa fa-check"></i><b>14.4.3</b> Outer joins</a></li>
<li class="chapter" data-level="14.4.4" data-path="relational-data.html"><a href="relational-data.html#join-matches"><i class="fa fa-check"></i><b>14.4.4</b> Duplicate keys</a></li>
<li class="chapter" data-level="14.4.5" data-path="relational-data.html"><a href="relational-data.html#join-by"><i class="fa fa-check"></i><b>14.4.5</b> Defining the key columns</a></li>
<li class="chapter" data-level="14.4.6" data-path="relational-data.html"><a href="relational-data.html#exercises-25"><i class="fa fa-check"></i><b>14.4.6</b> Exercises</a></li>
<li class="chapter" data-level="14.4.7" data-path="relational-data.html"><a href="relational-data.html#other-implementations"><i class="fa fa-check"></i><b>14.4.7</b> Other implementations</a></li>
</ul></li>
<li class="chapter" data-level="14.5" data-path="relational-data.html"><a href="relational-data.html#filtering-joins"><i class="fa fa-check"></i><b>14.5</b> Filtering joins</a>
<ul>
<li class="chapter" data-level="14.5.1" data-path="relational-data.html"><a href="relational-data.html#exercises-26"><i class="fa fa-check"></i><b>14.5.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="14.6" data-path="relational-data.html"><a href="relational-data.html#join-problems"><i class="fa fa-check"></i><b>14.6</b> Join problems</a></li>
<li class="chapter" data-level="14.7" data-path="relational-data.html"><a href="relational-data.html#set-operations"><i class="fa fa-check"></i><b>14.7</b> Set operations</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="vector-tools.html"><a href="vector-tools.html"><i class="fa fa-check"></i><b>15</b> Vector tools</a>
<ul>
<li class="chapter" data-level="15.1" data-path="vector-tools.html"><a href="vector-tools.html#introduction-8"><i class="fa fa-check"></i><b>15.1</b> Introduction</a></li>
<li class="chapter" data-level="15.2" data-path="vector-tools.html"><a href="vector-tools.html#counts"><i class="fa fa-check"></i><b>15.2</b> Counts</a></li>
<li class="chapter" data-level="15.3" data-path="vector-tools.html"><a href="vector-tools.html#window-functions"><i class="fa fa-check"></i><b>15.3</b> Window functions</a>
<ul>
<li class="chapter" data-level="15.3.1" data-path="vector-tools.html"><a href="vector-tools.html#dplyr"><i class="fa fa-check"></i><b>15.3.1</b> dplyr</a></li>
<li class="chapter" data-level="15.3.2" data-path="vector-tools.html"><a href="vector-tools.html#exercises-27"><i class="fa fa-check"></i><b>15.3.2</b> Exercises</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="logicals-numbers.html"><a href="logicals-numbers.html"><i class="fa fa-check"></i><b>16</b> Logicals and numbers</a>
<ul>
<li class="chapter" data-level="16.1" data-path="logicals-numbers.html"><a href="logicals-numbers.html#introduction-9"><i class="fa fa-check"></i><b>16.1</b> Introduction</a></li>
<li class="chapter" data-level="16.2" data-path="logicals-numbers.html"><a href="logicals-numbers.html#logical-operators"><i class="fa fa-check"></i><b>16.2</b> Logical operators</a></li>
<li class="chapter" data-level="16.3" data-path="logicals-numbers.html"><a href="logicals-numbers.html#summaries"><i class="fa fa-check"></i><b>16.3</b> Summaries</a>
<ul>
<li class="chapter" data-level="16.3.1" data-path="logicals-numbers.html"><a href="logicals-numbers.html#exercises-28"><i class="fa fa-check"></i><b>16.3.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="logicals-numbers.html"><a href="logicals-numbers.html#basic-math"><i class="fa fa-check"></i><b>16.4</b> Basic math</a>
<ul>
<li class="chapter" data-level="16.4.1" data-path="logicals-numbers.html"><a href="logicals-numbers.html#recycling-rules"><i class="fa fa-check"></i><b>16.4.1</b> Recycling rules</a></li>
</ul></li>
<li class="chapter" data-level="16.5" data-path="logicals-numbers.html"><a href="logicals-numbers.html#summaries-1"><i class="fa fa-check"></i><b>16.5</b> Summaries</a>
<ul>
<li class="chapter" data-level="16.5.1" data-path="logicals-numbers.html"><a href="logicals-numbers.html#exercises-29"><i class="fa fa-check"></i><b>16.5.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="16.6" data-path="logicals-numbers.html"><a href="logicals-numbers.html#floating-point"><i class="fa fa-check"></i><b>16.6</b> Floating point</a></li>
<li class="chapter" data-level="16.7" data-path="logicals-numbers.html"><a href="logicals-numbers.html#exercises-30"><i class="fa fa-check"></i><b>16.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>17</b> Missing values</a>
<ul>
<li class="chapter" data-level="17.1" data-path="missing-values.html"><a href="missing-values.html#introduction-10"><i class="fa fa-check"></i><b>17.1</b> Introduction</a></li>
<li class="chapter" data-level="17.2" data-path="missing-values.html"><a href="missing-values.html#basics"><i class="fa fa-check"></i><b>17.2</b> Basics</a>
<ul>
<li class="chapter" data-level="17.2.1" data-path="missing-values.html"><a href="missing-values.html#missing-values-filter"><i class="fa fa-check"></i><b>17.2.1</b> Missing values</a></li>
<li class="chapter" data-level="17.2.2" data-path="missing-values.html"><a href="missing-values.html#exercises-31"><i class="fa fa-check"></i><b>17.2.2</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="missing-values.html"><a href="missing-values.html#missing-values-tidy"><i class="fa fa-check"></i><b>17.3</b> Explicit vs implicit missing values</a>
<ul>
<li class="chapter" data-level="17.3.1" data-path="missing-values.html"><a href="missing-values.html#exercises-32"><i class="fa fa-check"></i><b>17.3.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="17.4" data-path="missing-values.html"><a href="missing-values.html#dplyr-verbs"><i class="fa fa-check"></i><b>17.4</b> dplyr verbs</a></li>
<li class="chapter" data-level="17.5" data-path="missing-values.html"><a href="missing-values.html#exercises-33"><i class="fa fa-check"></i><b>17.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="strings.html"><a href="strings.html"><i class="fa fa-check"></i><b>18</b> Strings</a>
<ul>
<li class="chapter" data-level="18.1" data-path="strings.html"><a href="strings.html#introduction-11"><i class="fa fa-check"></i><b>18.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="18.1.1" data-path="strings.html"><a href="strings.html#prerequisites-8"><i class="fa fa-check"></i><b>18.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="18.2" data-path="strings.html"><a href="strings.html#creating-a-string"><i class="fa fa-check"></i><b>18.2</b> Creating a string</a>
<ul>
<li class="chapter" data-level="18.2.1" data-path="strings.html"><a href="strings.html#escapes"><i class="fa fa-check"></i><b>18.2.1</b> Escapes</a></li>
<li class="chapter" data-level="18.2.2" data-path="strings.html"><a href="strings.html#raw-strings"><i class="fa fa-check"></i><b>18.2.2</b> Raw strings</a></li>
<li class="chapter" data-level="18.2.3" data-path="strings.html"><a href="strings.html#other-special-characters"><i class="fa fa-check"></i><b>18.2.3</b> Other special characters</a></li>
</ul></li>
<li class="chapter" data-level="18.3" data-path="strings.html"><a href="strings.html#combining-strings"><i class="fa fa-check"></i><b>18.3</b> Combining strings</a></li>
<li class="chapter" data-level="18.4" data-path="strings.html"><a href="strings.html#length-and-subsetting"><i class="fa fa-check"></i><b>18.4</b> Length and subsetting</a>
<ul>
<li class="chapter" data-level="18.4.1" data-path="strings.html"><a href="strings.html#exercises-34"><i class="fa fa-check"></i><b>18.4.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="18.5" data-path="strings.html"><a href="strings.html#long-strings"><i class="fa fa-check"></i><b>18.5</b> Long strings</a></li>
<li class="chapter" data-level="18.6" data-path="strings.html"><a href="strings.html#string-summaries"><i class="fa fa-check"></i><b>18.6</b> String summaries</a></li>
<li class="chapter" data-level="18.7" data-path="strings.html"><a href="strings.html#detect-matches"><i class="fa fa-check"></i><b>18.7</b> Detect matches</a>
<ul>
<li class="chapter" data-level="18.7.1" data-path="strings.html"><a href="strings.html#exercises-35"><i class="fa fa-check"></i><b>18.7.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="18.8" data-path="strings.html"><a href="strings.html#introduction-to-regular-expressions"><i class="fa fa-check"></i><b>18.8</b> Introduction to regular expressions</a>
<ul>
<li class="chapter" data-level="18.8.1" data-path="strings.html"><a href="strings.html#exercises-36"><i class="fa fa-check"></i><b>18.8.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="18.9" data-path="strings.html"><a href="strings.html#replacing-matches"><i class="fa fa-check"></i><b>18.9</b> Replacing matches</a></li>
<li class="chapter" data-level="18.10" data-path="strings.html"><a href="strings.html#extract-full-matches"><i class="fa fa-check"></i><b>18.10</b> Extract full matches</a>
<ul>
<li class="chapter" data-level="18.10.1" data-path="strings.html"><a href="strings.html#exercises-38"><i class="fa fa-check"></i><b>18.10.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="18.11" data-path="strings.html"><a href="strings.html#strings---columns"><i class="fa fa-check"></i><b>18.11</b> Strings -&gt; Columns</a></li>
<li class="chapter" data-level="18.12" data-path="strings.html"><a href="strings.html#separate"><i class="fa fa-check"></i><b>18.12</b> Separate</a></li>
<li class="chapter" data-level="18.13" data-path="strings.html"><a href="strings.html#strings---rows"><i class="fa fa-check"></i><b>18.13</b> Strings -&gt; Rows</a>
<ul>
<li class="chapter" data-level="18.13.1" data-path="strings.html"><a href="strings.html#exercises-39"><i class="fa fa-check"></i><b>18.13.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="18.14" data-path="strings.html"><a href="strings.html#other-languages"><i class="fa fa-check"></i><b>18.14</b> Other writing systems</a>
<ul>
<li class="chapter" data-level="18.14.1" data-path="strings.html"><a href="strings.html#encoding"><i class="fa fa-check"></i><b>18.14.1</b> Encoding</a></li>
<li class="chapter" data-level="18.14.2" data-path="strings.html"><a href="strings.html#length-and-subsetting-1"><i class="fa fa-check"></i><b>18.14.2</b> Length and subsetting</a></li>
<li class="chapter" data-level="18.14.3" data-path="strings.html"><a href="strings.html#collation-rules"><i class="fa fa-check"></i><b>18.14.3</b> Collation rules</a></li>
<li class="chapter" data-level="18.14.4" data-path="strings.html"><a href="strings.html#upper-and-lower-case"><i class="fa fa-check"></i><b>18.14.4</b> Upper and lower case</a></li>
<li class="chapter" data-level="18.14.5" data-path="strings.html"><a href="strings.html#sorting"><i class="fa fa-check"></i><b>18.14.5</b> Sorting</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="19" data-path="regular-expressions.html"><a href="regular-expressions.html"><i class="fa fa-check"></i><b>19</b> Regular expressions</a>
<ul>
<li class="chapter" data-level="19.1" data-path="regular-expressions.html"><a href="regular-expressions.html#introduction-12"><i class="fa fa-check"></i><b>19.1</b> Introduction</a></li>
<li class="chapter" data-level="19.2" data-path="regular-expressions.html"><a href="regular-expressions.html#matching-patterns-with-regular-expressions"><i class="fa fa-check"></i><b>19.2</b> Matching patterns with regular expressions</a>
<ul>
<li class="chapter" data-level="19.2.1" data-path="regular-expressions.html"><a href="regular-expressions.html#prerequisites-9"><i class="fa fa-check"></i><b>19.2.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="19.3" data-path="regular-expressions.html"><a href="regular-expressions.html#basic-matches"><i class="fa fa-check"></i><b>19.3</b> Basic matches</a>
<ul>
<li class="chapter" data-level="19.3.1" data-path="regular-expressions.html"><a href="regular-expressions.html#exercises-40"><i class="fa fa-check"></i><b>19.3.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="19.4" data-path="regular-expressions.html"><a href="regular-expressions.html#anchors"><i class="fa fa-check"></i><b>19.4</b> Anchors</a>
<ul>
<li class="chapter" data-level="19.4.1" data-path="regular-expressions.html"><a href="regular-expressions.html#exercises-41"><i class="fa fa-check"></i><b>19.4.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="19.5" data-path="regular-expressions.html"><a href="regular-expressions.html#overlapping-and-zero-width-patterns"><i class="fa fa-check"></i><b>19.5</b> Overlapping and zero-width patterns</a></li>
<li class="chapter" data-level="19.6" data-path="regular-expressions.html"><a href="regular-expressions.html#character-classes-and-alternatives"><i class="fa fa-check"></i><b>19.6</b> Character classes and alternatives</a>
<ul>
<li class="chapter" data-level="19.6.1" data-path="regular-expressions.html"><a href="regular-expressions.html#exercises-42"><i class="fa fa-check"></i><b>19.6.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="19.7" data-path="regular-expressions.html"><a href="regular-expressions.html#repetition-quantifiers"><i class="fa fa-check"></i><b>19.7</b> Repetition / Quantifiers</a>
<ul>
<li class="chapter" data-level="19.7.1" data-path="regular-expressions.html"><a href="regular-expressions.html#exercises-43"><i class="fa fa-check"></i><b>19.7.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="19.8" data-path="regular-expressions.html"><a href="regular-expressions.html#grouping-and-backreferences"><i class="fa fa-check"></i><b>19.8</b> Grouping and backreferences</a>
<ul>
<li class="chapter" data-level="19.8.1" data-path="regular-expressions.html"><a href="regular-expressions.html#exercises-44"><i class="fa fa-check"></i><b>19.8.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="19.9" data-path="regular-expressions.html"><a href="regular-expressions.html#other-uses-of-regular-expressions"><i class="fa fa-check"></i><b>19.9</b> Other uses of regular expressions</a></li>
<li class="chapter" data-level="19.10" data-path="regular-expressions.html"><a href="regular-expressions.html#options"><i class="fa fa-check"></i><b>19.10</b> Options</a></li>
<li class="chapter" data-level="19.11" data-path="regular-expressions.html"><a href="regular-expressions.html#a-caution"><i class="fa fa-check"></i><b>19.11</b> A caution</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="factors.html"><a href="factors.html"><i class="fa fa-check"></i><b>20</b> Factors</a>
<ul>
<li class="chapter" data-level="20.1" data-path="factors.html"><a href="factors.html#introduction-13"><i class="fa fa-check"></i><b>20.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="20.1.1" data-path="factors.html"><a href="factors.html#prerequisites-10"><i class="fa fa-check"></i><b>20.1.1</b> Prerequisites</a></li>
<li class="chapter" data-level="20.1.2" data-path="factors.html"><a href="factors.html#learning-more-1"><i class="fa fa-check"></i><b>20.1.2</b> Learning more</a></li>
</ul></li>
<li class="chapter" data-level="20.2" data-path="factors.html"><a href="factors.html#creating-factors"><i class="fa fa-check"></i><b>20.2</b> Creating factors</a></li>
<li class="chapter" data-level="20.3" data-path="factors.html"><a href="factors.html#general-social-survey"><i class="fa fa-check"></i><b>20.3</b> General Social Survey</a>
<ul>
<li class="chapter" data-level="20.3.1" data-path="factors.html"><a href="factors.html#exercise"><i class="fa fa-check"></i><b>20.3.1</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="20.4" data-path="factors.html"><a href="factors.html#modifying-factor-order"><i class="fa fa-check"></i><b>20.4</b> Modifying factor order</a>
<ul>
<li class="chapter" data-level="20.4.1" data-path="factors.html"><a href="factors.html#exercises-45"><i class="fa fa-check"></i><b>20.4.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="20.5" data-path="factors.html"><a href="factors.html#modifying-factor-levels"><i class="fa fa-check"></i><b>20.5</b> Modifying factor levels</a>
<ul>
<li class="chapter" data-level="20.5.1" data-path="factors.html"><a href="factors.html#exercises-46"><i class="fa fa-check"></i><b>20.5.1</b> Exercises</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="21" data-path="dates-and-times.html"><a href="dates-and-times.html"><i class="fa fa-check"></i><b>21</b> Dates and times</a>
<ul>
<li class="chapter" data-level="21.1" data-path="dates-and-times.html"><a href="dates-and-times.html#introduction-14"><i class="fa fa-check"></i><b>21.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="21.1.1" data-path="dates-and-times.html"><a href="dates-and-times.html#prerequisites-11"><i class="fa fa-check"></i><b>21.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="21.2" data-path="dates-and-times.html"><a href="dates-and-times.html#creating-datetimes"><i class="fa fa-check"></i><b>21.2</b> Creating date/times</a>
<ul>
<li class="chapter" data-level="21.2.1" data-path="dates-and-times.html"><a href="dates-and-times.html#from-strings"><i class="fa fa-check"></i><b>21.2.1</b> From strings</a></li>
<li class="chapter" data-level="21.2.2" data-path="dates-and-times.html"><a href="dates-and-times.html#from-individual-components"><i class="fa fa-check"></i><b>21.2.2</b> From individual components</a></li>
<li class="chapter" data-level="21.2.3" data-path="dates-and-times.html"><a href="dates-and-times.html#from-other-types"><i class="fa fa-check"></i><b>21.2.3</b> From other types</a></li>
<li class="chapter" data-level="21.2.4" data-path="dates-and-times.html"><a href="dates-and-times.html#exercises-47"><i class="fa fa-check"></i><b>21.2.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="21.3" data-path="dates-and-times.html"><a href="dates-and-times.html#date-time-components"><i class="fa fa-check"></i><b>21.3</b> Date-time components</a>
<ul>
<li class="chapter" data-level="21.3.1" data-path="dates-and-times.html"><a href="dates-and-times.html#getting-components"><i class="fa fa-check"></i><b>21.3.1</b> Getting components</a></li>
<li class="chapter" data-level="21.3.2" data-path="dates-and-times.html"><a href="dates-and-times.html#rounding"><i class="fa fa-check"></i><b>21.3.2</b> Rounding</a></li>
<li class="chapter" data-level="21.3.3" data-path="dates-and-times.html"><a href="dates-and-times.html#setting-components"><i class="fa fa-check"></i><b>21.3.3</b> Setting components</a></li>
<li class="chapter" data-level="21.3.4" data-path="dates-and-times.html"><a href="dates-and-times.html#exercises-48"><i class="fa fa-check"></i><b>21.3.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="21.4" data-path="dates-and-times.html"><a href="dates-and-times.html#time-spans"><i class="fa fa-check"></i><b>21.4</b> Time spans</a>
<ul>
<li class="chapter" data-level="21.4.1" data-path="dates-and-times.html"><a href="dates-and-times.html#durations"><i class="fa fa-check"></i><b>21.4.1</b> Durations</a></li>
<li class="chapter" data-level="21.4.2" data-path="dates-and-times.html"><a href="dates-and-times.html#periods"><i class="fa fa-check"></i><b>21.4.2</b> Periods</a></li>
<li class="chapter" data-level="21.4.3" data-path="dates-and-times.html"><a href="dates-and-times.html#intervals"><i class="fa fa-check"></i><b>21.4.3</b> Intervals</a></li>
<li class="chapter" data-level="21.4.4" data-path="dates-and-times.html"><a href="dates-and-times.html#summary-1"><i class="fa fa-check"></i><b>21.4.4</b> Summary</a></li>
<li class="chapter" data-level="21.4.5" data-path="dates-and-times.html"><a href="dates-and-times.html#exercises-49"><i class="fa fa-check"></i><b>21.4.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="21.5" data-path="dates-and-times.html"><a href="dates-and-times.html#time-zones"><i class="fa fa-check"></i><b>21.5</b> Time zones</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="column-wise.html"><a href="column-wise.html"><i class="fa fa-check"></i><b>22</b> Column-wise operations</a>
<ul>
<li class="chapter" data-level="22.1" data-path="column-wise.html"><a href="column-wise.html#introduction-15"><i class="fa fa-check"></i><b>22.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="22.1.1" data-path="column-wise.html"><a href="column-wise.html#prerequisites-12"><i class="fa fa-check"></i><b>22.1.1</b> Prerequisites</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Import</b></span></li>
<li class="chapter" data-level="23" data-path="import-intro.html"><a href="import-intro.html"><i class="fa fa-check"></i><b>23</b> Introduction</a></li>
<li class="chapter" data-level="24" data-path="import-rectangular.html"><a href="import-rectangular.html"><i class="fa fa-check"></i><b>24</b> Rectangular data</a></li>
<li class="chapter" data-level="25" data-path="import-spreadsheets.html"><a href="import-spreadsheets.html"><i class="fa fa-check"></i><b>25</b> Spreadsheets</a></li>
<li class="chapter" data-level="26" data-path="import-databases.html"><a href="import-databases.html"><i class="fa fa-check"></i><b>26</b> Databases</a></li>
<li class="chapter" data-level="27" data-path="import-webscrape.html"><a href="import-webscrape.html"><i class="fa fa-check"></i><b>27</b> Web scraping</a></li>
<li class="chapter" data-level="28" data-path="import-other.html"><a href="import-other.html"><i class="fa fa-check"></i><b>28</b> Other types of data</a></li>
<li class="part"><span><b>IV Tidy</b></span></li>
<li class="chapter" data-level="29" data-path="wrangle-intro.html"><a href="wrangle-intro.html"><i class="fa fa-check"></i><b>29</b> Introduction</a></li>
<li class="chapter" data-level="30" data-path="list-columns.html"><a href="list-columns.html"><i class="fa fa-check"></i><b>30</b> List columns</a>
<ul>
<li class="chapter" data-level="30.1" data-path="list-columns.html"><a href="list-columns.html#introduction-16"><i class="fa fa-check"></i><b>30.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="30.1.1" data-path="list-columns.html"><a href="list-columns.html#prerequisites-13"><i class="fa fa-check"></i><b>30.1.1</b> Prerequisites</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="31" data-path="rectangle-data.html"><a href="rectangle-data.html"><i class="fa fa-check"></i><b>31</b> Data rectangling</a>
<ul>
<li class="chapter" data-level="31.1" data-path="rectangle-data.html"><a href="rectangle-data.html#introduction-17"><i class="fa fa-check"></i><b>31.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="31.1.1" data-path="rectangle-data.html"><a href="rectangle-data.html#prerequisites-14"><i class="fa fa-check"></i><b>31.1.1</b> Prerequisites</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>V Program</b></span></li>
<li class="chapter" data-level="32" data-path="program-intro.html"><a href="program-intro.html"><i class="fa fa-check"></i><b>32</b> Introduction</a>
<ul>
<li class="chapter" data-level="32.1" data-path="program-intro.html"><a href="program-intro.html#learning-more-2"><i class="fa fa-check"></i><b>32.1</b> Learning more</a></li>
</ul></li>
<li class="chapter" data-level="33" data-path="pipes.html"><a href="pipes.html"><i class="fa fa-check"></i><b>33</b> Pipes</a>
<ul>
<li class="chapter" data-level="33.1" data-path="pipes.html"><a href="pipes.html#introduction-18"><i class="fa fa-check"></i><b>33.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="33.1.1" data-path="pipes.html"><a href="pipes.html#prerequisites-15"><i class="fa fa-check"></i><b>33.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="33.2" data-path="pipes.html"><a href="pipes.html#piping-alternatives"><i class="fa fa-check"></i><b>33.2</b> Piping alternatives</a>
<ul>
<li class="chapter" data-level="33.2.1" data-path="pipes.html"><a href="pipes.html#intermediate-steps"><i class="fa fa-check"></i><b>33.2.1</b> Intermediate steps</a></li>
<li class="chapter" data-level="33.2.2" data-path="pipes.html"><a href="pipes.html#overwrite-the-original"><i class="fa fa-check"></i><b>33.2.2</b> Overwrite the original</a></li>
<li class="chapter" data-level="33.2.3" data-path="pipes.html"><a href="pipes.html#function-composition"><i class="fa fa-check"></i><b>33.2.3</b> Function composition</a></li>
<li class="chapter" data-level="33.2.4" data-path="pipes.html"><a href="pipes.html#use-the-pipe"><i class="fa fa-check"></i><b>33.2.4</b> Use the pipe</a></li>
</ul></li>
<li class="chapter" data-level="33.3" data-path="pipes.html"><a href="pipes.html#when-not-to-use-the-pipe"><i class="fa fa-check"></i><b>33.3</b> When not to use the pipe</a></li>
<li class="chapter" data-level="33.4" data-path="pipes.html"><a href="pipes.html#other-tools-from-magrittr"><i class="fa fa-check"></i><b>33.4</b> Other tools from magrittr</a></li>
</ul></li>
<li class="chapter" data-level="34" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>34</b> Functions</a>
<ul>
<li class="chapter" data-level="34.1" data-path="functions.html"><a href="functions.html#introduction-19"><i class="fa fa-check"></i><b>34.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="34.1.1" data-path="functions.html"><a href="functions.html#prerequisites-16"><i class="fa fa-check"></i><b>34.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="34.2" data-path="functions.html"><a href="functions.html#when-should-you-write-a-function"><i class="fa fa-check"></i><b>34.2</b> When should you write a function?</a>
<ul>
<li class="chapter" data-level="34.2.1" data-path="functions.html"><a href="functions.html#exercises-50"><i class="fa fa-check"></i><b>34.2.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="34.3" data-path="functions.html"><a href="functions.html#functions-are-for-humans-and-computers"><i class="fa fa-check"></i><b>34.3</b> Functions are for humans and computers</a>
<ul>
<li class="chapter" data-level="34.3.1" data-path="functions.html"><a href="functions.html#exercises-51"><i class="fa fa-check"></i><b>34.3.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="34.4" data-path="functions.html"><a href="functions.html#conditional-execution"><i class="fa fa-check"></i><b>34.4</b> Conditional execution</a>
<ul>
<li class="chapter" data-level="34.4.1" data-path="functions.html"><a href="functions.html#conditions"><i class="fa fa-check"></i><b>34.4.1</b> Conditions</a></li>
<li class="chapter" data-level="34.4.2" data-path="functions.html"><a href="functions.html#multiple-conditions"><i class="fa fa-check"></i><b>34.4.2</b> Multiple conditions</a></li>
<li class="chapter" data-level="34.4.3" data-path="functions.html"><a href="functions.html#code-style"><i class="fa fa-check"></i><b>34.4.3</b> Code style</a></li>
<li class="chapter" data-level="34.4.4" data-path="functions.html"><a href="functions.html#exercises-52"><i class="fa fa-check"></i><b>34.4.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="34.5" data-path="functions.html"><a href="functions.html#function-arguments"><i class="fa fa-check"></i><b>34.5</b> Function arguments</a>
<ul>
<li class="chapter" data-level="34.5.1" data-path="functions.html"><a href="functions.html#choosing-names"><i class="fa fa-check"></i><b>34.5.1</b> Choosing names</a></li>
<li class="chapter" data-level="34.5.2" data-path="functions.html"><a href="functions.html#checking-values"><i class="fa fa-check"></i><b>34.5.2</b> Checking values</a></li>
<li class="chapter" data-level="34.5.3" data-path="functions.html"><a href="functions.html#dot-dot-dot"><i class="fa fa-check"></i><b>34.5.3</b> Dot-dot-dot (…)</a></li>
<li class="chapter" data-level="34.5.4" data-path="functions.html"><a href="functions.html#lazy-evaluation"><i class="fa fa-check"></i><b>34.5.4</b> Lazy evaluation</a></li>
<li class="chapter" data-level="34.5.5" data-path="functions.html"><a href="functions.html#exercises-53"><i class="fa fa-check"></i><b>34.5.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="34.6" data-path="functions.html"><a href="functions.html#return-values"><i class="fa fa-check"></i><b>34.6</b> Return values</a>
<ul>
<li class="chapter" data-level="34.6.1" data-path="functions.html"><a href="functions.html#explicit-return-statements"><i class="fa fa-check"></i><b>34.6.1</b> Explicit return statements</a></li>
<li class="chapter" data-level="34.6.2" data-path="functions.html"><a href="functions.html#writing-pipeable-functions"><i class="fa fa-check"></i><b>34.6.2</b> Writing pipeable functions</a></li>
</ul></li>
<li class="chapter" data-level="34.7" data-path="functions.html"><a href="functions.html#environment"><i class="fa fa-check"></i><b>34.7</b> Environment</a></li>
</ul></li>
<li class="chapter" data-level="35" data-path="vectors.html"><a href="vectors.html"><i class="fa fa-check"></i><b>35</b> Vectors</a>
<ul>
<li class="chapter" data-level="35.1" data-path="vectors.html"><a href="vectors.html#introduction-20"><i class="fa fa-check"></i><b>35.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="35.1.1" data-path="vectors.html"><a href="vectors.html#prerequisites-17"><i class="fa fa-check"></i><b>35.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="35.2" data-path="vectors.html"><a href="vectors.html#vector-basics"><i class="fa fa-check"></i><b>35.2</b> Vector basics</a></li>
<li class="chapter" data-level="35.3" data-path="vectors.html"><a href="vectors.html#important-types-of-atomic-vector"><i class="fa fa-check"></i><b>35.3</b> Important types of atomic vector</a>
<ul>
<li class="chapter" data-level="35.3.1" data-path="vectors.html"><a href="vectors.html#logical"><i class="fa fa-check"></i><b>35.3.1</b> Logical</a></li>
<li class="chapter" data-level="35.3.2" data-path="vectors.html"><a href="vectors.html#numeric"><i class="fa fa-check"></i><b>35.3.2</b> Numeric</a></li>
<li class="chapter" data-level="35.3.3" data-path="vectors.html"><a href="vectors.html#character"><i class="fa fa-check"></i><b>35.3.3</b> Character</a></li>
<li class="chapter" data-level="35.3.4" data-path="vectors.html"><a href="vectors.html#missing-values-vectors"><i class="fa fa-check"></i><b>35.3.4</b> Missing values</a></li>
<li class="chapter" data-level="35.3.5" data-path="vectors.html"><a href="vectors.html#exercises-54"><i class="fa fa-check"></i><b>35.3.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="35.4" data-path="vectors.html"><a href="vectors.html#using-atomic-vectors"><i class="fa fa-check"></i><b>35.4</b> Using atomic vectors</a>
<ul>
<li class="chapter" data-level="35.4.1" data-path="vectors.html"><a href="vectors.html#coercion"><i class="fa fa-check"></i><b>35.4.1</b> Coercion</a></li>
<li class="chapter" data-level="35.4.2" data-path="vectors.html"><a href="vectors.html#test-functions"><i class="fa fa-check"></i><b>35.4.2</b> Test functions</a></li>
<li class="chapter" data-level="35.4.3" data-path="vectors.html"><a href="vectors.html#scalars-and-recycling-rules"><i class="fa fa-check"></i><b>35.4.3</b> Scalars and recycling rules</a></li>
<li class="chapter" data-level="35.4.4" data-path="vectors.html"><a href="vectors.html#naming-vectors"><i class="fa fa-check"></i><b>35.4.4</b> Naming vectors</a></li>
<li class="chapter" data-level="35.4.5" data-path="vectors.html"><a href="vectors.html#vector-subsetting"><i class="fa fa-check"></i><b>35.4.5</b> Subsetting</a></li>
<li class="chapter" data-level="35.4.6" data-path="vectors.html"><a href="vectors.html#exercises-55"><i class="fa fa-check"></i><b>35.4.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="35.5" data-path="vectors.html"><a href="vectors.html#lists"><i class="fa fa-check"></i><b>35.5</b> Recursive vectors (lists)</a>
<ul>
<li class="chapter" data-level="35.5.1" data-path="vectors.html"><a href="vectors.html#visualising-lists"><i class="fa fa-check"></i><b>35.5.1</b> Visualising lists</a></li>
<li class="chapter" data-level="35.5.2" data-path="vectors.html"><a href="vectors.html#subsetting-1"><i class="fa fa-check"></i><b>35.5.2</b> Subsetting</a></li>
<li class="chapter" data-level="35.5.3" data-path="vectors.html"><a href="vectors.html#lists-of-condiments"><i class="fa fa-check"></i><b>35.5.3</b> Lists of condiments</a></li>
<li class="chapter" data-level="35.5.4" data-path="vectors.html"><a href="vectors.html#exercises-56"><i class="fa fa-check"></i><b>35.5.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="35.6" data-path="vectors.html"><a href="vectors.html#attributes"><i class="fa fa-check"></i><b>35.6</b> Attributes</a></li>
<li class="chapter" data-level="35.7" data-path="vectors.html"><a href="vectors.html#augmented-vectors"><i class="fa fa-check"></i><b>35.7</b> Augmented vectors</a>
<ul>
<li class="chapter" data-level="35.7.1" data-path="vectors.html"><a href="vectors.html#factors-1"><i class="fa fa-check"></i><b>35.7.1</b> Factors</a></li>
<li class="chapter" data-level="35.7.2" data-path="vectors.html"><a href="vectors.html#dates-and-date-times"><i class="fa fa-check"></i><b>35.7.2</b> Dates and date-times</a></li>
<li class="chapter" data-level="35.7.3" data-path="vectors.html"><a href="vectors.html#tibbles-1"><i class="fa fa-check"></i><b>35.7.3</b> Tibbles</a></li>
<li class="chapter" data-level="35.7.4" data-path="vectors.html"><a href="vectors.html#exercises-57"><i class="fa fa-check"></i><b>35.7.4</b> Exercises</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="36" data-path="iteration.html"><a href="iteration.html"><i class="fa fa-check"></i><b>36</b> Iteration</a>
<ul>
<li class="chapter" data-level="36.1" data-path="iteration.html"><a href="iteration.html#introduction-21"><i class="fa fa-check"></i><b>36.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="36.1.1" data-path="iteration.html"><a href="iteration.html#prerequisites-18"><i class="fa fa-check"></i><b>36.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="36.2" data-path="iteration.html"><a href="iteration.html#for-loops"><i class="fa fa-check"></i><b>36.2</b> For loops</a>
<ul>
<li class="chapter" data-level="36.2.1" data-path="iteration.html"><a href="iteration.html#exercises-58"><i class="fa fa-check"></i><b>36.2.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="36.3" data-path="iteration.html"><a href="iteration.html#for-loop-variations"><i class="fa fa-check"></i><b>36.3</b> For loop variations</a>
<ul>
<li class="chapter" data-level="36.3.1" data-path="iteration.html"><a href="iteration.html#modifying-an-existing-object"><i class="fa fa-check"></i><b>36.3.1</b> Modifying an existing object</a></li>
<li class="chapter" data-level="36.3.2" data-path="iteration.html"><a href="iteration.html#looping-patterns"><i class="fa fa-check"></i><b>36.3.2</b> Looping patterns</a></li>
<li class="chapter" data-level="36.3.3" data-path="iteration.html"><a href="iteration.html#unknown-output-length"><i class="fa fa-check"></i><b>36.3.3</b> Unknown output length</a></li>
<li class="chapter" data-level="36.3.4" data-path="iteration.html"><a href="iteration.html#unknown-sequence-length"><i class="fa fa-check"></i><b>36.3.4</b> Unknown sequence length</a></li>
<li class="chapter" data-level="36.3.5" data-path="iteration.html"><a href="iteration.html#exercises-59"><i class="fa fa-check"></i><b>36.3.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="36.4" data-path="iteration.html"><a href="iteration.html#for-loops-vs.-functionals"><i class="fa fa-check"></i><b>36.4</b> For loops vs. functionals</a>
<ul>
<li class="chapter" data-level="36.4.1" data-path="iteration.html"><a href="iteration.html#exercises-60"><i class="fa fa-check"></i><b>36.4.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="36.5" data-path="iteration.html"><a href="iteration.html#the-map-functions"><i class="fa fa-check"></i><b>36.5</b> The map functions</a>
<ul>
<li class="chapter" data-level="36.5.1" data-path="iteration.html"><a href="iteration.html#shortcuts"><i class="fa fa-check"></i><b>36.5.1</b> Shortcuts</a></li>
<li class="chapter" data-level="36.5.2" data-path="iteration.html"><a href="iteration.html#base-r"><i class="fa fa-check"></i><b>36.5.2</b> Base R</a></li>
<li class="chapter" data-level="36.5.3" data-path="iteration.html"><a href="iteration.html#exercises-61"><i class="fa fa-check"></i><b>36.5.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="36.6" data-path="iteration.html"><a href="iteration.html#dealing-with-failure"><i class="fa fa-check"></i><b>36.6</b> Dealing with failure</a></li>
<li class="chapter" data-level="36.7" data-path="iteration.html"><a href="iteration.html#mapping-over-multiple-arguments"><i class="fa fa-check"></i><b>36.7</b> Mapping over multiple arguments</a>
<ul>
<li class="chapter" data-level="36.7.1" data-path="iteration.html"><a href="iteration.html#invoking-different-functions"><i class="fa fa-check"></i><b>36.7.1</b> Invoking different functions</a></li>
</ul></li>
<li class="chapter" data-level="36.8" data-path="iteration.html"><a href="iteration.html#walk"><i class="fa fa-check"></i><b>36.8</b> Walk</a></li>
<li class="chapter" data-level="36.9" data-path="iteration.html"><a href="iteration.html#other-patterns-of-for-loops"><i class="fa fa-check"></i><b>36.9</b> Other patterns of for loops</a>
<ul>
<li class="chapter" data-level="36.9.1" data-path="iteration.html"><a href="iteration.html#predicate-functions"><i class="fa fa-check"></i><b>36.9.1</b> Predicate functions</a></li>
<li class="chapter" data-level="36.9.2" data-path="iteration.html"><a href="iteration.html#reduce-and-accumulate"><i class="fa fa-check"></i><b>36.9.2</b> Reduce and accumulate</a></li>
<li class="chapter" data-level="36.9.3" data-path="iteration.html"><a href="iteration.html#exercises-62"><i class="fa fa-check"></i><b>36.9.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="36.10" data-path="iteration.html"><a href="iteration.html#case-study-1"><i class="fa fa-check"></i><b>36.10</b> Case study</a></li>
</ul></li>
<li class="chapter" data-level="37" data-path="programming-with-strings.html"><a href="programming-with-strings.html"><i class="fa fa-check"></i><b>37</b> Programming with strings</a>
<ul>
<li class="chapter" data-level="37.0.1" data-path="programming-with-strings.html"><a href="programming-with-strings.html#str_c"><i class="fa fa-check"></i><b>37.0.1</b> str_c</a></li>
<li class="chapter" data-level="37.1" data-path="programming-with-strings.html"><a href="programming-with-strings.html#performance"><i class="fa fa-check"></i><b>37.1</b> Performance</a>
<ul>
<li class="chapter" data-level="37.1.1" data-path="programming-with-strings.html"><a href="programming-with-strings.html#section"><i class="fa fa-check"></i><b>37.1.1</b> </a></li>
<li class="chapter" data-level="37.1.2" data-path="programming-with-strings.html"><a href="programming-with-strings.html#extract"><i class="fa fa-check"></i><b>37.1.2</b> Extract</a></li>
<li class="chapter" data-level="37.1.3" data-path="programming-with-strings.html"><a href="programming-with-strings.html#exercises-63"><i class="fa fa-check"></i><b>37.1.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="37.2" data-path="programming-with-strings.html"><a href="programming-with-strings.html#grouped-matches"><i class="fa fa-check"></i><b>37.2</b> Grouped matches</a></li>
<li class="chapter" data-level="37.3" data-path="programming-with-strings.html"><a href="programming-with-strings.html#spitting"><i class="fa fa-check"></i><b>37.3</b> Spitting</a></li>
<li class="chapter" data-level="37.4" data-path="programming-with-strings.html"><a href="programming-with-strings.html#replace-with-function"><i class="fa fa-check"></i><b>37.4</b> Replace with function</a></li>
<li class="chapter" data-level="37.5" data-path="programming-with-strings.html"><a href="programming-with-strings.html#locations"><i class="fa fa-check"></i><b>37.5</b> Locations</a></li>
<li class="chapter" data-level="37.6" data-path="programming-with-strings.html"><a href="programming-with-strings.html#stringi"><i class="fa fa-check"></i><b>37.6</b> stringi</a>
<ul>
<li class="chapter" data-level="37.6.1" data-path="programming-with-strings.html"><a href="programming-with-strings.html#exercises-64"><i class="fa fa-check"></i><b>37.6.1</b> Exercises</a></li>
<li class="chapter" data-level="37.6.2" data-path="programming-with-strings.html"><a href="programming-with-strings.html#exercises-65"><i class="fa fa-check"></i><b>37.6.2</b> Exercises</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>VI Communicate</b></span></li>
<li class="chapter" data-level="38" data-path="communicate-intro.html"><a href="communicate-intro.html"><i class="fa fa-check"></i><b>38</b> Introduction</a></li>
<li class="chapter" data-level="39" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>39</b> R Markdown</a>
<ul>
<li class="chapter" data-level="39.1" data-path="r-markdown.html"><a href="r-markdown.html#introduction-22"><i class="fa fa-check"></i><b>39.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="39.1.1" data-path="r-markdown.html"><a href="r-markdown.html#prerequisites-19"><i class="fa fa-check"></i><b>39.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="39.2" data-path="r-markdown.html"><a href="r-markdown.html#r-markdown-basics"><i class="fa fa-check"></i><b>39.2</b> R Markdown basics</a>
<ul>
<li class="chapter" data-level="39.2.1" data-path="r-markdown.html"><a href="r-markdown.html#exercises-66"><i class="fa fa-check"></i><b>39.2.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="39.3" data-path="r-markdown.html"><a href="r-markdown.html#text-formatting-with-markdown"><i class="fa fa-check"></i><b>39.3</b> Text formatting with Markdown</a>
<ul>
<li class="chapter" data-level="39.3.1" data-path="r-markdown.html"><a href="r-markdown.html#exercises-67"><i class="fa fa-check"></i><b>39.3.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="39.4" data-path="r-markdown.html"><a href="r-markdown.html#code-chunks"><i class="fa fa-check"></i><b>39.4</b> Code chunks</a>
<ul>
<li class="chapter" data-level="39.4.1" data-path="r-markdown.html"><a href="r-markdown.html#chunk-name"><i class="fa fa-check"></i><b>39.4.1</b> Chunk name</a></li>
<li class="chapter" data-level="39.4.2" data-path="r-markdown.html"><a href="r-markdown.html#chunk-options"><i class="fa fa-check"></i><b>39.4.2</b> Chunk options</a></li>
<li class="chapter" data-level="39.4.3" data-path="r-markdown.html"><a href="r-markdown.html#table"><i class="fa fa-check"></i><b>39.4.3</b> Table</a></li>
<li class="chapter" data-level="39.4.4" data-path="r-markdown.html"><a href="r-markdown.html#caching"><i class="fa fa-check"></i><b>39.4.4</b> Caching</a></li>
<li class="chapter" data-level="39.4.5" data-path="r-markdown.html"><a href="r-markdown.html#global-options"><i class="fa fa-check"></i><b>39.4.5</b> Global options</a></li>
<li class="chapter" data-level="39.4.6" data-path="r-markdown.html"><a href="r-markdown.html#inline-code"><i class="fa fa-check"></i><b>39.4.6</b> Inline code</a></li>
<li class="chapter" data-level="39.4.7" data-path="r-markdown.html"><a href="r-markdown.html#exercises-68"><i class="fa fa-check"></i><b>39.4.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="39.5" data-path="r-markdown.html"><a href="r-markdown.html#troubleshooting"><i class="fa fa-check"></i><b>39.5</b> Troubleshooting</a></li>
<li class="chapter" data-level="39.6" data-path="r-markdown.html"><a href="r-markdown.html#yaml-header"><i class="fa fa-check"></i><b>39.6</b> YAML header</a>
<ul>
<li class="chapter" data-level="39.6.1" data-path="r-markdown.html"><a href="r-markdown.html#parameters"><i class="fa fa-check"></i><b>39.6.1</b> Parameters</a></li>
<li class="chapter" data-level="39.6.2" data-path="r-markdown.html"><a href="r-markdown.html#bibliographies-and-citations"><i class="fa fa-check"></i><b>39.6.2</b> Bibliographies and Citations</a></li>
</ul></li>
<li class="chapter" data-level="39.7" data-path="r-markdown.html"><a href="r-markdown.html#learning-more-3"><i class="fa fa-check"></i><b>39.7</b> Learning more</a></li>
</ul></li>
<li class="chapter" data-level="40" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html"><i class="fa fa-check"></i><b>40</b> Graphics for communication</a>
<ul>
<li class="chapter" data-level="40.1" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#introduction-23"><i class="fa fa-check"></i><b>40.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="40.1.1" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#prerequisites-20"><i class="fa fa-check"></i><b>40.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="40.2" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#label"><i class="fa fa-check"></i><b>40.2</b> Label</a>
<ul>
<li class="chapter" data-level="40.2.1" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#exercises-69"><i class="fa fa-check"></i><b>40.2.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="40.3" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#annotations"><i class="fa fa-check"></i><b>40.3</b> Annotations</a>
<ul>
<li class="chapter" data-level="40.3.1" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#exercises-70"><i class="fa fa-check"></i><b>40.3.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="40.4" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#scales"><i class="fa fa-check"></i><b>40.4</b> Scales</a>
<ul>
<li class="chapter" data-level="40.4.1" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#axis-ticks-and-legend-keys"><i class="fa fa-check"></i><b>40.4.1</b> Axis ticks and legend keys</a></li>
<li class="chapter" data-level="40.4.2" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#legend-layout"><i class="fa fa-check"></i><b>40.4.2</b> Legend layout</a></li>
<li class="chapter" data-level="40.4.3" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#replacing-a-scale"><i class="fa fa-check"></i><b>40.4.3</b> Replacing a scale</a></li>
<li class="chapter" data-level="40.4.4" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#exercises-71"><i class="fa fa-check"></i><b>40.4.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="40.5" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#zooming"><i class="fa fa-check"></i><b>40.5</b> Zooming</a></li>
<li class="chapter" data-level="40.6" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#themes"><i class="fa fa-check"></i><b>40.6</b> Themes</a></li>
<li class="chapter" data-level="40.7" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#saving-your-plots"><i class="fa fa-check"></i><b>40.7</b> Saving your plots</a>
<ul>
<li class="chapter" data-level="40.7.1" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#figure-sizing"><i class="fa fa-check"></i><b>40.7.1</b> Figure sizing</a></li>
<li class="chapter" data-level="40.7.2" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#other-important-options"><i class="fa fa-check"></i><b>40.7.2</b> Other important options</a></li>
</ul></li>
<li class="chapter" data-level="40.8" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#learning-more-4"><i class="fa fa-check"></i><b>40.8</b> Learning more</a></li>
</ul></li>
<li class="chapter" data-level="41" data-path="r-markdown-formats.html"><a href="r-markdown-formats.html"><i class="fa fa-check"></i><b>41</b> R Markdown formats</a>
<ul>
<li class="chapter" data-level="41.1" data-path="r-markdown-formats.html"><a href="r-markdown-formats.html#introduction-24"><i class="fa fa-check"></i><b>41.1</b> Introduction</a></li>
<li class="chapter" data-level="41.2" data-path="r-markdown-formats.html"><a href="r-markdown-formats.html#output-options"><i class="fa fa-check"></i><b>41.2</b> Output options</a></li>
<li class="chapter" data-level="41.3" data-path="r-markdown-formats.html"><a href="r-markdown-formats.html#documents"><i class="fa fa-check"></i><b>41.3</b> Documents</a></li>
<li class="chapter" data-level="41.4" data-path="r-markdown-formats.html"><a href="r-markdown-formats.html#notebooks"><i class="fa fa-check"></i><b>41.4</b> Notebooks</a></li>
<li class="chapter" data-level="41.5" data-path="r-markdown-formats.html"><a href="r-markdown-formats.html#presentations"><i class="fa fa-check"></i><b>41.5</b> Presentations</a></li>
<li class="chapter" data-level="41.6" data-path="r-markdown-formats.html"><a href="r-markdown-formats.html#dashboards"><i class="fa fa-check"></i><b>41.6</b> Dashboards</a></li>
<li class="chapter" data-level="41.7" data-path="r-markdown-formats.html"><a href="r-markdown-formats.html#interactivity"><i class="fa fa-check"></i><b>41.7</b> Interactivity</a>
<ul>
<li class="chapter" data-level="41.7.1" data-path="r-markdown-formats.html"><a href="r-markdown-formats.html#htmlwidgets"><i class="fa fa-check"></i><b>41.7.1</b> htmlwidgets</a></li>
<li class="chapter" data-level="41.7.2" data-path="r-markdown-formats.html"><a href="r-markdown-formats.html#shiny"><i class="fa fa-check"></i><b>41.7.2</b> Shiny</a></li>
</ul></li>
<li class="chapter" data-level="41.8" data-path="r-markdown-formats.html"><a href="r-markdown-formats.html#websites"><i class="fa fa-check"></i><b>41.8</b> Websites</a></li>
<li class="chapter" data-level="41.9" data-path="r-markdown-formats.html"><a href="r-markdown-formats.html#other-formats"><i class="fa fa-check"></i><b>41.9</b> Other formats</a></li>
<li class="chapter" data-level="41.10" data-path="r-markdown-formats.html"><a href="r-markdown-formats.html#learning-more-5"><i class="fa fa-check"></i><b>41.10</b> Learning more</a></li>
</ul></li>
<li class="chapter" data-level="42" data-path="r-markdown-workflow.html"><a href="r-markdown-workflow.html"><i class="fa fa-check"></i><b>42</b> R Markdown workflow</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R for Data Science (2e)</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="factors" class="section level1" number="20">
<h1><span class="header-section-number">20</span> Factors</h1>
<div id="introduction-13" class="section level2" number="20.1">
<h2><span class="header-section-number">20.1</span> Introduction</h2>
<p>In R, factors are used to work with categorical variables, variables that have a fixed and known set of possible values.
They are also useful when you want to display character vectors in a non-alphabetical order.</p>
<p>Historically, factors were much easier to work with than characters.
As a result, many of the functions in base R automatically convert characters to factors.
This means that factors often crop up in places where they’re not actually helpful.
Fortunately, you don’t need to worry about that in the tidyverse, and can focus on situations where factors are genuinely useful.</p>
<div id="prerequisites-10" class="section level3" number="20.1.1">
<h3><span class="header-section-number">20.1.1</span> Prerequisites</h3>
<p>To work with factors, we’ll use the <strong>forcats</strong> package, which is part of the core tidyverse.
It provides tools for dealing with <strong>cat</strong>egorical variables (and it’s an anagram of factors!) using a wide range of helpers for working with factors.</p>
<div class="sourceCode" id="cb373"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb373-1"><a href="factors.html#cb373-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
</div>
<div id="learning-more-1" class="section level3" number="20.1.2">
<h3><span class="header-section-number">20.1.2</span> Learning more</h3>
<p>If you want to learn more about factors, I recommend reading Amelia McNamara and Nicholas Horton’s paper, <a href="https://peerj.com/preprints/3163/"><em>Wrangling categorical data in R</em></a>.
This paper lays out some of the history discussed in <a href="http://simplystatistics.org/2015/07/24/stringsasfactors-an-unauthorized-biography/"><em>stringsAsFactors: An unauthorized biography</em></a> and <a href="http://notstatschat.tumblr.com/post/124987394001/stringsasfactors-sigh"><em>stringsAsFactors = &lt;sigh&gt;</em></a>, and compares the tidy approaches to categorical data outlined in this book with base R methods.
An early version of the paper helped motivate and scope the forcats package; thanks Amelia &amp; Nick!</p>
</div>
</div>
<div id="creating-factors" class="section level2" number="20.2">
<h2><span class="header-section-number">20.2</span> Creating factors</h2>
<p>Imagine that you have a variable that records month:</p>
<div class="sourceCode" id="cb374"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb374-1"><a href="factors.html#cb374-1" aria-hidden="true" tabindex="-1"></a>x1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Dec&quot;</span>, <span class="st">&quot;Apr&quot;</span>, <span class="st">&quot;Jan&quot;</span>, <span class="st">&quot;Mar&quot;</span>)</span></code></pre></div>
<p>Using a string to record this variable has two problems:</p>
<ol style="list-style-type: decimal">
<li><p>There are only twelve possible months, and there’s nothing saving you from typos:</p>
<div class="sourceCode" id="cb375"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb375-1"><a href="factors.html#cb375-1" aria-hidden="true" tabindex="-1"></a>x2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Dec&quot;</span>, <span class="st">&quot;Apr&quot;</span>, <span class="st">&quot;Jam&quot;</span>, <span class="st">&quot;Mar&quot;</span>)</span></code></pre></div></li>
<li><p>It doesn’t sort in a useful way:</p>
<div class="sourceCode" id="cb376"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb376-1"><a href="factors.html#cb376-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(x1)</span>
<span id="cb376-2"><a href="factors.html#cb376-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Apr&quot; &quot;Dec&quot; &quot;Jan&quot; &quot;Mar&quot;</span></span></code></pre></div></li>
</ol>
<p>You can fix both of these problems with a factor.
To create a factor you must start by creating a list of the valid <strong>levels</strong>:</p>
<div class="sourceCode" id="cb377"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb377-1"><a href="factors.html#cb377-1" aria-hidden="true" tabindex="-1"></a>month_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb377-2"><a href="factors.html#cb377-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;Jan&quot;</span>, <span class="st">&quot;Feb&quot;</span>, <span class="st">&quot;Mar&quot;</span>, <span class="st">&quot;Apr&quot;</span>, <span class="st">&quot;May&quot;</span>, <span class="st">&quot;Jun&quot;</span>, </span>
<span id="cb377-3"><a href="factors.html#cb377-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;Jul&quot;</span>, <span class="st">&quot;Aug&quot;</span>, <span class="st">&quot;Sep&quot;</span>, <span class="st">&quot;Oct&quot;</span>, <span class="st">&quot;Nov&quot;</span>, <span class="st">&quot;Dec&quot;</span></span>
<span id="cb377-4"><a href="factors.html#cb377-4" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>Now you can create a factor:</p>
<div class="sourceCode" id="cb378"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb378-1"><a href="factors.html#cb378-1" aria-hidden="true" tabindex="-1"></a>y1 <span class="ot">&lt;-</span> <span class="fu">factor</span>(x1, <span class="at">levels =</span> month_levels)</span>
<span id="cb378-2"><a href="factors.html#cb378-2" aria-hidden="true" tabindex="-1"></a>y1</span>
<span id="cb378-3"><a href="factors.html#cb378-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] Dec Apr Jan Mar</span></span>
<span id="cb378-4"><a href="factors.html#cb378-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec</span></span>
<span id="cb378-5"><a href="factors.html#cb378-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(y1)</span>
<span id="cb378-6"><a href="factors.html#cb378-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] Jan Mar Apr Dec</span></span>
<span id="cb378-7"><a href="factors.html#cb378-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec</span></span></code></pre></div>
<p>And any values not in the set will be silently converted to NA:</p>
<div class="sourceCode" id="cb379"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb379-1"><a href="factors.html#cb379-1" aria-hidden="true" tabindex="-1"></a>y2 <span class="ot">&lt;-</span> <span class="fu">factor</span>(x2, <span class="at">levels =</span> month_levels)</span>
<span id="cb379-2"><a href="factors.html#cb379-2" aria-hidden="true" tabindex="-1"></a>y2</span>
<span id="cb379-3"><a href="factors.html#cb379-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] Dec  Apr  &lt;NA&gt; Mar </span></span>
<span id="cb379-4"><a href="factors.html#cb379-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec</span></span></code></pre></div>
<p>If you want a warning, you can use <code>readr::parse_factor()</code>:</p>
<div class="sourceCode" id="cb380"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb380-1"><a href="factors.html#cb380-1" aria-hidden="true" tabindex="-1"></a>y2 <span class="ot">&lt;-</span> <span class="fu">parse_factor</span>(x2, <span class="at">levels =</span> month_levels)</span>
<span id="cb380-2"><a href="factors.html#cb380-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning: 1 parsing failure.</span></span>
<span id="cb380-3"><a href="factors.html#cb380-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; row col           expected actual</span></span>
<span id="cb380-4"><a href="factors.html#cb380-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   3  -- value in level set    Jam</span></span></code></pre></div>
<p>If you omit the levels, they’ll be taken from the data in alphabetical order:</p>
<div class="sourceCode" id="cb381"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb381-1"><a href="factors.html#cb381-1" aria-hidden="true" tabindex="-1"></a><span class="fu">factor</span>(x1)</span>
<span id="cb381-2"><a href="factors.html#cb381-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] Dec Apr Jan Mar</span></span>
<span id="cb381-3"><a href="factors.html#cb381-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: Apr Dec Jan Mar</span></span></code></pre></div>
<p>Sometimes you’d prefer that the order of the levels match the order of the first appearance in the data.
You can do that when creating the factor by setting levels to <code>unique(x)</code>, or after the fact, with <code>fct_inorder()</code>:</p>
<div class="sourceCode" id="cb382"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb382-1"><a href="factors.html#cb382-1" aria-hidden="true" tabindex="-1"></a>f1 <span class="ot">&lt;-</span> <span class="fu">factor</span>(x1, <span class="at">levels =</span> <span class="fu">unique</span>(x1))</span>
<span id="cb382-2"><a href="factors.html#cb382-2" aria-hidden="true" tabindex="-1"></a>f1</span>
<span id="cb382-3"><a href="factors.html#cb382-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] Dec Apr Jan Mar</span></span>
<span id="cb382-4"><a href="factors.html#cb382-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: Dec Apr Jan Mar</span></span>
<span id="cb382-5"><a href="factors.html#cb382-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb382-6"><a href="factors.html#cb382-6" aria-hidden="true" tabindex="-1"></a>f2 <span class="ot">&lt;-</span> x1 <span class="sc">%&gt;%</span> <span class="fu">factor</span>() <span class="sc">%&gt;%</span> <span class="fu">fct_inorder</span>()</span>
<span id="cb382-7"><a href="factors.html#cb382-7" aria-hidden="true" tabindex="-1"></a>f2</span>
<span id="cb382-8"><a href="factors.html#cb382-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] Dec Apr Jan Mar</span></span>
<span id="cb382-9"><a href="factors.html#cb382-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: Dec Apr Jan Mar</span></span></code></pre></div>
<p>If you ever need to access the set of valid levels directly, you can do so with <code>levels()</code>:</p>
<div class="sourceCode" id="cb383"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb383-1"><a href="factors.html#cb383-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(f2)</span>
<span id="cb383-2"><a href="factors.html#cb383-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Dec&quot; &quot;Apr&quot; &quot;Jan&quot; &quot;Mar&quot;</span></span></code></pre></div>
</div>
<div id="general-social-survey" class="section level2" number="20.3">
<h2><span class="header-section-number">20.3</span> General Social Survey</h2>
<p>For the rest of this chapter, we’re going to focus on <code>forcats::gss_cat</code>.
It’s a sample of data from the <a href="http://gss.norc.org">General Social Survey</a>, which is a long-running US survey conducted by the independent research organization NORC at the University of Chicago.
The survey has thousands of questions, so in <code>gss_cat</code> I’ve selected a handful that will illustrate some common challenges you’ll encounter when working with factors.</p>
<div class="sourceCode" id="cb384"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb384-1"><a href="factors.html#cb384-1" aria-hidden="true" tabindex="-1"></a>gss_cat</span>
<span id="cb384-2"><a href="factors.html#cb384-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 21,483 x 9[39m</span></span>
<span id="cb384-3"><a href="factors.html#cb384-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    [1myear[22m [1mmarital[22m         [1mage[22m [1mrace[22m  [1mrincome[22m        [1mpartyid[22m   [1mrelig[22m  [1mdenom[22m  [1mtvhours[22m</span></span>
<span id="cb384-4"><a href="factors.html#cb384-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[90m&lt;int&gt;[39m[23m [3m[90m&lt;fct&gt;[39m[23m         [3m[90m&lt;int&gt;[39m[23m [3m[90m&lt;fct&gt;[39m[23m [3m[90m&lt;fct&gt;[39m[23m          [3m[90m&lt;fct&gt;[39m[23m     [3m[90m&lt;fct&gt;[39m[23m  [3m[90m&lt;fct&gt;[39m[23m    [3m[90m&lt;int&gt;[39m[23m</span></span>
<span id="cb384-5"><a href="factors.html#cb384-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m  [4m2[24m000 Never married    26 White $8000 to 9999  Ind,near~ Prote~ South~      12</span></span>
<span id="cb384-6"><a href="factors.html#cb384-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m  [4m2[24m000 Divorced         48 White $8000 to 9999  Not str ~ Prote~ Bapti~      [31mNA[39m</span></span>
<span id="cb384-7"><a href="factors.html#cb384-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m3[39m  [4m2[24m000 Widowed          67 White Not applicable Independ~ Prote~ No de~       2</span></span>
<span id="cb384-8"><a href="factors.html#cb384-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m4[39m  [4m2[24m000 Never married    39 White Not applicable Ind,near~ Ortho~ Not a~       4</span></span>
<span id="cb384-9"><a href="factors.html#cb384-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m5[39m  [4m2[24m000 Divorced         25 White Not applicable Not str ~ None   Not a~       1</span></span>
<span id="cb384-10"><a href="factors.html#cb384-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m6[39m  [4m2[24m000 Married          25 White $20000 - 24999 Strong d~ Prote~ South~      [31mNA[39m</span></span>
<span id="cb384-11"><a href="factors.html#cb384-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# ... with 21,477 more rows[39m</span></span></code></pre></div>
<p>(Remember, since this dataset is provided by a package, you can get more information about the variables with <code>?gss_cat</code>.)</p>
<p>When factors are stored in a tibble, you can’t see their levels so easily.
One way to see them is with <code>count()</code>:</p>
<div class="sourceCode" id="cb385"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb385-1"><a href="factors.html#cb385-1" aria-hidden="true" tabindex="-1"></a>gss_cat <span class="sc">%&gt;%</span></span>
<span id="cb385-2"><a href="factors.html#cb385-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(race)</span>
<span id="cb385-3"><a href="factors.html#cb385-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 3 x 2[39m</span></span>
<span id="cb385-4"><a href="factors.html#cb385-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1mrace[22m      [1mn[22m</span></span>
<span id="cb385-5"><a href="factors.html#cb385-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[90m&lt;fct&gt;[39m[23m [3m[90m&lt;int&gt;[39m[23m</span></span>
<span id="cb385-6"><a href="factors.html#cb385-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m Other  [4m1[24m959</span></span>
<span id="cb385-7"><a href="factors.html#cb385-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m Black  [4m3[24m129</span></span>
<span id="cb385-8"><a href="factors.html#cb385-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m3[39m White [4m1[24m[4m6[24m395</span></span></code></pre></div>
<p>Or with a bar chart:</p>
<div class="sourceCode" id="cb386"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb386-1"><a href="factors.html#cb386-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(gss_cat, <span class="fu">aes</span>(race)) <span class="sc">+</span></span>
<span id="cb386-2"><a href="factors.html#cb386-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>()</span></code></pre></div>
<p><img src="factors_files/figure-html/unnamed-chunk-13-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>By default, ggplot2 will drop levels that don’t have any values.
You can force them to display with:</p>
<div class="sourceCode" id="cb387"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb387-1"><a href="factors.html#cb387-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(gss_cat, <span class="fu">aes</span>(race)) <span class="sc">+</span></span>
<span id="cb387-2"><a href="factors.html#cb387-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb387-3"><a href="factors.html#cb387-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">drop =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p><img src="factors_files/figure-html/unnamed-chunk-14-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>These levels represent valid values that simply did not occur in this dataset.
In dplyr::count() set the <code>.drop</code> option to <code>FALSE</code>, to show these.</p>
<div class="sourceCode" id="cb388"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb388-1"><a href="factors.html#cb388-1" aria-hidden="true" tabindex="-1"></a>gss_cat <span class="sc">%&gt;%</span> </span>
<span id="cb388-2"><a href="factors.html#cb388-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(race, </span>
<span id="cb388-3"><a href="factors.html#cb388-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">.drop =</span> <span class="cn">FALSE</span>)</span>
<span id="cb388-4"><a href="factors.html#cb388-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 4 x 2[39m</span></span>
<span id="cb388-5"><a href="factors.html#cb388-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1mrace[22m               [1mn[22m</span></span>
<span id="cb388-6"><a href="factors.html#cb388-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[90m&lt;fct&gt;[39m[23m          [3m[90m&lt;int&gt;[39m[23m</span></span>
<span id="cb388-7"><a href="factors.html#cb388-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m Other           [4m1[24m959</span></span>
<span id="cb388-8"><a href="factors.html#cb388-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m Black           [4m3[24m129</span></span>
<span id="cb388-9"><a href="factors.html#cb388-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m3[39m White          [4m1[24m[4m6[24m395</span></span>
<span id="cb388-10"><a href="factors.html#cb388-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m4[39m Not applicable     0</span></span></code></pre></div>
<p>When working with factors, the two most common operations are changing the order of the levels, and changing the values of the levels.
Those operations are described in the sections below.</p>
<div id="exercise" class="section level3" number="20.3.1">
<h3><span class="header-section-number">20.3.1</span> Exercise</h3>
<ol style="list-style-type: decimal">
<li><p>Explore the distribution of <code>rincome</code> (reported income).
What makes the default bar chart hard to understand?
How could you improve the plot?</p></li>
<li><p>What is the most common <code>relig</code> in this survey?
What’s the most common <code>partyid</code>?</p></li>
<li><p>Which <code>relig</code> does <code>denom</code> (denomination) apply to?
How can you find out with a table?
How can you find out with a visualisation?</p></li>
</ol>
</div>
</div>
<div id="modifying-factor-order" class="section level2" number="20.4">
<h2><span class="header-section-number">20.4</span> Modifying factor order</h2>
<p>It’s often useful to change the order of the factor levels in a visualisation.
For example, imagine you want to explore the average number of hours spent watching TV per day across religions:</p>
<div class="sourceCode" id="cb389"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb389-1"><a href="factors.html#cb389-1" aria-hidden="true" tabindex="-1"></a>relig_summary <span class="ot">&lt;-</span> gss_cat <span class="sc">%&gt;%</span></span>
<span id="cb389-2"><a href="factors.html#cb389-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(relig) <span class="sc">%&gt;%</span></span>
<span id="cb389-3"><a href="factors.html#cb389-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb389-4"><a href="factors.html#cb389-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">age =</span> <span class="fu">mean</span>(age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb389-5"><a href="factors.html#cb389-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">tvhours =</span> <span class="fu">mean</span>(tvhours, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb389-6"><a href="factors.html#cb389-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>()</span>
<span id="cb389-7"><a href="factors.html#cb389-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb389-8"><a href="factors.html#cb389-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb389-9"><a href="factors.html#cb389-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(relig_summary, <span class="fu">aes</span>(tvhours, relig)) <span class="sc">+</span> <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="factors_files/figure-html/unnamed-chunk-16-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>It is difficult to interpret this plot because there’s no overall pattern.
We can improve it by reordering the levels of <code>relig</code> using <code>fct_reorder()</code>.
<code>fct_reorder()</code> takes three arguments:</p>
<ul>
<li><code>f</code>, the factor whose levels you want to modify.</li>
<li><code>x</code>, a numeric vector that you want to use to reorder the levels.</li>
<li>Optionally, <code>fun</code>, a function that’s used if there are multiple values of <code>x</code> for each value of <code>f</code>. The default value is <code>median</code>.</li>
</ul>
<div class="sourceCode" id="cb390"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb390-1"><a href="factors.html#cb390-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(relig_summary, <span class="fu">aes</span>(tvhours, <span class="fu">fct_reorder</span>(relig, tvhours))) <span class="sc">+</span></span>
<span id="cb390-2"><a href="factors.html#cb390-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="factors_files/figure-html/unnamed-chunk-17-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Reordering religion makes it much easier to see that people in the “Don’t know” category watch much more TV, and Hinduism &amp; Other Eastern religions watch much less.</p>
<p>As you start making more complicated transformations, I’d recommend moving them out of <code>aes()</code> and into a separate <code>mutate()</code> step.
For example, you could rewrite the plot above as:</p>
<div class="sourceCode" id="cb391"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb391-1"><a href="factors.html#cb391-1" aria-hidden="true" tabindex="-1"></a>relig_summary <span class="sc">%&gt;%</span></span>
<span id="cb391-2"><a href="factors.html#cb391-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">relig =</span> <span class="fu">fct_reorder</span>(relig, tvhours)) <span class="sc">%&gt;%</span></span>
<span id="cb391-3"><a href="factors.html#cb391-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(tvhours, relig)) <span class="sc">+</span></span>
<span id="cb391-4"><a href="factors.html#cb391-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>()</span></code></pre></div>
<p>What if we create a similar plot looking at how average age varies across reported income level?</p>
<div class="sourceCode" id="cb392"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb392-1"><a href="factors.html#cb392-1" aria-hidden="true" tabindex="-1"></a>rincome_summary <span class="ot">&lt;-</span> gss_cat <span class="sc">%&gt;%</span></span>
<span id="cb392-2"><a href="factors.html#cb392-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(rincome) <span class="sc">%&gt;%</span></span>
<span id="cb392-3"><a href="factors.html#cb392-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb392-4"><a href="factors.html#cb392-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">age =</span> <span class="fu">mean</span>(age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb392-5"><a href="factors.html#cb392-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">tvhours =</span> <span class="fu">mean</span>(tvhours, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb392-6"><a href="factors.html#cb392-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>()</span>
<span id="cb392-7"><a href="factors.html#cb392-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb392-8"><a href="factors.html#cb392-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb392-9"><a href="factors.html#cb392-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(rincome_summary, <span class="fu">aes</span>(age, <span class="fu">fct_reorder</span>(rincome, age))) <span class="sc">+</span> <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="factors_files/figure-html/unnamed-chunk-19-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Here, arbitrarily reordering the levels isn’t a good idea!
That’s because <code>rincome</code> already has a principled order that we shouldn’t mess with.
Reserve <code>fct_reorder()</code> for factors whose levels are arbitrarily ordered.</p>
<p>However, it does make sense to pull “Not applicable” to the front with the other special levels.
You can use <code>fct_relevel()</code>.
It takes a factor, <code>f</code>, and then any number of levels that you want to move to the front of the line.</p>
<div class="sourceCode" id="cb393"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb393-1"><a href="factors.html#cb393-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(rincome_summary, <span class="fu">aes</span>(age, <span class="fu">fct_relevel</span>(rincome, <span class="st">&quot;Not applicable&quot;</span>))) <span class="sc">+</span></span>
<span id="cb393-2"><a href="factors.html#cb393-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="factors_files/figure-html/unnamed-chunk-20-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Why do you think the average age for “Not applicable” is so high?</p>
<p>Another type of reordering is useful when you are colouring the lines on a plot.
<code>fct_reorder2()</code> reorders the factor by the <code>y</code> values associated with the largest <code>x</code> values.
This makes the plot easier to read because the line colours line up with the legend.</p>
<div class="sourceCode" id="cb394"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb394-1"><a href="factors.html#cb394-1" aria-hidden="true" tabindex="-1"></a>by_age <span class="ot">&lt;-</span> gss_cat <span class="sc">%&gt;%</span></span>
<span id="cb394-2"><a href="factors.html#cb394-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(age)) <span class="sc">%&gt;%</span></span>
<span id="cb394-3"><a href="factors.html#cb394-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(age, marital) <span class="sc">%&gt;%</span></span>
<span id="cb394-4"><a href="factors.html#cb394-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(age) <span class="sc">%&gt;%</span></span>
<span id="cb394-5"><a href="factors.html#cb394-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n))</span>
<span id="cb394-6"><a href="factors.html#cb394-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb394-7"><a href="factors.html#cb394-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(by_age, <span class="fu">aes</span>(age, prop, <span class="at">colour =</span> marital)) <span class="sc">+</span></span>
<span id="cb394-8"><a href="factors.html#cb394-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb394-9"><a href="factors.html#cb394-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb394-10"><a href="factors.html#cb394-10" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(by_age, <span class="fu">aes</span>(age, prop, <span class="at">colour =</span> <span class="fu">fct_reorder2</span>(marital, age, prop))) <span class="sc">+</span></span>
<span id="cb394-11"><a href="factors.html#cb394-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb394-12"><a href="factors.html#cb394-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">colour =</span> <span class="st">&quot;marital&quot;</span>)</span></code></pre></div>
<p><img src="factors_files/figure-html/unnamed-chunk-21-1.png" width="50%" /><img src="factors_files/figure-html/unnamed-chunk-21-2.png" width="50%" /></p>
<p>Finally, for bar plots, you can use <code>fct_infreq()</code> to order levels in increasing frequency: this is the simplest type of reordering because it doesn’t need any extra variables.
You may want to combine with <code>fct_rev()</code>.</p>
<div class="sourceCode" id="cb395"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb395-1"><a href="factors.html#cb395-1" aria-hidden="true" tabindex="-1"></a>gss_cat <span class="sc">%&gt;%</span></span>
<span id="cb395-2"><a href="factors.html#cb395-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">marital =</span> marital <span class="sc">%&gt;%</span> <span class="fu">fct_infreq</span>() <span class="sc">%&gt;%</span> <span class="fu">fct_rev</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb395-3"><a href="factors.html#cb395-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(marital)) <span class="sc">+</span></span>
<span id="cb395-4"><a href="factors.html#cb395-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>()</span></code></pre></div>
<p><img src="factors_files/figure-html/unnamed-chunk-22-1.png" width="70%" style="display: block; margin: auto;" /></p>
<div id="exercises-45" class="section level3" number="20.4.1">
<h3><span class="header-section-number">20.4.1</span> Exercises</h3>
<ol style="list-style-type: decimal">
<li><p>There are some suspiciously high numbers in <code>tvhours</code>.
Is the mean a good summary?</p></li>
<li><p>For each factor in <code>gss_cat</code> identify whether the order of the levels is arbitrary or principled.</p></li>
<li><p>Why did moving “Not applicable” to the front of the levels move it to the bottom of the plot?</p></li>
</ol>
</div>
</div>
<div id="modifying-factor-levels" class="section level2" number="20.5">
<h2><span class="header-section-number">20.5</span> Modifying factor levels</h2>
<p>More powerful than changing the orders of the levels is changing their values.
This allows you to clarify labels for publication, and collapse levels for high-level displays.
The most general and powerful tool is <code>fct_recode()</code>.
It allows you to recode, or change, the value of each level.
For example, take the <code>gss_cat$partyid</code>:</p>
<div class="sourceCode" id="cb396"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb396-1"><a href="factors.html#cb396-1" aria-hidden="true" tabindex="-1"></a>gss_cat <span class="sc">%&gt;%</span> <span class="fu">count</span>(partyid)</span>
<span id="cb396-2"><a href="factors.html#cb396-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 10 x 2[39m</span></span>
<span id="cb396-3"><a href="factors.html#cb396-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1mpartyid[22m                [1mn[22m</span></span>
<span id="cb396-4"><a href="factors.html#cb396-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[90m&lt;fct&gt;[39m[23m              [3m[90m&lt;int&gt;[39m[23m</span></span>
<span id="cb396-5"><a href="factors.html#cb396-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m No answer            154</span></span>
<span id="cb396-6"><a href="factors.html#cb396-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m Don&#39;t know             1</span></span>
<span id="cb396-7"><a href="factors.html#cb396-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m3[39m Other party          393</span></span>
<span id="cb396-8"><a href="factors.html#cb396-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m4[39m Strong republican   [4m2[24m314</span></span>
<span id="cb396-9"><a href="factors.html#cb396-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m5[39m Not str republican  [4m3[24m032</span></span>
<span id="cb396-10"><a href="factors.html#cb396-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m6[39m Ind,near rep        [4m1[24m791</span></span>
<span id="cb396-11"><a href="factors.html#cb396-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# ... with 4 more rows[39m</span></span></code></pre></div>
<p>The levels are terse and inconsistent.
Let’s tweak them to be longer and use a parallel construction.</p>
<div class="sourceCode" id="cb397"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb397-1"><a href="factors.html#cb397-1" aria-hidden="true" tabindex="-1"></a>gss_cat <span class="sc">%&gt;%</span></span>
<span id="cb397-2"><a href="factors.html#cb397-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">partyid =</span> <span class="fu">fct_recode</span>(partyid,</span>
<span id="cb397-3"><a href="factors.html#cb397-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Republican, strong&quot;</span>    <span class="ot">=</span> <span class="st">&quot;Strong republican&quot;</span>,</span>
<span id="cb397-4"><a href="factors.html#cb397-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Republican, weak&quot;</span>      <span class="ot">=</span> <span class="st">&quot;Not str republican&quot;</span>,</span>
<span id="cb397-5"><a href="factors.html#cb397-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Independent, near rep&quot;</span> <span class="ot">=</span> <span class="st">&quot;Ind,near rep&quot;</span>,</span>
<span id="cb397-6"><a href="factors.html#cb397-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Independent, near dem&quot;</span> <span class="ot">=</span> <span class="st">&quot;Ind,near dem&quot;</span>,</span>
<span id="cb397-7"><a href="factors.html#cb397-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Democrat, weak&quot;</span>        <span class="ot">=</span> <span class="st">&quot;Not str democrat&quot;</span>,</span>
<span id="cb397-8"><a href="factors.html#cb397-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Democrat, strong&quot;</span>      <span class="ot">=</span> <span class="st">&quot;Strong democrat&quot;</span></span>
<span id="cb397-9"><a href="factors.html#cb397-9" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span></span>
<span id="cb397-10"><a href="factors.html#cb397-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(partyid)</span>
<span id="cb397-11"><a href="factors.html#cb397-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 10 x 2[39m</span></span>
<span id="cb397-12"><a href="factors.html#cb397-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1mpartyid[22m                   [1mn[22m</span></span>
<span id="cb397-13"><a href="factors.html#cb397-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[90m&lt;fct&gt;[39m[23m                 [3m[90m&lt;int&gt;[39m[23m</span></span>
<span id="cb397-14"><a href="factors.html#cb397-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m No answer               154</span></span>
<span id="cb397-15"><a href="factors.html#cb397-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m Don&#39;t know                1</span></span>
<span id="cb397-16"><a href="factors.html#cb397-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m3[39m Other party             393</span></span>
<span id="cb397-17"><a href="factors.html#cb397-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m4[39m Republican, strong     [4m2[24m314</span></span>
<span id="cb397-18"><a href="factors.html#cb397-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m5[39m Republican, weak       [4m3[24m032</span></span>
<span id="cb397-19"><a href="factors.html#cb397-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m6[39m Independent, near rep  [4m1[24m791</span></span>
<span id="cb397-20"><a href="factors.html#cb397-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# ... with 4 more rows[39m</span></span></code></pre></div>
<p><code>fct_recode()</code> will leave levels that aren’t explicitly mentioned as is, and will warn you if you accidentally refer to a level that doesn’t exist.</p>
<p>To combine groups, you can assign multiple old levels to the same new level:</p>
<div class="sourceCode" id="cb398"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb398-1"><a href="factors.html#cb398-1" aria-hidden="true" tabindex="-1"></a>gss_cat <span class="sc">%&gt;%</span></span>
<span id="cb398-2"><a href="factors.html#cb398-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">partyid =</span> <span class="fu">fct_recode</span>(partyid,</span>
<span id="cb398-3"><a href="factors.html#cb398-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Republican, strong&quot;</span>    <span class="ot">=</span> <span class="st">&quot;Strong republican&quot;</span>,</span>
<span id="cb398-4"><a href="factors.html#cb398-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Republican, weak&quot;</span>      <span class="ot">=</span> <span class="st">&quot;Not str republican&quot;</span>,</span>
<span id="cb398-5"><a href="factors.html#cb398-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Independent, near rep&quot;</span> <span class="ot">=</span> <span class="st">&quot;Ind,near rep&quot;</span>,</span>
<span id="cb398-6"><a href="factors.html#cb398-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Independent, near dem&quot;</span> <span class="ot">=</span> <span class="st">&quot;Ind,near dem&quot;</span>,</span>
<span id="cb398-7"><a href="factors.html#cb398-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Democrat, weak&quot;</span>        <span class="ot">=</span> <span class="st">&quot;Not str democrat&quot;</span>,</span>
<span id="cb398-8"><a href="factors.html#cb398-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Democrat, strong&quot;</span>      <span class="ot">=</span> <span class="st">&quot;Strong democrat&quot;</span>,</span>
<span id="cb398-9"><a href="factors.html#cb398-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Other&quot;</span>                 <span class="ot">=</span> <span class="st">&quot;No answer&quot;</span>,</span>
<span id="cb398-10"><a href="factors.html#cb398-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Other&quot;</span>                 <span class="ot">=</span> <span class="st">&quot;Don&#39;t know&quot;</span>,</span>
<span id="cb398-11"><a href="factors.html#cb398-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Other&quot;</span>                 <span class="ot">=</span> <span class="st">&quot;Other party&quot;</span></span>
<span id="cb398-12"><a href="factors.html#cb398-12" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span></span>
<span id="cb398-13"><a href="factors.html#cb398-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(partyid)</span>
<span id="cb398-14"><a href="factors.html#cb398-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 8 x 2[39m</span></span>
<span id="cb398-15"><a href="factors.html#cb398-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1mpartyid[22m                   [1mn[22m</span></span>
<span id="cb398-16"><a href="factors.html#cb398-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[90m&lt;fct&gt;[39m[23m                 [3m[90m&lt;int&gt;[39m[23m</span></span>
<span id="cb398-17"><a href="factors.html#cb398-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m Other                   548</span></span>
<span id="cb398-18"><a href="factors.html#cb398-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m Republican, strong     [4m2[24m314</span></span>
<span id="cb398-19"><a href="factors.html#cb398-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m3[39m Republican, weak       [4m3[24m032</span></span>
<span id="cb398-20"><a href="factors.html#cb398-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m4[39m Independent, near rep  [4m1[24m791</span></span>
<span id="cb398-21"><a href="factors.html#cb398-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m5[39m Independent            [4m4[24m119</span></span>
<span id="cb398-22"><a href="factors.html#cb398-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m6[39m Independent, near dem  [4m2[24m499</span></span>
<span id="cb398-23"><a href="factors.html#cb398-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# ... with 2 more rows[39m</span></span></code></pre></div>
<p>You must use this technique with care: if you group together categories that are truly different you will end up with misleading results.</p>
<p>If you want to collapse a lot of levels, <code>fct_collapse()</code> is a useful variant of <code>fct_recode()</code>.
For each new variable, you can provide a vector of old levels:</p>
<div class="sourceCode" id="cb399"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb399-1"><a href="factors.html#cb399-1" aria-hidden="true" tabindex="-1"></a>gss_cat <span class="sc">%&gt;%</span></span>
<span id="cb399-2"><a href="factors.html#cb399-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">partyid =</span> <span class="fu">fct_collapse</span>(partyid,</span>
<span id="cb399-3"><a href="factors.html#cb399-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">other =</span> <span class="fu">c</span>(<span class="st">&quot;No answer&quot;</span>, <span class="st">&quot;Don&#39;t know&quot;</span>, <span class="st">&quot;Other party&quot;</span>),</span>
<span id="cb399-4"><a href="factors.html#cb399-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">rep =</span> <span class="fu">c</span>(<span class="st">&quot;Strong republican&quot;</span>, <span class="st">&quot;Not str republican&quot;</span>),</span>
<span id="cb399-5"><a href="factors.html#cb399-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">ind =</span> <span class="fu">c</span>(<span class="st">&quot;Ind,near rep&quot;</span>, <span class="st">&quot;Independent&quot;</span>, <span class="st">&quot;Ind,near dem&quot;</span>),</span>
<span id="cb399-6"><a href="factors.html#cb399-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">dem =</span> <span class="fu">c</span>(<span class="st">&quot;Not str democrat&quot;</span>, <span class="st">&quot;Strong democrat&quot;</span>)</span>
<span id="cb399-7"><a href="factors.html#cb399-7" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span></span>
<span id="cb399-8"><a href="factors.html#cb399-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(partyid)</span>
<span id="cb399-9"><a href="factors.html#cb399-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 4 x 2[39m</span></span>
<span id="cb399-10"><a href="factors.html#cb399-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1mpartyid[22m     [1mn[22m</span></span>
<span id="cb399-11"><a href="factors.html#cb399-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[90m&lt;fct&gt;[39m[23m   [3m[90m&lt;int&gt;[39m[23m</span></span>
<span id="cb399-12"><a href="factors.html#cb399-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m other     548</span></span>
<span id="cb399-13"><a href="factors.html#cb399-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m rep      [4m5[24m346</span></span>
<span id="cb399-14"><a href="factors.html#cb399-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m3[39m ind      [4m8[24m409</span></span>
<span id="cb399-15"><a href="factors.html#cb399-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m4[39m dem      [4m7[24m180</span></span></code></pre></div>
<p>Sometimes you just want to lump together all the small groups to make a plot or table simpler.
That’s the job of the <code>fct_lump_*()</code> family of functions.
<code>fct_lump_lowfreq()</code> is a simple starting point that progressively lumps the smallest groups categories into “Other”, always keeping “Other” as the smallest category.</p>
<div class="sourceCode" id="cb400"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb400-1"><a href="factors.html#cb400-1" aria-hidden="true" tabindex="-1"></a>gss_cat <span class="sc">%&gt;%</span></span>
<span id="cb400-2"><a href="factors.html#cb400-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">relig =</span> <span class="fu">fct_lump_lowfreq</span>(relig)) <span class="sc">%&gt;%</span></span>
<span id="cb400-3"><a href="factors.html#cb400-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(relig)</span>
<span id="cb400-4"><a href="factors.html#cb400-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 2 x 2[39m</span></span>
<span id="cb400-5"><a href="factors.html#cb400-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1mrelig[22m          [1mn[22m</span></span>
<span id="cb400-6"><a href="factors.html#cb400-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[90m&lt;fct&gt;[39m[23m      [3m[90m&lt;int&gt;[39m[23m</span></span>
<span id="cb400-7"><a href="factors.html#cb400-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m Protestant [4m1[24m[4m0[24m846</span></span>
<span id="cb400-8"><a href="factors.html#cb400-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m Other      [4m1[24m[4m0[24m637</span></span></code></pre></div>
<p>In this case it’s not very helpful: it is true that the majority of Americans in this survey are Protestant, but we’d probably like to see some more details!
Instead, we can use the <code>fct_lump_n()</code> to specify that we want exactly 10 groups:</p>
<div class="sourceCode" id="cb401"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb401-1"><a href="factors.html#cb401-1" aria-hidden="true" tabindex="-1"></a>gss_cat <span class="sc">%&gt;%</span></span>
<span id="cb401-2"><a href="factors.html#cb401-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">relig =</span> <span class="fu">fct_lump_n</span>(relig, <span class="at">n =</span> <span class="dv">10</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb401-3"><a href="factors.html#cb401-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(relig, <span class="at">sort =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb401-4"><a href="factors.html#cb401-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="at">n =</span> <span class="cn">Inf</span>)</span>
<span id="cb401-5"><a href="factors.html#cb401-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 10 x 2[39m</span></span>
<span id="cb401-6"><a href="factors.html#cb401-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    [1mrelig[22m                       [1mn[22m</span></span>
<span id="cb401-7"><a href="factors.html#cb401-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    [3m[90m&lt;fct&gt;[39m[23m                   [3m[90m&lt;int&gt;[39m[23m</span></span>
<span id="cb401-8"><a href="factors.html#cb401-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m 1[39m Protestant              [4m1[24m[4m0[24m846</span></span>
<span id="cb401-9"><a href="factors.html#cb401-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m 2[39m Catholic                 [4m5[24m124</span></span>
<span id="cb401-10"><a href="factors.html#cb401-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m 3[39m None                     [4m3[24m523</span></span>
<span id="cb401-11"><a href="factors.html#cb401-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m 4[39m Christian                 689</span></span>
<span id="cb401-12"><a href="factors.html#cb401-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m 5[39m Other                     458</span></span>
<span id="cb401-13"><a href="factors.html#cb401-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m 6[39m Jewish                    388</span></span>
<span id="cb401-14"><a href="factors.html#cb401-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m 7[39m Buddhism                  147</span></span>
<span id="cb401-15"><a href="factors.html#cb401-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m 8[39m Inter-nondenominational   109</span></span>
<span id="cb401-16"><a href="factors.html#cb401-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m 9[39m Moslem/islam              104</span></span>
<span id="cb401-17"><a href="factors.html#cb401-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m10[39m Orthodox-christian         95</span></span></code></pre></div>
<div id="exercises-46" class="section level3" number="20.5.1">
<h3><span class="header-section-number">20.5.1</span> Exercises</h3>
<ol style="list-style-type: decimal">
<li><p>How have the proportions of people identifying as Democrat, Republican, and Independent changed over time?</p></li>
<li><p>How could you collapse <code>rincome</code> into a small set of categories?</p></li>
<li><p>Notice there are 9 groups (excluding other) in the <code>fct_lump</code> example above.
Why not 10?
(Hint: type <code>?fct_lump</code>, and find the default for the argument <code>other_level</code> is “Other”.)</p></li>
</ol>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="regular-expressions.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="dates-and-times.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/hadley/r4ds/edit/master/factors.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "lunr",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
